/* LiveLike EngagementSDK */
/* Version 2.3.2 */
/* eslint-disable */
(function(){if(window.Reflect===undefined||window.customElements===undefined||window.customElements.polyfillWrapFlushCallback){return;}const BuiltInHTMLElement=HTMLElement;const wrapperForTheName={HTMLElement: /** @this {!Object} */ function HTMLElement(){return Reflect.construct(BuiltInHTMLElement,[],/** @type {!Function} */(this.constructor));},};window.HTMLElement=wrapperForTheName['HTMLElement'];HTMLElement.prototype=BuiltInHTMLElement.prototype;HTMLElement.prototype.constructor=HTMLElement;Object.setPrototypeOf(HTMLElement,BuiltInHTMLElement);})();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).LiveLike={})}(this,(function(e){"use strict";function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=t((function(e){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)})),r=(n.version,t((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}))),i=t((function(e){var t=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:n.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),o=0,a=Math.random(),s=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+a).toString(36))},u=t((function(e){var t=i("wks"),n=r.Symbol,o="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=o&&n[e]||(o?n:s)("Symbol."+e))}).store=t})),c=function(e){return"object"==typeof e?null!==e:"function"==typeof e},l=function(e){if(!c(e))throw TypeError(e+" is not an object!");return e},d=function(e){try{return!!e()}catch(e){return!0}},f=!d((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),p=r.document,h=c(p)&&c(p.createElement),v=function(e){return h?p.createElement(e):{}},g=!f&&!d((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),y=function(e,t){if(!c(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!c(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},m=Object.defineProperty,b={f:f?Object.defineProperty:function(e,t,n){if(l(e),t=y(t,!0),l(n),g)try{return m(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},k=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},_=f?function(e,t,n){return b.f(e,t,k(1,n))}:function(e,t,n){return e[t]=n,e},w=u("unscopables"),P=Array.prototype;null==P[w]&&_(P,w,{});var S=function(e){P[w][e]=!0},O=function(e,t){return{value:t,done:!!e}},T={},x={}.toString,L=function(e){return x.call(e).slice(8,-1)},E=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==L(e)?e.split(""):Object(e)},C=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},R=function(e){return E(C(e))},M={}.hasOwnProperty,A=function(e,t){return M.call(e,t)},j=i("native-function-to-string",Function.toString),N=t((function(e){var t=s("src"),i=(""+j).split("toString");n.inspectSource=function(e){return j.call(e)},(e.exports=function(e,n,o,a){var s="function"==typeof o;s&&(A(o,"name")||_(o,"name",n)),e[n]!==o&&(s&&(A(o,t)||_(o,t,e[n]?""+e[n]:i.join(String(n)))),e===r?e[n]=o:a?e[n]?e[n]=o:_(e,n,o):(delete e[n],_(e,n,o)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[t]||j.call(this)}))})),I=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},U=function(e,t,n){if(I(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},D=function(e,t,i){var o,a,s,u,c=e&D.F,l=e&D.G,d=e&D.S,f=e&D.P,p=e&D.B,h=l?r:d?r[t]||(r[t]={}):(r[t]||{}).prototype,v=l?n:n[t]||(n[t]={}),g=v.prototype||(v.prototype={});for(o in l&&(i=t),i)s=((a=!c&&h&&void 0!==h[o])?h:i)[o],u=p&&a?U(s,r):f&&"function"==typeof s?U(Function.call,s):s,h&&N(h,o,s,e&D.U),v[o]!=s&&_(v,o,u),f&&g[o]!=s&&(g[o]=s)};r.core=n,D.F=1,D.G=2,D.S=4,D.P=8,D.B=16,D.W=32,D.U=64,D.R=128;var F=D,B=Math.ceil,K=Math.floor,G=function(e){return isNaN(e=+e)?0:(e>0?K:B)(e)},q=Math.min,H=function(e){return e>0?q(G(e),9007199254740991):0},z=Math.max,V=Math.min,W=function(e){return function(t,n,r){var i,o=R(t),a=H(o.length),s=function(e,t){return(e=G(e))<0?z(e+t,0):V(e,t)}(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Y=i("keys"),$=function(e){return Y[e]||(Y[e]=s(e))},J=W(!1),X=$("IE_PROTO"),Q=function(e,t){var n,r=R(e),i=0,o=[];for(n in r)n!=X&&A(r,n)&&o.push(n);for(;t.length>i;)A(r,n=t[i++])&&(~J(o,n)||o.push(n));return o},Z="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ee=Object.keys||function(e){return Q(e,Z)},te=f?Object.defineProperties:function(e,t){l(e);for(var n,r=ee(t),i=r.length,o=0;i>o;)b.f(e,n=r[o++],t[n]);return e},ne=r.document,re=ne&&ne.documentElement,ie=$("IE_PROTO"),oe=function(){},ae=function(){var e,t=v("iframe"),n=Z.length;for(t.style.display="none",re.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),ae=e.F;n--;)delete ae.prototype[Z[n]];return ae()},se=Object.create||function(e,t){var n;return null!==e?(oe.prototype=l(e),n=new oe,oe.prototype=null,n[ie]=e):n=ae(),void 0===t?n:te(n,t)},ue=b.f,ce=u("toStringTag"),le=function(e,t,n){e&&!A(e=n?e:e.prototype,ce)&&ue(e,ce,{configurable:!0,value:t})},de={};_(de,u("iterator"),(function(){return this}));var fe=function(e,t,n){e.prototype=se(de,{next:k(1,n)}),le(e,t+" Iterator")},pe=function(e){return Object(C(e))},he=$("IE_PROTO"),ve=Object.prototype,ge=Object.getPrototypeOf||function(e){return e=pe(e),A(e,he)?e[he]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ve:null},ye=u("iterator"),me=!([].keys&&"next"in[].keys()),be=function(){return this},ke=function(e,t,n,r,i,o,a){fe(n,t,r);var s,u,c,l=function(e){if(!me&&e in h)return h[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},d=t+" Iterator",f="values"==i,p=!1,h=e.prototype,v=h[ye]||h["@@iterator"]||i&&h[i],g=v||l(i),y=i?f?l("entries"):g:void 0,m="Array"==t&&h.entries||v;if(m&&(c=ge(m.call(new e)))!==Object.prototype&&c.next&&(le(c,d,!0),"function"!=typeof c[ye]&&_(c,ye,be)),f&&v&&"values"!==v.name&&(p=!0,g=function(){return v.call(this)}),(me||p||!h[ye])&&_(h,ye,g),T[t]=g,T[d]=be,i)if(s={values:f?g:l("values"),keys:o?g:l("keys"),entries:y},a)for(u in s)u in h||N(h,u,s[u]);else F(F.P+F.F*(me||p),t,s);return s},_e=ke(Array,"Array",(function(e,t){this._t=R(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,O(1)):O(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values");T.Arguments=T.Array,S("keys"),S("values"),S("entries");for(var we=u("iterator"),Pe=u("toStringTag"),Se=T.Array,Oe={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Te=ee(Oe),xe=0;xe<Te.length;xe++){var Le,Ee=Te[xe],Ce=Oe[Ee],Re=r[Ee],Me=Re&&Re.prototype;if(Me&&(Me[we]||_(Me,we,Se),Me[Pe]||_(Me,Pe,Ee),T[Ee]=Se,Ce))for(Le in _e)Me[Le]||N(Me,Le,_e[Le],!0)}!function(e,t){var r=(n.Object||{})[e]||Object[e],i={};i[e]=t(r),F(F.S+F.F*d((function(){r(1)})),"Object",i)}("keys",(function(){return function(e){return ee(pe(e))}}));var Ae=Array.isArray||function(e){return"Array"==L(e)},je=u("species"),Ne=function(e,t){return new(function(e){var t;return Ae(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!Ae(t.prototype)||(t=void 0),c(t)&&null===(t=t[je])&&(t=void 0)),void 0===t?Array:t}(e))(t)},Ie=function(e,t){var n=1==e,r=2==e,i=3==e,o=4==e,a=6==e,s=5==e||a,u=t||Ne;return function(t,c,l){for(var d,f,p=pe(t),h=E(p),v=U(c,l,3),g=H(h.length),y=0,m=n?u(t,g):r?u(t,0):void 0;g>y;y++)if((s||y in h)&&(f=v(d=h[y],y,p),e))if(n)m[y]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:m.push(d)}else if(o)return!1;return a?-1:i||o?o:m}},Ue=Ie(6),De="findIndex",Fe=!0;De in[]&&Array(1)[De]((function(){Fe=!1})),F(F.P+F.F*Fe,"Array",{findIndex:function(e){return Ue(this,e,arguments.length>1?arguments[1]:void 0)}}),S(De);var Be={f:Object.getOwnPropertySymbols},Ke={f:{}.propertyIsEnumerable},Ge=Object.assign,qe=!Ge||d((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Ge({},e)[n]||Object.keys(Ge({},t)).join("")!=r}))?function(e,t){for(var n=pe(e),r=arguments.length,i=1,o=Be.f,a=Ke.f;r>i;)for(var s,u=E(arguments[i++]),c=o?ee(u).concat(o(u)):ee(u),l=c.length,d=0;l>d;)s=c[d++],f&&!a.call(u,s)||(n[s]=u[s]);return n}:Ge;F(F.S+F.F,"Object",{assign:qe});var He,ze,Ve,We=u("toStringTag"),Ye="Arguments"==L(function(){return arguments}()),$e=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),We))?n:Ye?L(t):"Object"==(r=L(t))&&"function"==typeof t.callee?"Arguments":r},Je=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e},Xe=function(e,t,n,r){try{return r?t(l(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&l(i.call(e)),t}},Qe=u("iterator"),Ze=Array.prototype,et=function(e){return void 0!==e&&(T.Array===e||Ze[Qe]===e)},tt=u("iterator"),nt=n.getIteratorMethod=function(e){if(null!=e)return e[tt]||e["@@iterator"]||T[$e(e)]},rt=t((function(e){var t={},n={},r=e.exports=function(e,r,i,o,a){var s,u,c,d,f=a?function(){return e}:nt(e),p=U(i,o,r?2:1),h=0;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(et(f)){for(s=H(e.length);s>h;h++)if((d=r?p(l(u=e[h])[0],u[1]):p(e[h]))===t||d===n)return d}else for(c=f.call(e);!(u=c.next()).done;)if((d=Xe(c,p,u.value,r))===t||d===n)return d};r.BREAK=t,r.RETURN=n})),it=u("species"),ot=function(e,t){var n,r=l(e).constructor;return void 0===r||null==(n=l(r)[it])?t:I(n)},at=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)},st=r.process,ut=r.setImmediate,ct=r.clearImmediate,lt=r.MessageChannel,dt=r.Dispatch,ft=0,pt={},ht=function(){var e=+this;if(pt.hasOwnProperty(e)){var t=pt[e];delete pt[e],t()}},vt=function(e){ht.call(e.data)};ut&&ct||(ut=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return pt[++ft]=function(){at("function"==typeof e?e:Function(e),t)},He(ft),ft},ct=function(e){delete pt[e]},"process"==L(st)?He=function(e){st.nextTick(U(ht,e,1))}:dt&&dt.now?He=function(e){dt.now(U(ht,e,1))}:lt?(Ve=(ze=new lt).port2,ze.port1.onmessage=vt,He=U(Ve.postMessage,Ve,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts?(He=function(e){r.postMessage(e+"","*")},r.addEventListener("message",vt,!1)):He="onreadystatechange"in v("script")?function(e){re.appendChild(v("script")).onreadystatechange=function(){re.removeChild(this),ht.call(e)}}:function(e){setTimeout(U(ht,e,1),0)});var gt={set:ut,clear:ct},yt=gt.set,mt=r.MutationObserver||r.WebKitMutationObserver,bt=r.process,kt=r.Promise,_t="process"==L(bt);function wt(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=I(t),this.reject=I(n)}var Pt={f:function(e){return new wt(e)}},St=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}},Ot=r.navigator,Tt=Ot&&Ot.userAgent||"",xt=function(e,t,n){for(var r in t)N(e,r,t[r],n);return e},Lt=u("species"),Et=function(e){var t=r[e];f&&t&&!t[Lt]&&b.f(t,Lt,{configurable:!0,get:function(){return this}})},Ct=u("iterator"),Rt=!1;try{var Mt=[7][Ct]();Mt.return=function(){Rt=!0},Array.from(Mt,(function(){throw 2}))}catch(e){}var At,jt,Nt,It,Ut=function(e,t){if(!t&&!Rt)return!1;var n=!1;try{var r=[7],i=r[Ct]();i.next=function(){return{done:n=!0}},r[Ct]=function(){return i},e(r)}catch(e){}return n},Dt=gt.set,Ft=function(){var e,t,n,i=function(){var r,i;for(_t&&(r=bt.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(_t)n=function(){bt.nextTick(i)};else if(!mt||r.navigator&&r.navigator.standalone)if(kt&&kt.resolve){var o=kt.resolve(void 0);n=function(){o.then(i)}}else n=function(){yt.call(r,i)};else{var a=!0,s=document.createTextNode("");new mt(i).observe(s,{characterData:!0}),n=function(){s.data=a=!a}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}(),Bt=r.TypeError,Kt=r.process,Gt=Kt&&Kt.versions,qt=Gt&&Gt.v8||"",Ht=r.Promise,zt="process"==$e(Kt),Vt=function(){},Wt=jt=Pt.f,Yt=!!function(){try{var e=Ht.resolve(1),t=(e.constructor={})[u("species")]=function(e){e(Vt,Vt)};return(zt||"function"==typeof PromiseRejectionEvent)&&e.then(Vt)instanceof t&&0!==qt.indexOf("6.6")&&-1===Tt.indexOf("Chrome/66")}catch(e){}}(),$t=function(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t},Jt=function(e,t){if(!e._n){e._n=!0;var n=e._c;Ft((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(i||(2==e._h&&Zt(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?c(Bt("Promise-chain cycle")):(o=$t(n))?o.call(n,u,c):u(n)):c(r)}catch(e){l&&!a&&l.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&Xt(e)}))}},Xt=function(e){Dt.call(r,(function(){var t,n,i,o=e._v,a=Qt(e);if(a&&(t=St((function(){zt?Kt.emit("unhandledRejection",o,e):(n=r.onunhandledrejection)?n({promise:e,reason:o}):(i=r.console)&&i.error&&i.error("Unhandled promise rejection",o)})),e._h=zt||Qt(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},Qt=function(e){return 1!==e._h&&0===(e._a||e._c).length},Zt=function(e){Dt.call(r,(function(){var t;zt?Kt.emit("rejectionHandled",e):(t=r.onrejectionhandled)&&t({promise:e,reason:e._v})}))},en=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),Jt(t,!0))},tn=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw Bt("Promise can't be resolved itself");(t=$t(e))?Ft((function(){var r={_w:n,_d:!1};try{t.call(e,U(tn,r,1),U(en,r,1))}catch(e){en.call(r,e)}})):(n._v=e,n._s=1,Jt(n,!1))}catch(e){en.call({_w:n,_d:!1},e)}}};Yt||(Ht=function(e){Je(this,Ht,"Promise","_h"),I(e),At.call(this);try{e(U(tn,this,1),U(en,this,1))}catch(e){en.call(this,e)}},(At=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=xt(Ht.prototype,{then:function(e,t){var n=Wt(ot(this,Ht));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=zt?Kt.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Jt(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),Nt=function(){var e=new At;this.promise=e,this.resolve=U(tn,e,1),this.reject=U(en,e,1)},Pt.f=Wt=function(e){return e===Ht||e===It?new Nt(e):jt(e)}),F(F.G+F.W+F.F*!Yt,{Promise:Ht}),le(Ht,"Promise"),Et("Promise"),It=n.Promise,F(F.S+F.F*!Yt,"Promise",{reject:function(e){var t=Wt(this);return(0,t.reject)(e),t.promise}}),F(F.S+F.F*!Yt,"Promise",{resolve:function(e){return function(e,t){if(l(e),c(t)&&t.constructor===e)return t;var n=Pt.f(e);return(0,n.resolve)(t),n.promise}(this,e)}}),F(F.S+F.F*!(Yt&&Ut((function(e){Ht.all(e).catch(Vt)}))),"Promise",{all:function(e){var t=this,n=Wt(t),r=n.resolve,i=n.reject,o=St((function(){var n=[],o=0,a=1;rt(e,!1,(function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=Wt(t),r=n.reject,i=St((function(){rt(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}});var nn={};nn[u("toStringTag")]="z",nn+""!="[object z]"&&N(Object.prototype,"toString",(function(){return"[object "+$e(this)+"]"}),!0);var rn=function(e){return function(t,n){var r,i,o=String(C(t)),a=G(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},on=rn(!0);ke(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=on(t,n),this._i+=e.length,{value:e,done:!1})}));var an=t((function(e){var t=s("meta"),n=b.f,r=0,i=Object.isExtensible||function(){return!0},o=!d((function(){return i(Object.preventExtensions({}))})),a=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},u=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!c(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!A(e,t)){if(!i(e))return"F";if(!n)return"E";a(e)}return e[t].i},getWeak:function(e,n){if(!A(e,t)){if(!i(e))return!0;if(!n)return!1;a(e)}return e[t].w},onFreeze:function(e){return o&&u.NEED&&i(e)&&!A(e,t)&&a(e),e}}})),sn=(an.KEY,an.NEED,an.fastKey,an.getWeak,an.onFreeze,function(e,t){if(!c(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}),un=b.f,cn=an.fastKey,ln=f?"_s":"size",dn=function(e,t){var n,r=cn(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n},fn={getConstructor:function(e,t,n,r){var i=e((function(e,o){Je(e,i,t,"_i"),e._t=t,e._i=se(null),e._f=void 0,e._l=void 0,e[ln]=0,null!=o&&rt(o,n,e[r],e)}));return xt(i.prototype,{clear:function(){for(var e=sn(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[ln]=0},delete:function(e){var n=sn(this,t),r=dn(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[ln]--}return!!r},forEach:function(e){sn(this,t);for(var n,r=U(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!dn(sn(this,t),e)}}),f&&un(i.prototype,"size",{get:function(){return sn(this,t)[ln]}}),i},def:function(e,t,n){var r,i,o=dn(e,t);return o?o.v=n:(e._l=o={i:i=cn(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[ln]++,"F"!==i&&(e._i[i]=o)),e},getEntry:dn,setStrong:function(e,t,n){ke(e,t,(function(e,n){this._t=sn(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?O(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,O(1))}),n?"entries":"values",!n,!0),Et(t)}},pn=Object.getOwnPropertyDescriptor,hn={f:f?pn:function(e,t){if(e=R(e),t=y(t,!0),g)try{return pn(e,t)}catch(e){}if(A(e,t))return k(!Ke.f.call(e,t),e[t])}},vn=function(e,t){if(l(e),!c(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},gn={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=U(Function.call,hn.f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return vn(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:vn}.set,yn=function(e,t,n){var r,i=t.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&c(r)&&gn&&gn(e,r),e},mn=function(e,t,n,i,o,a){var s=r[e],u=s,l=o?"set":"add",f=u&&u.prototype,p={},h=function(e){var t=f[e];N(f,e,"delete"==e||"has"==e?function(e){return!(a&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof u&&(a||f.forEach&&!d((function(){(new u).entries().next()})))){var v=new u,g=v[l](a?{}:-0,1)!=v,y=d((function(){v.has(1)})),m=Ut((function(e){new u(e)})),b=!a&&d((function(){for(var e=new u,t=5;t--;)e[l](t,t);return!e.has(-0)}));m||((u=t((function(t,n){Je(t,u,e);var r=yn(new s,t,u);return null!=n&&rt(n,o,r[l],r),r}))).prototype=f,f.constructor=u),(y||b)&&(h("delete"),h("has"),o&&h("get")),(b||g)&&h(l),a&&f.clear&&delete f.clear}else u=i.getConstructor(t,e,o,l),xt(u.prototype,n),an.NEED=!0;return le(u,e),p[e]=u,F(F.G+F.W+F.F*(u!=s),p),a||i.setStrong(u,e,o),u};mn("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return fn.def(sn(this,"Set"),e=0===e?0:e,e)}},fn);function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t,n){return t&&wn(e.prototype,t),n&&wn(e,n),e}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ln(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function En(e,t,n){return(En=Ln()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&xn(i,n.prototype),i}).apply(null,arguments)}function Cn(e){var t="function"==typeof Map?new Map:void 0;return(Cn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return En(e,arguments,Tn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),xn(r,e)})(e)}function Rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Rn(e):t}function An(e,t,n){return(An="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function jn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Nn(e){return function(e){if(Array.isArray(e))return In(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return In(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Un=function(e,t,n){t in e?b.f(e,t,k(0,n)):e[t]=n};F(F.S+F.F*!Ut((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,r,i,o=pe(e),a="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,c=void 0!==u,l=0,d=nt(o);if(c&&(u=U(u,s>2?arguments[2]:void 0,2)),null==d||a==Array&&et(d))for(n=new a(t=H(o.length));t>l;l++)Un(n,l,c?u(o[l],l):o[l]);else for(i=d.call(o),n=new a;!(r=i.next()).done;l++)Un(n,l,c?Xe(i,u,[r.value,l],!0):r.value);return n.length=l,n}});mn("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=fn.getEntry(sn(this,"Map"),e);return t&&t.v},set:function(e,t){return fn.def(sn(this,"Map"),0===e?0:e,t)}},fn,!0);var Dn=an.getWeak,Fn=Ie(5),Bn=Ie(6),Kn=0,Gn=function(e){return e._l||(e._l=new qn)},qn=function(){this.a=[]},Hn=function(e,t){return Fn(e.a,(function(e){return e[0]===t}))};qn.prototype={get:function(e){var t=Hn(this,e);if(t)return t[1]},has:function(e){return!!Hn(this,e)},set:function(e,t){var n=Hn(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=Bn(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}};var zn={getConstructor:function(e,t,n,r){var i=e((function(e,o){Je(e,i,t,"_i"),e._t=t,e._i=Kn++,e._l=void 0,null!=o&&rt(o,n,e[r],e)}));return xt(i.prototype,{delete:function(e){if(!c(e))return!1;var n=Dn(e);return!0===n?Gn(sn(this,t)).delete(e):n&&A(n,this._i)&&delete n[this._i]},has:function(e){if(!c(e))return!1;var n=Dn(e);return!0===n?Gn(sn(this,t)).has(e):n&&A(n,this._i)}}),i},def:function(e,t,n){var r=Dn(l(t),!0);return!0===r?Gn(e).set(t,n):r[e._i]=n,e},ufstore:Gn},Vn=(t((function(e){var t,n=Ie(0),i=sn,o=!r.ActiveXObject&&"ActiveXObject"in r,a=an.getWeak,s=Object.isExtensible,u=zn.ufstore,l=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(e){if(c(e)){var t=a(e);return!0===t?u(sn(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return zn.def(sn(this,"WeakMap"),e,t)}},f=e.exports=mn("WeakMap",l,d,zn,!0,!0);i&&o&&(t=zn.getConstructor(l,"WeakMap"),qe(t.prototype,d),an.NEED=!0,n(["delete","has","get","set"],(function(e){var n=f.prototype,r=n[e];N(n,e,(function(n,i){if(c(n)&&!s(n)){this._f||(this._f=new t);var o=this._f[e](n,i);return"set"==e?this:o}return r.call(this,n,i)}))})))})),"undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback),Wn=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t!==n;){var r=t.nextSibling;e.removeChild(t),t=r}},Yn=u("match"),$n=function(e){var t;return c(e)&&(void 0!==(t=e[Yn])?!!t:"RegExp"==L(e))},Jn=rn(!0),Xn=function(e,t,n){return t+(n?Jn(e,t).length:1)},Qn=RegExp.prototype.exec,Zn=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==$e(e))throw new TypeError("RegExp#exec called on incompatible receiver");return Qn.call(e,t)},er=function(){var e=l(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},tr=RegExp.prototype.exec,nr=String.prototype.replace,rr=tr,ir=function(){var e=/a/,t=/b*/g;return tr.call(e,"a"),tr.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),or=void 0!==/()??/.exec("")[1];(ir||or)&&(rr=function(e){var t,n,r,i,o=this;return or&&(n=new RegExp("^"+o.source+"$(?!\\s)",er.call(o))),ir&&(t=o.lastIndex),r=tr.call(o,e),ir&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),or&&r&&r.length>1&&nr.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var ar=rr;F({target:"RegExp",proto:!0,forced:ar!==/./.exec},{exec:ar});var sr=u("species"),ur=!d((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),cr=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),lr=function(e,t,n){var r=u(e),i=!d((function(){var t={};return t[r]=function(){return 7},7!=""[e](t)})),o=i?!d((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[sr]=function(){return n}),n[r](""),!t})):void 0;if(!i||!o||"replace"===e&&!ur||"split"===e&&!cr){var a=/./[r],s=n(C,r,""[e],(function(e,t,n,r,o){return t.exec===ar?i&&!o?{done:!0,value:a.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),c=s[0],l=s[1];N(String.prototype,e,c),_(RegExp.prototype,r,2==t?function(e,t){return l.call(e,this,t)}:function(e){return l.call(e,this)})}},dr=Math.min,fr=[].push,pr="length",hr=!d((function(){RegExp(4294967295,"y")}));lr("split",2,(function(e,t,n,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[pr]||2!="ab".split(/(?:ab)*/)[pr]||4!=".".split(/(.?)(.?)/)[pr]||".".split(/()()/)[pr]>1||"".split(/.?/)[pr]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!$n(e))return n.call(r,e,t);for(var i,o,a,s=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,l=void 0===t?4294967295:t>>>0,d=new RegExp(e.source,u+"g");(i=ar.call(d,r))&&!((o=d.lastIndex)>c&&(s.push(r.slice(c,i.index)),i[pr]>1&&i.index<r[pr]&&fr.apply(s,i.slice(1)),a=i[0][pr],c=o,s[pr]>=l));)d.lastIndex===i.index&&d.lastIndex++;return c===r[pr]?!a&&d.test("")||s.push(""):s.push(r.slice(c)),s[pr]>l?s.slice(0,l):s}:"0".split(void 0,0)[pr]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},function(e,t){var o=r(i,e,this,t,i!==n);if(o.done)return o.value;var a=l(e),s=String(this),u=ot(a,RegExp),c=a.unicode,d=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(hr?"y":"g"),f=new u(hr?a:"^(?:"+a.source+")",d),p=void 0===t?4294967295:t>>>0;if(0===p)return[];if(0===s.length)return null===Zn(f,s)?[s]:[];for(var h=0,v=0,g=[];v<s.length;){f.lastIndex=hr?v:0;var y,m=Zn(f,hr?s:s.slice(v));if(null===m||(y=dr(H(f.lastIndex+(hr?0:v)),s.length))===h)v=Xn(s,v,c);else{if(g.push(s.slice(h,v)),g.length===p)return g;for(var b=1;b<=m.length-1;b++)if(g.push(m[b]),g.length===p)return g;v=h=y}}return g.push(s.slice(h)),g}]}));var vr=b.f,gr=Function.prototype,yr=/^\s*function ([^ (]*)/;"name"in gr||f&&vr(gr,"name",{configurable:!0,get:function(){try{return(""+this).match(yr)[1]}catch(e){return""}}});var mr=Z.concat("length","prototype"),br={f:Object.getOwnPropertyNames||function(e){return Q(e,mr)}},kr=b.f,_r=br.f,wr=r.RegExp,Pr=wr,Sr=wr.prototype,Or=/a/g,Tr=/a/g,xr=new wr(Or)!==Or;if(f&&(!xr||d((function(){return Tr[u("match")]=!1,wr(Or)!=Or||wr(Tr)==Tr||"/a/i"!=wr(Or,"i")})))){wr=function(e,t){var n=this instanceof wr,r=$n(e),i=void 0===t;return!n&&r&&e.constructor===wr&&i?e:yn(xr?new Pr(r&&!i?e.source:e,t):Pr((r=e instanceof wr)?e.source:e,r&&i?er.call(e):t),n?this:Sr,wr)};for(var Lr=function(e){e in wr||kr(wr,e,{configurable:!0,get:function(){return Pr[e]},set:function(t){Pr[e]=t}})},Er=_r(Pr),Cr=0;Er.length>Cr;)Lr(Er[Cr++]);Sr.constructor=wr,wr.prototype=Sr,N(r,"RegExp",wr)}Et("RegExp");
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
var Rr="{{lit-".concat(String(Math.random()).slice(2),"}}"),Mr="\x3c!--".concat(Rr,"--\x3e"),Ar=new RegExp("".concat(Rr,"|").concat(Mr)),jr=function e(t,n){_n(this,e),this.parts=[],this.element=n;for(var r=[],i=[],o=document.createTreeWalker(n.content,133,null,!1),a=0,s=-1,u=0,c=t.strings,l=t.values.length;u<l;){var d=o.nextNode();if(null!==d){if(s++,1===d.nodeType){if(d.hasAttributes()){for(var f=d.attributes,p=f.length,h=0,v=0;v<p;v++)Nr(f[v].name,"$lit$")&&h++;for(;h-- >0;){var g=c[u],y=Dr.exec(g)[2],m=y.toLowerCase()+"$lit$",b=d.getAttribute(m);d.removeAttribute(m);var k=b.split(Ar);this.parts.push({type:"attribute",index:s,name:y,strings:k}),u+=k.length-1}}"TEMPLATE"===d.tagName&&(i.push(d),o.currentNode=d.content)}else if(3===d.nodeType){var _=d.data;if(_.indexOf(Rr)>=0){for(var w=d.parentNode,P=_.split(Ar),S=P.length-1,O=0;O<S;O++){var T=void 0,x=P[O];if(""===x)T=Ur();else{var L=Dr.exec(x);null!==L&&Nr(L[2],"$lit$")&&(x=x.slice(0,L.index)+L[1]+L[2].slice(0,-"$lit$".length)+L[3]),T=document.createTextNode(x)}w.insertBefore(T,d),this.parts.push({type:"node",index:++s})}""===P[S]?(w.insertBefore(Ur(),d),r.push(d)):d.data=P[S],u+=S}}else if(8===d.nodeType)if(d.data===Rr){var E=d.parentNode;null!==d.previousSibling&&s!==a||(s++,E.insertBefore(Ur(),d)),a=s,this.parts.push({type:"node",index:s}),null===d.nextSibling?d.data="":(r.push(d),s--),u++}else for(var C=-1;-1!==(C=d.data.indexOf(Rr,C+1));)this.parts.push({type:"node",index:-1}),u++}else o.currentNode=i.pop()}for(var R=0,M=r;R<M.length;R++){var A=M[R];A.parentNode.removeChild(A)}},Nr=function(e,t){var n=e.length-t.length;return n>=0&&e.slice(n)===t},Ir=function(e){return-1!==e.index},Ur=function(){return document.createComment("")},Dr=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function Fr(e,t){for(var n=e.element.content,r=e.parts,i=document.createTreeWalker(n,133,null,!1),o=Kr(r),a=r[o],s=-1,u=0,c=[],l=null;i.nextNode();){s++;var d=i.currentNode;for(d.previousSibling===l&&(l=null),t.has(d)&&(c.push(d),null===l&&(l=d)),null!==l&&u++;void 0!==a&&a.index===s;)a.index=null!==l?-1:a.index-u,a=r[o=Kr(r,o)]}c.forEach((function(e){return e.parentNode.removeChild(e)}))}var Br=function(e){for(var t=11===e.nodeType?0:1,n=document.createTreeWalker(e,133,null,!1);n.nextNode();)t++;return t},Kr=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=t+1;n<e.length;n++){var r=e[n];if(Ir(r))return n}return-1};var Gr={f:u},qr=b.f,Hr=function(e){var t=n.Symbol||(n.Symbol=r.Symbol||{});"_"==e.charAt(0)||e in t||qr(t,e,{value:Gr.f(e)})};Hr("asyncIterator");var zr=br.f,Vr={}.toString,Wr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Yr={f:function(e){return Wr&&"[object Window]"==Vr.call(e)?function(e){try{return zr(e)}catch(e){return Wr.slice()}}(e):zr(R(e))}},$r=an.KEY,Jr=hn.f,Xr=b.f,Qr=Yr.f,Zr=r.Symbol,ei=r.JSON,ti=ei&&ei.stringify,ni=u("_hidden"),ri=u("toPrimitive"),ii={}.propertyIsEnumerable,oi=i("symbol-registry"),ai=i("symbols"),si=i("op-symbols"),ui=Object.prototype,ci="function"==typeof Zr&&!!Be.f,li=r.QObject,di=!li||!li.prototype||!li.prototype.findChild,fi=f&&d((function(){return 7!=se(Xr({},"a",{get:function(){return Xr(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Jr(ui,t);r&&delete ui[t],Xr(e,t,n),r&&e!==ui&&Xr(ui,t,r)}:Xr,pi=function(e){var t=ai[e]=se(Zr.prototype);return t._k=e,t},hi=ci&&"symbol"==typeof Zr.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof Zr},vi=function(e,t,n){return e===ui&&vi(si,t,n),l(e),t=y(t,!0),l(n),A(ai,t)?(n.enumerable?(A(e,ni)&&e[ni][t]&&(e[ni][t]=!1),n=se(n,{enumerable:k(0,!1)})):(A(e,ni)||Xr(e,ni,k(1,{})),e[ni][t]=!0),fi(e,t,n)):Xr(e,t,n)},gi=function(e,t){l(e);for(var n,r=function(e){var t=ee(e),n=Be.f;if(n)for(var r,i=n(e),o=Ke.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}(t=R(t)),i=0,o=r.length;o>i;)vi(e,n=r[i++],t[n]);return e},yi=function(e){var t=ii.call(this,e=y(e,!0));return!(this===ui&&A(ai,e)&&!A(si,e))&&(!(t||!A(this,e)||!A(ai,e)||A(this,ni)&&this[ni][e])||t)},mi=function(e,t){if(e=R(e),t=y(t,!0),e!==ui||!A(ai,t)||A(si,t)){var n=Jr(e,t);return!n||!A(ai,t)||A(e,ni)&&e[ni][t]||(n.enumerable=!0),n}},bi=function(e){for(var t,n=Qr(R(e)),r=[],i=0;n.length>i;)A(ai,t=n[i++])||t==ni||t==$r||r.push(t);return r},ki=function(e){for(var t,n=e===ui,r=Qr(n?si:R(e)),i=[],o=0;r.length>o;)!A(ai,t=r[o++])||n&&!A(ui,t)||i.push(ai[t]);return i};ci||(N((Zr=function(){if(this instanceof Zr)throw TypeError("Symbol is not a constructor!");var e=s(arguments.length>0?arguments[0]:void 0),t=function(n){this===ui&&t.call(si,n),A(this,ni)&&A(this[ni],e)&&(this[ni][e]=!1),fi(this,e,k(1,n))};return f&&di&&fi(ui,e,{configurable:!0,set:t}),pi(e)}).prototype,"toString",(function(){return this._k})),hn.f=mi,b.f=vi,br.f=Yr.f=bi,Ke.f=yi,Be.f=ki,f&&N(ui,"propertyIsEnumerable",yi,!0),Gr.f=function(e){return pi(u(e))}),F(F.G+F.W+F.F*!ci,{Symbol:Zr});for(var _i="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),wi=0;_i.length>wi;)u(_i[wi++]);for(var Pi=ee(u.store),Si=0;Pi.length>Si;)Hr(Pi[Si++]);F(F.S+F.F*!ci,"Symbol",{for:function(e){return A(oi,e+="")?oi[e]:oi[e]=Zr(e)},keyFor:function(e){if(!hi(e))throw TypeError(e+" is not a symbol!");for(var t in oi)if(oi[t]===e)return t},useSetter:function(){di=!0},useSimple:function(){di=!1}}),F(F.S+F.F*!ci,"Object",{create:function(e,t){return void 0===t?se(e):gi(se(e),t)},defineProperty:vi,defineProperties:gi,getOwnPropertyDescriptor:mi,getOwnPropertyNames:bi,getOwnPropertySymbols:ki});var Oi=d((function(){Be.f(1)}));F(F.S+F.F*Oi,"Object",{getOwnPropertySymbols:function(e){return Be.f(pe(e))}}),ei&&F(F.S+F.F*(!ci||d((function(){var e=Zr();return"[null]"!=ti([e])||"{}"!=ti({a:e})||"{}"!=ti(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(c(t)||void 0!==e)&&!hi(e))return Ae(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!hi(t))return t}),r[1]=t,ti.apply(ei,r)}}),Zr.prototype[ri]||_(Zr.prototype,ri,Zr.prototype.valueOf),le(Zr,"Symbol"),le(Math,"Math",!0),le(r.JSON,"JSON",!0);
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
var Ti=new WeakMap,xi=function(e){return"function"==typeof e&&Ti.has(e)},Li={},Ei={},Ci=function(){function e(t,n,r){_n(this,e),this.__parts=[],this.template=t,this.processor=n,this.options=r}return Pn(e,[{key:"update",value:function(e){var t=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.__parts[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;void 0!==s&&s.setValue(e[t]),t++}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var u=!0,c=!1,l=void 0;try{for(var d,f=this.__parts[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;void 0!==p&&p.commit()}}catch(e){c=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}}},{key:"_clone",value:function(){for(var e,t=Vn?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,i=document.createTreeWalker(t,133,null,!1),o=0,a=0,s=i.nextNode();o<r.length;)if(e=r[o],Ir(e)){for(;a<e.index;)a++,"TEMPLATE"===s.nodeName&&(n.push(s),i.currentNode=s.content),null===(s=i.nextNode())&&(i.currentNode=n.pop(),s=i.nextNode());if("node"===e.type){var u=this.processor.handleTextExpression(this.options);u.insertAfterNode(s.previousSibling),this.__parts.push(u)}else{var c;(c=this.__parts).push.apply(c,Nn(this.processor.handleAttributeExpressions(s,e.name,e.strings,this.options)))}o++}else this.__parts.push(void 0),o++;return Vn&&(document.adoptNode(t),customElements.upgrade(t)),t}}]),e}(),Ri=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:function(e){return e}}),Mi=" ".concat(Rr," "),Ai=function(){function e(t,n,r,i){_n(this,e),this.strings=t,this.values=n,this.type=r,this.processor=i}return Pn(e,[{key:"getHTML",value:function(){for(var e=this.strings.length-1,t="",n=!1,r=0;r<e;r++){var i=this.strings[r],o=i.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===i.indexOf("--\x3e",o+1);var a=Dr.exec(i);t+=null===a?i+(n?Mi:Mr):i.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+Rr}return t+=this.strings[e]}},{key:"getTemplateElement",value:function(){var e=document.createElement("template"),t=this.getHTML();return void 0!==Ri&&(t=Ri.createHTML(t)),e.innerHTML=t,e}}]),e}(),ji=function(e){return null===e||!("object"===bn(e)||"function"==typeof e)},Ni=function(e){return Array.isArray(e)||!(!e||!e[Symbol.iterator])},Ii=function(){function e(t,n,r){_n(this,e),this.dirty=!0,this.element=t,this.name=n,this.strings=r,this.parts=[];for(var i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}return Pn(e,[{key:"_createPart",value:function(){return new Ui(this)}},{key:"_getValue",value:function(){var e=this.strings,t=e.length-1,n=this.parts;if(1===t&&""===e[0]&&""===e[1]){var r=n[0].value;if("symbol"===bn(r))return String(r);if("string"==typeof r||!Ni(r))return r}for(var i="",o=0;o<t;o++){i+=e[o];var a=n[o];if(void 0!==a){var s=a.value;if(ji(s)||!Ni(s))i+="string"==typeof s?s:String(s);else{var u=!0,c=!1,l=void 0;try{for(var d,f=s[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;i+="string"==typeof p?p:String(p)}}catch(e){c=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}}}}return i+=e[t]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),e}(),Ui=function(){function e(t){_n(this,e),this.value=void 0,this.committer=t}return Pn(e,[{key:"setValue",value:function(e){e===Li||ji(e)&&e===this.value||(this.value=e,xi(e)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;xi(this.value);){var e=this.value;this.value=Li,e(this)}this.value!==Li&&this.committer.commit()}}]),e}(),Di=function(){function e(t){_n(this,e),this.value=void 0,this.__pendingValue=void 0,this.options=t}return Pn(e,[{key:"appendInto",value:function(e){this.startNode=e.appendChild(Ur()),this.endNode=e.appendChild(Ur())}},{key:"insertAfterNode",value:function(e){this.startNode=e,this.endNode=e.nextSibling}},{key:"appendIntoPart",value:function(e){e.__insert(this.startNode=Ur()),e.__insert(this.endNode=Ur())}},{key:"insertAfterPart",value:function(e){e.__insert(this.startNode=Ur()),this.endNode=e.endNode,e.endNode=this.startNode}},{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;xi(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=Li,e(this)}var t=this.__pendingValue;t!==Li&&(ji(t)?t!==this.value&&this.__commitText(t):t instanceof Ai?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):Ni(t)?this.__commitIterable(t):t===Ei?(this.value=Ei,this.clear()):this.__commitText(t))}}},{key:"__insert",value:function(e){this.endNode.parentNode.insertBefore(e,this.endNode)}},{key:"__commitNode",value:function(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}},{key:"__commitText",value:function(e){var t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}},{key:"__commitTemplateResult",value:function(e){var t=this.options.templateFactory(e);if(this.value instanceof Ci&&this.value.template===t)this.value.update(e.values);else{var n=new Ci(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(t){Array.isArray(this.value)||(this.value=[],this.clear());var n,r=this.value,i=0,o=!0,a=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;void 0===(n=r[i])&&(n=new e(this.options),r.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(r[i-1])),n.setValue(l),n.commit(),i++}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}i<r.length&&(r.length=i,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;Wn(this.startNode.parentNode,e.nextSibling,this.endNode)}}]),e}(),Fi=function(){function e(t,n,r){if(_n(this,e),this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=r}return Pn(e,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;xi(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=Li,e(this)}if(this.__pendingValue!==Li){var t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=Li}}}]),e}(),Bi=function(e){function t(e,n,r){var i;return _n(this,t),(i=Mn(this,Tn(t).call(this,e,n,r))).single=2===r.length&&""===r[0]&&""===r[1],i}return On(t,e),Pn(t,[{key:"_createPart",value:function(){return new Ki(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:An(Tn(t.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),t}(Ii),Ki=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),t}(Ui),Gi=!1;!function(){try{var e={get capture(){return Gi=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}}();var qi=function(){function e(t,n,r){var i=this;_n(this,e),this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=function(e){return i.handleEvent(e)}}return Pn(e,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;xi(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=Li,e(this)}if(this.__pendingValue!==Li){var t=this.__pendingValue,n=this.value,r=null==t||null!=n&&(t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive),i=null!=t&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=Hi(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=Li}}},{key:"handleEvent",value:function(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}]),e}(),Hi=function(e){return e&&(Gi?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)};function zi(e){var t=Vi.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},Vi.set(e.type,t));var n=t.stringsArray.get(e.strings);if(void 0!==n)return n;var r=e.strings.join(Rr);return void 0===(n=t.keyString.get(r))&&(n=new jr(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}var Vi=new Map,Wi=new WeakMap,Yi=new(function(){function e(){_n(this,e)}return Pn(e,[{key:"handleAttributeExpressions",value:function(e,t,n,r){var i=t[0];return"."===i?new Bi(e,t.slice(1),n).parts:"@"===i?[new qi(e,t.slice(1),r.eventContext)]:"?"===i?[new Fi(e,t.slice(1),n)]:new Ii(e,t,n).parts}},{key:"handleTextExpression",value:function(e){return new Di(e)}}]),e}());
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");var $i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Ai(e,n,"html",Yi)},Ji=function(e,t){return"".concat(e,"--").concat(t)},Xi=!0;void 0===window.ShadyCSS?Xi=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Xi=!1);var Qi=function(e){return function(t){var n=Ji(t.type,e),r=Vi.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},Vi.set(n,r));var i=r.stringsArray.get(t.strings);if(void 0!==i)return i;var o=t.strings.join(Rr);if(void 0===(i=r.keyString.get(o))){var a=t.getTemplateElement();Xi&&window.ShadyCSS.prepareTemplateDom(a,e),i=new jr(t,a),r.keyString.set(o,i)}return r.stringsArray.set(t.strings,i),i}},Zi=["html","svg"],eo=new Set,to=function(e,t,n){eo.add(e);var r=n?n.element:document.createElement("template"),i=t.querySelectorAll("style"),o=i.length;if(0!==o){for(var a=document.createElement("style"),s=0;s<o;s++){var u=i[s];u.parentNode.removeChild(u),a.textContent+=u.textContent}!function(e){Zi.forEach((function(t){var n=Vi.get(Ji(t,e));void 0!==n&&n.keyString.forEach((function(e){var t=e.element.content,n=new Set;Array.from(t.querySelectorAll("style")).forEach((function(e){n.add(e)})),Fr(e,n)}))}))}(e);var c=r.content;n?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.element.content,i=e.parts;if(null!=n)for(var o=document.createTreeWalker(r,133,null,!1),a=Kr(i),s=0,u=-1;o.nextNode();){u++;var c=o.currentNode;for(c===n&&(s=Br(t),n.parentNode.insertBefore(t,n));-1!==a&&i[a].index===u;){if(s>0){for(;-1!==a;)i[a].index+=s,a=Kr(i,a);return}a=Kr(i,a)}}else r.appendChild(t)}(n,a,c.firstChild):c.insertBefore(a,c.firstChild),window.ShadyCSS.prepareTemplateStyles(r,e);var l=c.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(n){c.insertBefore(a,c.firstChild);var d=new Set;d.add(a),Fr(n,d)}}else window.ShadyCSS.prepareTemplateStyles(r,e)},no=(t((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,o=Object.create(i.prototype),a=new w(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var c={};function l(){}function d(){}function f(){}var p={};p[i]=function(){return this};var h=Object.getPrototypeOf,v=h&&h(h(P([])));v&&v!==t&&n.call(v,i)&&(p=v);var g=f.prototype=l.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function m(e){var t;this._invoke=function(r,i){function o(){return new Promise((function(t,o){!function t(r,i,o,a){var s=u(e[r],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return t("throw",e,o,a)}))}a(s.arg)}(r,i,t,o)}))}return t=t?t.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=g.constructor=f,f.constructor=d,f[a]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(m.prototype),m.prototype[o]=function(){return this},e.AsyncIterator=m,e.async=function(t,n,r,i){var o=new m(s(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),g[a]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}})),"\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff"),ro="["+no+"]",io=RegExp("^"+ro+ro+"*"),oo=RegExp(ro+ro+"*$"),ao=function(e,t,n){var r={},i=d((function(){return!!no[e]()||"âÂ"!="âÂ"[e]()})),o=r[e]=i?t(so):no[e];n&&(r[n]=o),F(F.P+F.F*i,"String",r)},so=ao.trim=function(e,t){return e=String(C(e)),1&t&&(e=e.replace(io,"")),2&t&&(e=e.replace(oo,"")),e},uo=ao,co=br.f,lo=hn.f,fo=b.f,po=uo.trim,ho=r.Number,vo=ho,go=ho.prototype,yo="Number"==L(se(go)),mo="trim"in String.prototype,bo=function(e){var t=y(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=mo?t.trim():po(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,s=t.slice(2),u=0,c=s.length;u<c;u++)if((a=s.charCodeAt(u))<48||a>i)return NaN;return parseInt(s,r)}}return+t};if(!ho(" 0o1")||!ho("0b1")||ho("+0x1")){ho=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof ho&&(yo?d((function(){go.valueOf.call(n)})):"Number"!=L(n))?yn(new vo(bo(t)),n,ho):bo(t)};for(var ko,_o=f?co(vo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),wo=0;_o.length>wo;wo++)A(vo,ko=_o[wo])&&!A(ho,ko)&&fo(ho,ko,lo(vo,ko));ho.prototype=go,go.constructor=ho,N(r,"Number",ho)}
/**
	 * @license
	 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at
	 * http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at
	 * http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at
	 * http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at
	 * http://polymer.github.io/PATENTS.txt
	 */window.JSCompiler_renameProperty=function(e,t){return e};var Po={toAttribute:function(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},So=function(e,t){return t!==e&&(t==t||e==e)},Oo={attribute:!0,type:String,converter:Po,reflect:!1,hasChanged:So},To=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).call(this))).initialize(),e}var n,r;return On(t,e),Pn(t,[{key:"initialize",value:function(){var e=this;this._updateState=0,this._updatePromise=new Promise((function(t){return e._enableUpdatingResolver=t})),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}},{key:"_saveInstanceProperties",value:function(){var e=this;this.constructor._classProperties.forEach((function(t,n){if(e.hasOwnProperty(n)){var r=e[n];delete e[n],e._instanceProperties||(e._instanceProperties=new Map),e._instanceProperties.set(n,r)}}))}},{key:"_applyInstanceProperties",value:function(){var e=this;this._instanceProperties.forEach((function(t,n){return e[n]=t})),this._instanceProperties=void 0}},{key:"connectedCallback",value:function(){this.enableUpdating()}},{key:"enableUpdating",value:function(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,n){t!==n&&this._attributeToProperty(e,n)}},{key:"_propertyToAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oo,r=this.constructor,i=r._attributeNameForProperty(e,n);if(void 0!==i){var o=r._propertyValueToAttribute(t,n);if(void 0===o)return;this._updateState=8|this._updateState,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._updateState=-9&this._updateState}}},{key:"_attributeToProperty",value:function(e,t){if(!(8&this._updateState)){var n=this.constructor,r=n._attributeToPropertyMap.get(e);if(void 0!==r){var i=n.getPropertyOptions(r);this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(t,i),this._updateState=-17&this._updateState}}}},{key:"requestUpdateInternal",value:function(e,t,n){var r=!0;if(void 0!==e){var i=this.constructor;n=n||i.getPropertyOptions(e),i._valueHasChanged(this[e],t,n.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,n))):r=!1}!this._hasRequestedUpdate&&r&&(this._updatePromise=this._enqueueUpdate())}},{key:"requestUpdate",value:function(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}},{key:"_enqueueUpdate",value:(n=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._updateState=4|this._updateState,e.prev=1,e.next=4,this._updatePromise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:if(null==(t=this.performUpdate())){e.next=12;break}return e.next=12,t;case 12:return e.abrupt("return",!this._hasRequestedUpdate);case 13:case"end":return e.stop()}}),e,this,[[1,6]])})),r=function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){kn(o,r,i,a,s,"next",e)}function s(e){kn(o,r,i,a,s,"throw",e)}a(void 0)}))},function(){return r.apply(this,arguments)})},{key:"performUpdate",value:function(){if(this._hasRequestedUpdate){this._instanceProperties&&this._applyInstanceProperties();var e=!1,t=this._changedProperties;try{(e=this.shouldUpdate(t))?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}}},{key:"_markUpdated",value:function(){this._changedProperties=new Map,this._updateState=-5&this._updateState}},{key:"_getUpdateComplete",value:function(){return this._updatePromise}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){var t=this;void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((function(e,n){return t._propertyToAttribute(n,t[n],e)})),this._reflectingProperties=void 0),this._markUpdated()}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}},{key:"_hasRequestedUpdate",get:function(){return 4&this._updateState}},{key:"hasUpdated",get:function(){return 1&this._updateState}},{key:"updateComplete",get:function(){return this._getUpdateComplete()}}],[{key:"_ensureClassProperties",value:function(){var e=this;if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((function(t,n){return e._classProperties.set(n,t)}))}}},{key:"createProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo;if(this._ensureClassProperties(),this._classProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var n="symbol"===bn(e)?Symbol():"__".concat(e),r=this.getPropertyDescriptor(e,n,t);void 0!==r&&Object.defineProperty(this.prototype,e,r)}}},{key:"getPropertyDescriptor",value:function(e,t,n){return{get:function(){return this[t]},set:function(r){var i=this[e];this[t]=r,this.requestUpdateInternal(e,i,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){return this._classProperties&&this._classProperties.get(e)||Oo}},{key:"finalize",value:function(){var e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var t=this.properties,n=[].concat(Nn(Object.getOwnPropertyNames(t)),Nn("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[])),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;this.createProperty(u,t[u])}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}},{key:"_attributeNameForProperty",value:function(e,t){var n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}},{key:"_valueHasChanged",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:So;return n(e,t)}},{key:"_propertyValueFromAttribute",value:function(e,t){var n=t.type,r=t.converter||Po,i="function"==typeof r?r:r.fromAttribute;return i?i(e,n):e}},{key:"_propertyValueToAttribute",value:function(e,t){if(void 0!==t.reflect){var n=t.type,r=t.converter;return(r&&r.toAttribute||Po.toAttribute)(e,n)}}},{key:"observedAttributes",get:function(){var e=this;this.finalize();var t=[];return this._classProperties.forEach((function(n,r){var i=e._attributeNameForProperty(r,n);void 0!==i&&(e._attributeToPropertyMap.set(i,r),t.push(i))})),t}}]),t}(Cn(HTMLElement));To.finalized=!0;function xo(e){return function(t,n){return void 0!==n?function(e,t,n){t.constructor.createProperty(n,e)}(e,t,n):function(e,t){return"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?Object.assign(Object.assign({},t),{finisher:function(n){n.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer:function(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher:function(n){n.createProperty(t.key,e)}}}(e,t)}}
/**
	@license
	Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
	This code may only be used under the BSD style license found at
	http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
	http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
	found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
	part of the polymer project is also subject to an additional IP rights grant
	found at http://polymer.github.io/PATENTS.txt
	*/var Lo=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Eo=Symbol(),Co=function(){function e(t,n){if(_n(this,e),n!==Eo)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}return Pn(e,[{key:"toString",value:function(){return this.cssText}},{key:"styleSheet",get:function(){return void 0===this._styleSheet&&(Lo?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}}]),e}();(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");var Ro={},Mo=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),Pn(t,[{key:"initialize",value:function(){An(Tn(t.prototype),"initialize",this).call(this),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}},{key:"createRenderRoot",value:function(){return this.attachShadow({mode:"open"})}},{key:"adoptStyles",value:function(){var e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?Lo?this.renderRoot.adoptedStyleSheets=e.map((function(e){return e instanceof CSSStyleSheet?e:e.styleSheet})):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map((function(e){return e.cssText})),this.localName))}},{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}},{key:"update",value:function(e){var n=this,r=this.render();An(Tn(t.prototype),"update",this).call(this,e),r!==Ro&&this.constructor.render(r,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((function(e){var t=document.createElement("style");t.textContent=e.cssText,n.renderRoot.appendChild(t)})))}},{key:"render",value:function(){return Ro}}],[{key:"getStyles",value:function(){return this.styles}},{key:"_getUniqueStyles",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_styles",this))){var e=this.getStyles();if(Array.isArray(e)){var t=function e(t,n){return t.reduceRight((function(t,n){return Array.isArray(n)?e(n,t):(t.add(n),t)}),n)}(e,new Set),n=[];t.forEach((function(e){return n.unshift(e)})),this._styles=n}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map((function(e){if(e instanceof CSSStyleSheet&&!Lo){var t=Array.prototype.slice.call(e.cssRules).reduce((function(e,t){return e+t.cssText}),"");return new Co(String(t),Eo)}return e}))}}}]),t}(To);Mo.finalized=!0,Mo.render=function(e,t,n){if(!n||"object"!==bn(n)||!n.scopeName)throw new Error("The `scopeName` option is required.");var r=n.scopeName,i=Wi.has(t),o=Xi&&11===t.nodeType&&!!t.host,a=o&&!eo.has(r),s=a?document.createDocumentFragment():t;if(function(e,t,n){var r=Wi.get(t);void 0===r&&(Wn(t,t.firstChild),Wi.set(t,r=new Di(Object.assign({templateFactory:zi},n))),r.appendInto(t)),r.setValue(e),r.commit()}(e,s,Object.assign({templateFactory:Qi(r)},n)),a){var u=Wi.get(s);Wi.delete(s);var c=u.value instanceof Ci?u.value.template:void 0;to(r,s,c),Wn(t,t.firstChild),t.appendChild(s),Wi.set(t,u)}!i&&o&&window.ShadyCSS.styleElement(t.host)};var Ao=Ie(5),jo=!0;"find"in[]&&Array(1).find((function(){jo=!1})),F(F.P+F.F*jo,"Array",{find:function(e){return Ao(this,e,arguments.length>1?arguments[1]:void 0)}}),S("find");var No=Math.max,Io=Math.min,Uo=Math.floor,Do=/\$([$&`']|\d\d?|<[^>]*>)/g,Fo=/\$([$&`']|\d\d?)/g;lr("replace",2,(function(e,t,n,r){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var o=r(n,e,this,t);if(o.done)return o.value;var a=l(e),s=String(this),u="function"==typeof t;u||(t=String(t));var c=a.global;if(c){var d=a.unicode;a.lastIndex=0}for(var f=[];;){var p=Zn(a,s);if(null===p)break;if(f.push(p),!c)break;""===String(p[0])&&(a.lastIndex=Xn(s,H(a.lastIndex),d))}for(var h,v="",g=0,y=0;y<f.length;y++){p=f[y];for(var m=String(p[0]),b=No(Io(G(p.index),s.length),0),k=[],_=1;_<p.length;_++)k.push(void 0===(h=p[_])?h:String(h));var w=p.groups;if(u){var P=[m].concat(k,b,s);void 0!==w&&P.push(w);var S=String(t.apply(void 0,P))}else S=i(m,s,b,k,w,t);b>=g&&(v+=s.slice(g,b)+S,g=b+m.length)}return v+s.slice(g)}];function i(e,t,r,i,o,a){var s=r+e.length,u=i.length,c=Fo;return void 0!==o&&(o=pe(o),c=Do),n.call(a,c,(function(n,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":c=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return n;if(l>u){var d=Uo(l/10);return 0===d?n:d<=u?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):n}c=i[l-1]}return void 0===c?"":c}))}}));var Bo={eb:null,appResource:{},progResource:{},chatRooms:{},ready:!1,clientId:null,accessToken:null,syncStrategy:null,storageStrategy:null,lsKey:null,logger:!1,pn:null,chatUrlTemplate:null,createChatUrlTemplate:null,programUrlTemplate:null,pageVisible:!0,leaderboardUrlTemplate:null,endpoint:"https://cf-blast.livelikecdn.com/api/v1/",localizedStrings:{en:{"chat.inputPlaceholder":"Say something...","chat.messageMenu.blockUser":"Block this user","chat.messageMenu.reportMessage":"Report message","chat.messageMenu.cancel":"Cancel","chat.messageMenu.ariaLabel":"Message options","chat.blockConfirmation.message":"You will no longer see messages from this user.","chat.reportConfirmation.message":"The message has been reported to the moderators. Thank you.","chat.mutedMessage":"Unable to send message.","chat.errorMessage":"There was an error. Please try again.","chat.messageDeleted":"This message has been removed.","chat.sendButton.ariaLabel":"Send Message","chat.scrollDownButton.ariaLabel":"Scroll Down","chat.stickerPicker.title":"STICKERS","chat.stickerPicker.openButton.ariaLabel":"Open Stickers","chat.stickerPicker.closeButton.ariaLabel":"Close Stickers","chat.stickerPicker.stickerPackTab.ariaLabel":"Sticker pack <packName>","chat.stickerPicker.stickerSelectionButton.ariaLabel":"<stickerName> Sticker","chat.giphyPicker.title":"GIPHY","chat.giphyPicker.placeholder":"Search GIFs via GIPHY","chat.giphyPicker.openButton.ariaLabel":"Open GIPHY","chat.giphyPicker.closeButton.ariaLabel":"Close GIPHY","chat.giphyPicker.stickerSelectionButton.ariaLabel":"<stickerName> GIF","chat.reactions.openButton.ariaLabel":"Message reactions","chat.reactions.reactionSelectionButton.ariaLabel":"Reaction <reactionName>"}}},Ko={version:"2.3.2",ready:!1,theme:{}},Go={access_token:"",badges:null,created_at:"",id:"",nickname:"",points:0,reported_count:0,subscribe_channel:"",url:"",blockList:null,custom_data:null,reactions:null,chat_room_memberships_url:null},qo="interactive",Ho="finished",zo="results",Vo={"LIVELIKE-EMOJI-SLIDER":"slider","LIVELIKE-CHEER-METER":"cheer","LIVELIKE-TEXT-POLL":"vote","LIVELIKE-IMAGE-POLL":"vote","LIVELIKE-TEXT-QUIZ":"answer","LIVELIKE-IMAGE-QUIZ":"answer","LIVELIKE-TEXT-PREDICTION":"prediction","LIVELIKE-IMAGE-PREDICTION":"prediction"},Wo={alert:"alert","text-poll":"poll","image-poll":"poll","text-quiz":"quiz","image-quiz":"quiz","cheer-meter":"cheerMeter","social-embed":"socialEmbed","rich-post":"richText","text-prediction":"prediction","image-prediction":"prediction","text-prediction-follow-up":"predictionFollowUp","image-prediction-follow-up":"predictionFollowUp","emoji-slider":"imageSlider"},Yo="alert",$o=["alert-created","cheer-meter-created","emoji-slider-created","social-embed-created","rich-post-created","text-poll-created","image-poll-created","text-quiz-created","image-quiz-created","text-prediction-created","text-prediction-follow-up-updated","image-prediction-created","image-prediction-follow-up-updated"];lr("match",1,(function(e,t,n,r){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=r(n,e,this);if(t.done)return t.value;var i=l(e),o=String(this);if(!i.global)return Zn(i,o);var a=i.unicode;i.lastIndex=0;for(var s,u=[],c=0;null!==(s=Zn(i,o));){var d=String(s[0]);u[c]=d,""===d&&(i.lastIndex=Xn(o,H(i.lastIndex),a)),c++}return 0===c?null:u}]}));var Jo=function(e){return function(t){if(!t.url&&!t.path)return console.warn("Need either a url or a path"),Promise.reject("Need either a url or a path");var n,r,i=t.accessToken,o=Bo.storageStrategy.get(),a=o&&o.accessToken;void 0===i&&(i=a||Bo.accessToken||Go.access_token),t.url?r=t.url:t.path&&(r=Bo.endpoint+t.path);var s=new Headers;i&&s.append("Authorization","Bearer "+i),"POST"!==e&&"PATCH"!==e||(s.append("Content-Type","application/json"),t.data&&(n=JSON.stringify(t.data)));var u=new Request(r,{method:e,body:n,headers:s});return fetch(u).then((function(e){var t={400:"Incorrect data.",401:"Unauthorized. Access token missing from request.",403:"Access Denied. Access token incorrect.",404:"Resource not found.",405:"Method not allowed.",409:"Resource already exists",415:"Unsupported media type."}[e.status];if(e.status>=500&&(t="Server error. Try again."),e.status>=300)return Promise.reject({status:e.status,message:t});var n=e.headers.get("content-type");return n&&-1!==n.indexOf("application/json")?e.json():void 0}))}},Xo={get:Jo("GET"),put:Jo("PUT"),post:Jo("POST"),patch:Jo("PATCH"),delete:Jo("DELETE")},Qo=function(e){var t=e.match(/(-)?P(?:([.,\d]+)Y)?(?:([.,\d]+)M)?(?:([.,\d]+)W)?(?:([.,\d]+)D)?(?:T(?:([.,\d]+)H)?(?:([.,\d]+)M)?(?:([.,\d]+)S)?)?/);return(t[8]&&1e3*t[8])+(t[7]&&6e4*t[7])+(t[6]&&36e5*t[6])+(t[5]&&864e5*t[5])},Zo=function(e){return e.split("-").map((function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()})).join(" ")};function ea(e,t){return Object.keys(t).forEach((function(n){!e.hasOwnProperty(n)||"object"!==bn(e[n])||e[n]instanceof Array?e[n]=t[n]:ea(e[n],t[n])})),e}var ta=function(e,t){var n=e.slice();return n.splice(e.length,0,t),n},na=function(e,t){var n="text-prediction-follow-up"===t.kind||"image-prediction-follow-up"===t.kind;return e.attach(t).then((function(){return n?Promise.resolve():t.interactive()})).then((function(){return t.results({timeout:n&&t.timeout?Qo(t.timeout):5e3})}))},ra=function(e){var t=e.target,n=e.widget;return na(t,n).then(n.expire).then((function(){return t.detach(n)}))},ia=function(e){var t=e.target,n=e.widget;n.hide_dismiss_button=!0,n.initialLoad?t.attach(n,"append").then(n.results).then(n.expire).then(n.finished):na(t,n).then(n.expire).then(n.finished)},oa=function(e,t){return function(){for(var n,r=t||250,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return clearTimeout(n,n=setTimeout.apply(void 0,[e,r].concat(o)))}},aa=function(e,t){var n,r;return function i(){var o=Date.now();r=clearTimeout(r);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];!n||o-n>=t?(e.apply(null,s),n=o):r=setTimeout(i.bind.apply(i,[null].concat(s)),t-(o-n))}},sa=function(e,t,n){return new Date(e).toLocaleDateString(n||"en-US",t)},ua=function(e){var t=document.querySelector("[lang]");t&&!e.lang&&(e.lang=t.getAttribute("lang"));!e.lang&&function t(n){var r=n.querySelector("[lang]");r?e.lang=r.getAttribute("lang"):n.parentElement&&t(n.parentElement)}(e.parentElement)},ca=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.options||e.choices,i=t.vote_count?"vote_count":"answer_count",o=r.reduce((function(e,t){return e+t[i]}),0);return o>0?Math.round(t[i]/o*100):n},la=function(e,t){var n=Bo.chatRooms[e]&&"none"!==Bo.chatRooms[e].content_filter&&t.content_filter&&t.content_filter.length>0,r=t.sender_id===Go.id;return"Producer"===Go.nickname||r||!n},da=function(e,t){if(t&&Array.isArray(t)){var n=[],r=[];return t.map((function(t){var i=t.entry||t.message;la(e,i.payload)&&(i.payload.timetoken=t.timetoken,i.payload.reactions=t.data&&t.data.rc?t.data.rc:{},"message-created"===i.event||"image-created"===i.event?n.push(i.payload):r.push(i.payload))})),r.map((function(e){var t=n.findIndex((function(t){return t.id===e.id}));-1!==t&&n.splice(t,1)})),n}return[]},fa=function(e,t){return t&&encodeURI(t.replace(/{(.*?)}/g,e))},pa=function(e,t){return e?fetch(e).then((function(e){var n=404===e.status,r=403===e.status,i="Room"===t&&e.status>202;if(n||i||r)return Promise.reject("".concat(t," resource not found. Check ").concat(t," Id.\nRead more: https://www.npmjs.com/package/@livelike/engagementsdk"));var o=e.headers.get("content-type");return o&&-1!==o.indexOf("application/json")?e.json():void 0})):Promise.reject("".concat(t," url missing."))},ha={program:function(e){return pa(fa(e,Bo.programUrlTemplate),"Program")},app:function(e){return pa(encodeURI("".concat(Bo.endpoint,"applications/").concat(e,"/")),"Client")},chatRoom:function(e){return pa(fa(e,Bo.chatUrlTemplate),"Room")},leaderboard:function(e){return pa(fa(e,Bo.leaderboardUrlTemplate),"Leaderboard")},leaderboardEntryDetail:function(e,t){return pa(fa(t,e),"Leaderboard Entry")}},va=function(e,t,n){return e[t]?Promise.resolve(e[t]):ha[n](t).then((function(n){return e[t]=n,n}))},ga=function(){return va(Bo.appResource,Bo.clientId,"app")},ya=function(e){return va(Bo.chatRooms,e,"chatRoom")},ma=function(e){return va(Bo.progResource,e,"program")},ba=function(e){return new Promise((function(t){return Bo.chatRooms&&Bo.chatRooms[e]&&Bo.chatRooms[e].channels?t(Bo.chatRooms[e].channels.chat.pubnub):ya(e).then((function(e){return t(e.channels.chat.pubnub)}))}))};function ka(e,t,n){var r,i={next:e,prev:null},o=function(e){return i[e]?t(i[e]).then((function(e){return i={next:e.next,prev:e.previous},Promise.resolve({value:n(e),done:!e.next})})):Promise.resolve({done:!0})};return Sn(r={},Symbol.asyncIterator,(function(){return{next:function(){return o("next")},previous:function(){return o("prev")}}})),Sn(r,"next",(function(){return o("next")})),Sn(r,"previous",(function(){return o("prev")})),r}var _a=function(e,t){return t.next().then((function(n){var r;return Sn(r={count:n.value.count,iterator:t},e,n.value[e]),Sn(r,"next",t.next),Sn(r,"previous",t.previous),r}))};var wa=function(e){e=e||Object.create(null);var t=function(t,n){return(e[t]||(e[t]=[])).push(n)};return{on:t,peak:function(){return e},uniqueOn:function(n,r){return(!e[n]||0===e[n].length)&&t(n,r)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).slice().map((function(e){return e(n)})),(e["*"]||[]).slice().map((function(e){return e(t,n)}))}}}();Bo.eb=wa.peak;var Pa=function(e,t,n){var r=new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0});return e.dispatchEvent(r),r};function Sa(e,t){return Pa(e,t,{}).detail.provider}var Oa=function(e){return"\nSee https://docs.livelike.com/docs/".concat(e||"getting-started-with-the-web-sdk"," for more details.")},Ta=function(e){var t=Ko.version.split(".");return t[2]="0","See https://websdk.livelikecdn.com/docs/"+t.join(".")+"/modules/_scripts_"+e+"_.html for more details."},xa=function(e,t,n){return console.error("".concat(e,": ").concat(t," must be of type <").concat(n,">"))},La=function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return console.error(e,Ta(t))}("Missing "+e+" argument\n",t)},Ea=function(e,t){return Promise.reject(La(e,t))},Ca=function(e,t){return console.error(e,Oa(t))},Ra=function(e){return e.parentElement&&e.parentElement.localName===e.localName&&console.error(e.localName+" cannot be a child of itself.")},Ma=function(e,t){var n=Bo.storageStrategy.get()||{};n[e]=t,Bo.storageStrategy.set(n)},Aa={get:function(){return JSON.parse(localStorage.getItem(Bo.lsKey))},set:function(e){return localStorage.setItem(Bo.lsKey,JSON.stringify(e))}},ja=function(e,t,n){return Bo.chatRooms[e][n]&&function(e){return new Promise((function(t){var n=[],r=!0;setTimeout((function(){return r=!1}),1e4);!function e(i){return Xo.get({url:i}).then((function(r){r&&r.results?(n=[].concat(Nn(n),Nn(r.results)),r.next?e(r.next):t(n)):t([])})).catch((function(){return r?setTimeout((function(){return e(i)}),2e3):t([])}))}(e)}))}(Bo.chatRooms[e][n]).then((function(n){return Bo.chatRooms[e][t]=n,n}))},Na=function(e){return ja(e,"reactionPack","reaction_packs_url")},Ia=function(e){return ja(e,"stickerPacks","sticker_packs_url")},Ua=function(e,t,n){var r=t&&t.slice(0,2);t&&Bo.localizedStrings[r]||(r="en");var i=Bo.localizedStrings[r][e]||Bo.localizedStrings.en[e];return i&&n&&Object.keys(n).forEach((function(e){return i=i.replace("<"+e+">",n[e])})),i};var Da,Fa,Ba,Ka,Ga=(Da=!1,Fa={},function(e,t,n){return new Promise((function(r){!function i(){if(Da)setTimeout(i,50);else if(Da=!0,!Fa[n]&&(Fa[n]={}),Fa[n].sequence&&t!==Fa[n].sequence)Da=!1,r(Fa[n]);else{Fa[n].sequence=t+1;var o=localStorage.getItem("ltt-"+n),a=!o||e>o;a&&localStorage.setItem("ltt-"+n,e),Fa[n].allowNext=a,Da=!1,r(Fa[n])}}()}))}),qa=function(e){return function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this)}},{key:"render",value:function(){return this.customTemplate?this.customTemplate():this.defaultTemplate()}}]),t}(e)},Ha=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),t}(function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).updateOwnerProps=function(t){e.owner.id===t.key&&(e.ownerUpdated(t),"disabled"!==t.name&&"changed"!==t.name||(e[t.name]=t.prop),"options"!==t.name&&"choices"!==t.name||(e[t.name]=t.prop,e.items=t.prop,e.optionListUpdated(t.prop),Pa(Rn(e),"options-updated",e.items)))},e}return On(t,e),Pn(t,[{key:"ownerUpdated",value:function(e){}},{key:"optionListUpdated",value:function(e){}},{key:"optionUpdated",value:function(e){}},{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this),wa.on("widget-updated",this.updateOwnerProps),!this.owner&&(this.owner=Sa(this,"widget-provider")),this.items=this.owner.options||this.owner.choices,this.owner.options&&(this.options=this.owner.options),this.owner.choices&&(this.choices=this.owner.choices)}},{key:"disconnectedCallback",value:function(){wa.off("widget-updated",this.updateOwnerProps),An(Tn(t.prototype),"disconnectedCallback",this).call(this)}}],[{key:"properties",get:function(){return{owner:{type:Object},items:{type:Array},options:{type:Array},choices:{type:Array},disabled:{type:Boolean,reflect:!0},changed:{type:Boolean,reflect:!0}}}}]),t}(Mo)),za=function(e){return function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).appendStyles=function(t){(e.shadowRoot||Rn(e)).appendChild(t)},e.updateTheme=function(t){return t.theme&&t.theme.widgets&&e.defaultStyles&&e.updateComplete.then((function(){var n=e.owner.kind||e.localName.replace("livelike-",""),r=Wo[n],i=t.theme.widgets[r],o=document.createElement("style");o.innerHTML+=e.defaultStyles(i),e.appendStyles(o)}))},e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this),wa.on("themeUpdate",this.updateTheme),this.updateTheme({theme:this.owner.theme||Ko.theme})}},{key:"disconnectedCallback",value:function(){wa.off("themeUpdate",this.updateTheme),An(Tn(t.prototype),"disconnectedCallback",this).call(this)}}]),t}(e)},Va=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),t}(qa(za(Ha))),Wa=["selected","correct","incorrect","image","disabled"],Ya=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),t}(qa(za(function(e){return function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).updateItem=function(n){e.item&&e.item.id===n.key&&(("items"===n.name||"options"===n.name||"choices"===n.name)&&(e[n.name.slice(0,-1)]=n.prop.find((function(t){return t.id===e.item.id}))),e.requestUpdate(),An(Tn(t.prototype),"requestUpdate",Rn(e)).call(Rn(e)),e.optionUpdated(e.item),Wa.some((function(e){return e===n.name}))&&(e[n.name]=n.prop))},e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){wa.on("option-updated",this.updateItem);var e=Sa(this,"option-provider");e&&(this.item=e.item,e.option&&(this.option=e.option),e.choice&&(this.choice=e.choice)),An(Tn(t.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){wa.off("option-updated",this.updateItem),An(Tn(t.prototype),"disconnectedCallback",this).call(this)}}],[{key:"properties",get:function(){return{item:{type:Object},option:{type:Object},choice:{type:Object},selected:{type:Boolean,reflect:!0},correct:{type:Boolean,reflect:!0},incorrect:{type:Boolean,reflect:!0},image:{type:Boolean,reflect:!0},disabled:{type:Boolean,reflect:!0}}}}]),t}(e)}(Ha)))),$a=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),t}(Ya),Ja=t((function(e,t){
/*! 4.29.10 / Consumer  */
window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={PNTimeOperation:"PNTimeOperation",PNHistoryOperation:"PNHistoryOperation",PNDeleteMessagesOperation:"PNDeleteMessagesOperation",PNFetchMessagesOperation:"PNFetchMessagesOperation",PNMessageCounts:"PNMessageCountsOperation",PNSubscribeOperation:"PNSubscribeOperation",PNUnsubscribeOperation:"PNUnsubscribeOperation",PNPublishOperation:"PNPublishOperation",PNSignalOperation:"PNSignalOperation",PNAddMessageActionOperation:"PNAddActionOperation",PNRemoveMessageActionOperation:"PNRemoveMessageActionOperation",PNGetMessageActionsOperation:"PNGetMessageActionsOperation",PNCreateUserOperation:"PNCreateUserOperation",PNUpdateUserOperation:"PNUpdateUserOperation",PNDeleteUserOperation:"PNDeleteUserOperation",PNGetUserOperation:"PNGetUsersOperation",PNGetUsersOperation:"PNGetUsersOperation",PNCreateSpaceOperation:"PNCreateSpaceOperation",PNUpdateSpaceOperation:"PNUpdateSpaceOperation",PNDeleteSpaceOperation:"PNDeleteSpaceOperation",PNGetSpaceOperation:"PNGetSpacesOperation",PNGetSpacesOperation:"PNGetSpacesOperation",PNGetMembersOperation:"PNGetMembersOperation",PNUpdateMembersOperation:"PNUpdateMembersOperation",PNGetMembershipsOperation:"PNGetMembershipsOperation",PNUpdateMembershipsOperation:"PNUpdateMembershipsOperation",PNListFilesOperation:"PNListFilesOperation",PNGenerateUploadUrlOperation:"PNGenerateUploadUrlOperation",PNPublishFileOperation:"PNPublishFileOperation",PNGetFileUrlOperation:"PNGetFileUrlOperation",PNDownloadFileOperation:"PNDownloadFileOperation",PNGetAllUUIDMetadataOperation:"PNGetAllUUIDMetadataOperation",PNGetUUIDMetadataOperation:"PNGetUUIDMetadataOperation",PNSetUUIDMetadataOperation:"PNSetUUIDMetadataOperation",PNRemoveUUIDMetadataOperation:"PNRemoveUUIDMetadataOperation",PNGetAllChannelMetadataOperation:"PNGetAllChannelMetadataOperation",PNGetChannelMetadataOperation:"PNGetChannelMetadataOperation",PNSetChannelMetadataOperation:"PNSetChannelMetadataOperation",PNRemoveChannelMetadataOperation:"PNRemoveChannelMetadataOperation",PNSetMembersOperation:"PNSetMembersOperation",PNSetMembershipsOperation:"PNSetMembershipsOperation",PNPushNotificationEnabledChannelsOperation:"PNPushNotificationEnabledChannelsOperation",PNRemoveAllPushNotificationsOperation:"PNRemoveAllPushNotificationsOperation",PNWhereNowOperation:"PNWhereNowOperation",PNSetStateOperation:"PNSetStateOperation",PNHereNowOperation:"PNHereNowOperation",PNGetStateOperation:"PNGetStateOperation",PNHeartbeatOperation:"PNHeartbeatOperation",PNChannelGroupsOperation:"PNChannelGroupsOperation",PNRemoveGroupOperation:"PNRemoveGroupOperation",PNChannelsForGroupOperation:"PNChannelsForGroupOperation",PNAddChannelsToGroupOperation:"PNAddChannelsToGroupOperation",PNRemoveChannelsFromGroupOperation:"PNRemoveChannelsFromGroupOperation",PNAccessManagerGrant:"PNAccessManagerGrant",PNAccessManagerGrantToken:"PNAccessManagerGrantToken",PNAccessManagerAudit:"PNAccessManagerAudit"},e.exports=t.default},function(e,t,n){e.exports={}},function(e,t,n){(function(t){function n(e){return encodeURIComponent(e).replace(/[!~*'()]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}var r="The Objects v1 API has been deprecated.\nYou can learn more about Objects v2 API at https://www.pubnub.com/docs/web-javascript/api-reference-objects.\nIf you have questions about the Objects v2 API or require additional help with migrating to the new data model, please contact PubNub Support at support@pubnub.com.";e.exports={signPamFromParams:function(e){return function(e){return function(e){var t=[];return Object.keys(e).forEach((function(e){return t.push(e)})),t}(e).sort()}(e).map((function(t){return"".concat(t,"=").concat(n(e[t]))})).join("&")},endsWith:function(e,t){return-1!==e.indexOf(t,this.length-t.length)},createPromise:function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),reject:t,fulfill:e}},encodeString:n,deprecated:function(e){return function(){var n,i;return void 0!==t&&"test"!==(null===(n=t)||void 0===n||null===(i=n.env)||void 0===i?void 0:"production")&&console.warn(r),e.apply(void 0,arguments)}}}}).call(this,n(39))},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(5)),o=r(n(6)),a=r(n(4)),s=r(n(17)),u=(n(2),function(){function e(t){var n,r,o=t.setup,u=t.db;(0,i.default)(this,e),(0,a.default)(this,"_db",void 0),(0,a.default)(this,"subscribeKey",void 0),(0,a.default)(this,"publishKey",void 0),(0,a.default)(this,"secretKey",void 0),(0,a.default)(this,"cipherKey",void 0),(0,a.default)(this,"authKey",void 0),(0,a.default)(this,"UUID",void 0),(0,a.default)(this,"proxy",void 0),(0,a.default)(this,"instanceId",void 0),(0,a.default)(this,"sdkName",void 0),(0,a.default)(this,"sdkFamily",void 0),(0,a.default)(this,"partnerId",void 0),(0,a.default)(this,"filterExpression",void 0),(0,a.default)(this,"suppressLeaveEvents",void 0),(0,a.default)(this,"secure",void 0),(0,a.default)(this,"origin",void 0),(0,a.default)(this,"logVerbosity",void 0),(0,a.default)(this,"useInstanceId",void 0),(0,a.default)(this,"useRequestId",void 0),(0,a.default)(this,"keepAlive",void 0),(0,a.default)(this,"keepAliveSettings",void 0),(0,a.default)(this,"autoNetworkDetection",void 0),(0,a.default)(this,"announceSuccessfulHeartbeats",void 0),(0,a.default)(this,"announceFailedHeartbeats",void 0),(0,a.default)(this,"_presenceTimeout",void 0),(0,a.default)(this,"_heartbeatInterval",void 0),(0,a.default)(this,"_subscribeRequestTimeout",void 0),(0,a.default)(this,"_transactionalRequestTimeout",void 0),(0,a.default)(this,"_useSendBeacon",void 0),(0,a.default)(this,"_PNSDKSuffix",void 0),(0,a.default)(this,"requestMessageCountThreshold",void 0),(0,a.default)(this,"restore",void 0),(0,a.default)(this,"dedupeOnSubscribe",void 0),(0,a.default)(this,"maximumCacheSize",void 0),(0,a.default)(this,"customEncrypt",void 0),(0,a.default)(this,"customDecrypt",void 0),(0,a.default)(this,"fileUploadPublishRetryLimit",void 0),(0,a.default)(this,"useRandomIVs",void 0),this._PNSDKSuffix={},this._db=u,this.instanceId="pn-".concat(s.default.createUUID()),this.secretKey=o.secretKey||o.secret_key,this.subscribeKey=o.subscribeKey||o.subscribe_key,this.publishKey=o.publishKey||o.publish_key,this.sdkName=o.sdkName,this.sdkFamily=o.sdkFamily,this.partnerId=o.partnerId,this.setAuthKey(o.authKey),this.setCipherKey(o.cipherKey),this.setFilterExpression(o.filterExpression),this.origin=o.origin||"ps.pndsn.com",this.secure=o.ssl||!1,this.restore=o.restore||!1,this.proxy=o.proxy,this.keepAlive=o.keepAlive,this.keepAliveSettings=o.keepAliveSettings,this.autoNetworkDetection=o.autoNetworkDetection||!1,this.dedupeOnSubscribe=o.dedupeOnSubscribe||!1,this.maximumCacheSize=o.maximumCacheSize||100,this.customEncrypt=o.customEncrypt,this.customDecrypt=o.customDecrypt,this.fileUploadPublishRetryLimit=null!==(n=o.fileUploadPublishRetryLimit)&&void 0!==n?n:5,this.useRandomIVs=null!==(r=o.useRandomIVs)&&void 0!==r&&r,"undefined"!=typeof location&&"https:"===location.protocol&&(this.secure=!0),this.logVerbosity=o.logVerbosity||!1,this.suppressLeaveEvents=o.suppressLeaveEvents||!1,this.announceFailedHeartbeats=o.announceFailedHeartbeats||!0,this.announceSuccessfulHeartbeats=o.announceSuccessfulHeartbeats||!1,this.useInstanceId=o.useInstanceId||!1,this.useRequestId=o.useRequestId||!1,this.requestMessageCountThreshold=o.requestMessageCountThreshold,this.setTransactionTimeout(o.transactionalRequestTimeout||15e3),this.setSubscribeTimeout(o.subscribeRequestTimeout||31e4),this.setSendBeaconConfig(o.useSendBeacon||!0),o.presenceTimeout?this.setPresenceTimeout(o.presenceTimeout):this._presenceTimeout=300,null!=o.heartbeatInterval&&this.setHeartbeatInterval(o.heartbeatInterval),this.setUUID(this._decideUUID(o.uuid))}return(0,o.default)(e,[{key:"getAuthKey",value:function(){return this.authKey}},{key:"setAuthKey",value:function(e){return this.authKey=e,this}},{key:"setCipherKey",value:function(e){return this.cipherKey=e,this}},{key:"getUUID",value:function(){return this.UUID}},{key:"setUUID",value:function(e){return this._db&&this._db.set&&this._db.set("".concat(this.subscribeKey,"uuid"),e),this.UUID=e,this}},{key:"getFilterExpression",value:function(){return this.filterExpression}},{key:"setFilterExpression",value:function(e){return this.filterExpression=e,this}},{key:"getPresenceTimeout",value:function(){return this._presenceTimeout}},{key:"setPresenceTimeout",value:function(e){return e>=20?this._presenceTimeout=e:(this._presenceTimeout=20,console.log("WARNING: Presence timeout is less than the minimum. Using minimum value: ",this._presenceTimeout)),this.setHeartbeatInterval(this._presenceTimeout/2-1),this}},{key:"setProxy",value:function(e){this.proxy=e}},{key:"getHeartbeatInterval",value:function(){return this._heartbeatInterval}},{key:"setHeartbeatInterval",value:function(e){return this._heartbeatInterval=e,this}},{key:"getSubscribeTimeout",value:function(){return this._subscribeRequestTimeout}},{key:"setSubscribeTimeout",value:function(e){return this._subscribeRequestTimeout=e,this}},{key:"getTransactionTimeout",value:function(){return this._transactionalRequestTimeout}},{key:"setTransactionTimeout",value:function(e){return this._transactionalRequestTimeout=e,this}},{key:"isSendBeaconEnabled",value:function(){return this._useSendBeacon}},{key:"setSendBeaconConfig",value:function(e){return this._useSendBeacon=e,this}},{key:"getVersion",value:function(){return"4.29.10"}},{key:"_addPnsdkSuffix",value:function(e,t){this._PNSDKSuffix[e]=t}},{key:"_getPnsdkSuffix",value:function(e){var t=this;return Object.keys(this._PNSDKSuffix).reduce((function(n,r){return n+e+t._PNSDKSuffix[r]}),"")}},{key:"_decideUUID",value:function(e){return e||(this._db&&this._db.get&&this._db.get("".concat(this.subscribeKey,"uuid"))?this._db.get("".concat(this.subscribeKey,"uuid")):"pn-".concat(s.default.createUUID()))}}]),e}());t.default=u,e.exports=t.default},function(e,t,n){var r=n(77),i=n(78),o=n(79),a=n(81);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={PNNetworkUpCategory:"PNNetworkUpCategory",PNNetworkDownCategory:"PNNetworkDownCategory",PNNetworkIssuesCategory:"PNNetworkIssuesCategory",PNTimeoutCategory:"PNTimeoutCategory",PNBadRequestCategory:"PNBadRequestCategory",PNAccessDeniedCategory:"PNAccessDeniedCategory",PNUnknownCategory:"PNUnknownCategory",PNReconnectedCategory:"PNReconnectedCategory",PNConnectedCategory:"PNConnectedCategory",PNRequestMessageCountExceededCategory:"PNRequestMessageCountExceededCategory"},e.exports=t.default},function(e,t,n){e.exports=n(72)},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(15);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(7),i=n(19);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(31)),o={createUUID:function(){return i.default.uuid?i.default.uuid():(0,i.default)()}};t.default=o,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.createValidationError=y,t.generatePNSDK=k,t.signRequest=w,t.default=function(e,t){var n=e.networking,r=e.config,i=e.telemetryManager,o=l.default.createUUID(),a=null,s=null,u={};t.getOperation()===f.default.PNTimeOperation||t.getOperation()===f.default.PNChannelGroupsOperation?a=arguments.length<=2?void 0:arguments[2]:(u=arguments.length<=2?void 0:arguments[2],a=arguments.length<=3?void 0:arguments[3]),"undefined"==typeof Promise||a||(s=d.default.createPromise());var c=t.validateParams(e,u);if(c)return a?a(y(c)):s?(s.reject(new g("Validation failed, check status for details",y(c))),s.promise):void 0;var h,P=t.prepareParams(e,u),S=m(t,e,u),O={url:S,operation:t.getOperation(),timeout:t.getRequestTimeout(e),headers:t.getRequestHeaders?t.getRequestHeaders():{},ignoreBody:"function"==typeof t.ignoreBody&&t.ignoreBody(e),forceBuffered:"function"==typeof t.forceBuffered?t.forceBuffered(e,u):null};P.uuid=r.UUID,P.pnsdk=k(r);var T=i.operationsLatencyForRequest();if(Object.keys(T).length&&(P=v(v({},P),T)),r.useInstanceId&&(P.instanceid=r.instanceId),r.useRequestId&&(P.requestid=o),t.isAuthSupported()){var x=b(t,e,u),L=x||r.getAuthKey();L&&(P.auth=L)}r.secretKey&&w(e,S,P,u,t);var E=function(n,r){var c;if(n.error)a?a(n):s&&s.reject(new g("PubNub call failed, check status for details",n));else{i.stopLatencyMeasure(t.getOperation(),o);var l=t.handleResponse(e,r,u);"function"!=typeof(null===(c=l)||void 0===c?void 0:c.then)&&(l=Promise.resolve(l)),l.then((function(e){a?a(n,e):s&&s.fulfill(e)})).catch((function(e){if(a){var n=e;t.getOperation()===f.default.PNSubscribeOperation&&(n={statusCode:400,error:!0,operation:t.getOperation(),errorData:e,category:p.default.PNUnknownCategory}),a(n,null)}else s&&s.reject(new g("PubNub call failed, check status for details",e))}))}};if(i.startLatencyMeasure(t.getOperation(),o),"POST"===_(e,t,u)){var C=t.postPayload(e,u);h=n.POST(P,C,O,E)}else if("PATCH"===_(e,t,u)){var R=t.patchPayload(e,u);h=n.PATCH(P,R,O,E)}else h="DELETE"===_(e,t,u)?n.DELETE(P,O,E):"GETFILE"===_(e,t,u)?n.GETFILE(P,O,E):n.GET(P,O,E);return t.getOperation()===f.default.PNSubscribeOperation?h:s?s.promise:void 0},t.PubNubError=void 0;var i=r(n(4)),o=r(n(5)),a=r(n(14)),s=r(n(16)),u=r(n(13)),c=r(n(45)),l=r(n(17)),d=(n(2),r(n(3))),f=(r(n(8)),r(n(1))),p=r(n(10));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){(0,a.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}(n);function n(e,r){var i;return(0,o.default)(this,n),(i=t.call(this,e)).name=i.constructor.name,i.status=r,i.message=e,i}return n}((0,c.default)(Error));function y(e){return(t={message:e}).type="validationError",t.error=!0,t;var t}function m(e,t,n){return e.usePost&&e.usePost(t,n)?e.postURL(t,n):e.usePatch&&e.usePatch(t,n)?e.patchURL(t,n):e.useGetFile&&e.useGetFile(t,n)?e.getFileURL(t,n):e.getURL(t,n)}function b(e,t,n){var r;return e.getAuthToken&&(r=e.getAuthToken(t,n)),r}function k(e){if(e.sdkName)return e.sdkName;var t="PubNub-JS-".concat(e.sdkFamily);e.partnerId&&(t+="-".concat(e.partnerId)),t+="/".concat(e.getVersion());var n=e._getPnsdkSuffix(" ");return n.length>0&&(t+=n),t}function _(e,t,n){return t.usePost&&t.usePost(e,n)?"POST":t.usePatch&&t.usePatch(e,n)?"PATCH":t.useDelete&&t.useDelete(e,n)?"DELETE":t.useGetFile&&t.useGetFile(e,n)?"GETFILE":"GET"}function w(e,t,n,r,i){var o=e.config,a=e.crypto,s=_(e,i,r);n.timestamp=Math.floor((new Date).getTime()/1e3),"PNPublishOperation"===i.getOperation()&&i.usePost&&i.usePost(e,r)&&(s="GET"),"GETFILE"===s&&(s="GET");var u="".concat(s,"\n").concat(o.publishKey,"\n").concat(t,"\n").concat(d.default.signPamFromParams(n),"\n");if("POST"===s){var c=i.postPayload(e,r);u+="string"==typeof c?c:JSON.stringify(c)}else if("PATCH"===s){var l=i.patchPayload(e,r);u+="string"==typeof l?l:JSON.stringify(l)}var f="v2.".concat(a.HMACSHA256(u));f=(f=(f=f.replace(/\+/g,"-")).replace(/\//g,"_")).replace(/=+$/,""),n.signature=f}t.PubNubError=g},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){(function(r){var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(5)),a=i(n(6)),s=i(n(4)),u=(i(n(8)),i(n(22)));function c(e){var t,n=[];for(t=0;t<e.length;t+=1)n[t/4|0]|=e[t]<<24-8*t;return u.default.lib.WordArray.create(n,e.length)}var l=function(){function e(t){var n=t.config;(0,o.default)(this,e),(0,s.default)(this,"_config",void 0),(0,s.default)(this,"_iv",void 0),(0,s.default)(this,"_allowedKeyEncodings",void 0),(0,s.default)(this,"_allowedKeyLengths",void 0),(0,s.default)(this,"_allowedModes",void 0),(0,s.default)(this,"_defaultOptions",void 0),this._config=n,this._iv="0123456789012345",this._allowedKeyEncodings=["hex","utf8","base64","binary"],this._allowedKeyLengths=[128,256],this._allowedModes=["ecb","cbc"],this._defaultOptions={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"}}return(0,a.default)(e,[{key:"HMACSHA256",value:function(e){return u.default.HmacSHA256(e,this._config.secretKey).toString(u.default.enc.Base64)}},{key:"SHA256",value:function(e){return u.default.SHA256(e).toString(u.default.enc.Hex)}},{key:"_parseOptions",value:function(e){var t=e||{};return t.hasOwnProperty("encryptKey")||(t.encryptKey=this._defaultOptions.encryptKey),t.hasOwnProperty("keyEncoding")||(t.keyEncoding=this._defaultOptions.keyEncoding),t.hasOwnProperty("keyLength")||(t.keyLength=this._defaultOptions.keyLength),t.hasOwnProperty("mode")||(t.mode=this._defaultOptions.mode),-1===this._allowedKeyEncodings.indexOf(t.keyEncoding.toLowerCase())&&(t.keyEncoding=this._defaultOptions.keyEncoding),-1===this._allowedKeyLengths.indexOf(parseInt(t.keyLength,10))&&(t.keyLength=this._defaultOptions.keyLength),-1===this._allowedModes.indexOf(t.mode.toLowerCase())&&(t.mode=this._defaultOptions.mode),t}},{key:"_decodeKey",value:function(e,t){return"base64"===t.keyEncoding?u.default.enc.Base64.parse(e):"hex"===t.keyEncoding?u.default.enc.Hex.parse(e):e}},{key:"_getPaddedKey",value:function(e,t){return e=this._decodeKey(e,t),t.encryptKey?u.default.enc.Utf8.parse(this.SHA256(e).slice(0,32)):e}},{key:"_getMode",value:function(e){return"ecb"===e.mode?u.default.mode.ECB:u.default.mode.CBC}},{key:"_getIV",value:function(e){return"cbc"===e.mode?u.default.enc.Utf8.parse(this._iv):null}},{key:"_getRandomIV",value:function(){return u.default.lib.WordArray.random(16)}},{key:"encrypt",value:function(e,t,n){return this._config.customEncrypt?this._config.customEncrypt(e):this.pnEncrypt(e,t,n)}},{key:"decrypt",value:function(e,t,n){return this._config.customDecrypt?this._config.customDecrypt(e):this.pnDecrypt(e,t,n)}},{key:"pnEncrypt",value:function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var r=this._getMode(n),i=this._getPaddedKey(t||this._config.cipherKey,n);if(this._config.useRandomIVs){var o=this._getRandomIV(),a=u.default.AES.encrypt(e,i,{iv:o,mode:r}).ciphertext;return o.clone().concat(a.clone()).toString(u.default.enc.Base64)}var s=this._getIV(n);return u.default.AES.encrypt(e,i,{iv:s,mode:r}).ciphertext.toString(u.default.enc.Base64)||e}},{key:"pnDecrypt",value:function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var i=this._getMode(n),o=this._getPaddedKey(t||this._config.cipherKey,n);if(this._config.useRandomIVs){var a=r.from(e,"base64"),s=c(a.slice(0,16)),l=c(a.slice(16));try{var d=u.default.AES.decrypt({ciphertext:l},o,{iv:s,mode:i}).toString(u.default.enc.Utf8);return JSON.parse(d)}catch(e){return null}}else{var f=this._getIV(n);try{var p=u.default.enc.Base64.parse(e),h=u.default.AES.decrypt({ciphertext:p},o,{iv:f,mode:i}).toString(u.default.enc.Utf8);return JSON.parse(h)}catch(e){return null}}}}]),e}();t.default=l,e.exports=t.default}).call(this,n(21).Buffer)},function(e,t,n){(function(e){
/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <http://feross.org>
	 * @license  MIT
	 */
var r=n(33),i=n(34),o=n(35);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var d=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function k(e,t,n,r){return G(B(t,e.length-n),e,n,r)}function _(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function P(e,t,n,r){return G(K(t),e,n,r)}function S(e,t,n,r){return G(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function E(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function C(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),d=0;d<s;++d)if(c[d]!==l[d]){o=c[d],a=l[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return P(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:B(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(32))},function(e,t,n){var r,i,o,a,s,u=u||function(e,t){var n={},r=n.lib={},i=function(){},o=r.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},u=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,i=e.min(4*t,i),t){for(var u=0;u<t;u+=o)this._doProcessBlock(r,u);u=r.splice(0,t),n.sigBytes-=i}return new a.init(u,i)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=n.algo={};return n}(Math);!function(e){for(var t=u,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,o=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},c=2,l=0;64>l;){var d;e:{d=c;for(var f=e.sqrt(d),p=2;p<=f;p++)if(!(d%p)){d=!1;break e}d=!0}d&&(8>l&&(o[l]=s(e.pow(c,.5))),a[l]=s(e.pow(c,1/3)),l++),c++}var h=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],u=n[4],c=n[5],l=n[6],d=n[7],f=0;64>f;f++){if(16>f)h[f]=0|e[t+f];else{var p=h[f-15],v=h[f-2];h[f]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+h[f-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+h[f-16]}p=d+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+a[f]+h[f],v=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),d=l,l=c,c=u,u=s+p|0,s=o,o=i,i=r,r=p+v|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+l|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),i=(r=u).enc.Utf8,r.algo.HMAC=r.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,u=a.words,c=0;c<n;c++)s[c]^=1549556828,u[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),a=(o=u).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<n;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,n=this._map;(r=n.charAt(64))&&-1!=(r=e.indexOf(r))&&(t=r);for(var r=[],i=0,o=0;o<t;o++)if(o%4){var s=n.indexOf(e.charAt(o-1))<<o%4*2,u=n.indexOf(e.charAt(o))>>>6-o%4*2;r[i>>>2]|=(s|u)<<24-i%4*8,i++}return a.create(r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,n,r,i,o,a){return((e=e+(t&n|~t&r)+i+a)<<o|e>>>32-o)+t}function n(e,t,n,r,i,o,a){return((e=e+(t&r|n&~r)+i+a)<<o|e>>>32-o)+t}function r(e,t,n,r,i,o,a){return((e=e+(t^n^r)+i+a)<<o|e>>>32-o)+t}function i(e,t,n,r,i,o,a){return((e=e+(n^(t|~r))+i+a)<<o|e>>>32-o)+t}for(var o=u,a=(c=o.lib).WordArray,s=c.Hasher,c=o.algo,l=[],d=0;64>d;d++)l[d]=4294967296*e.abs(e.sin(d+1))|0;c=c.MD5=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var a=0;16>a;a++){var s=e[u=o+a];e[u]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}a=this._hash.words;var u=e[o+0],c=(s=e[o+1],e[o+2]),d=e[o+3],f=e[o+4],p=e[o+5],h=e[o+6],v=e[o+7],g=e[o+8],y=e[o+9],m=e[o+10],b=e[o+11],k=e[o+12],_=e[o+13],w=e[o+14],P=e[o+15],S=t(S=a[0],x=a[1],T=a[2],O=a[3],u,7,l[0]),O=t(O,S,x,T,s,12,l[1]),T=t(T,O,S,x,c,17,l[2]),x=t(x,T,O,S,d,22,l[3]);S=t(S,x,T,O,f,7,l[4]),O=t(O,S,x,T,p,12,l[5]),T=t(T,O,S,x,h,17,l[6]),x=t(x,T,O,S,v,22,l[7]),S=t(S,x,T,O,g,7,l[8]),O=t(O,S,x,T,y,12,l[9]),T=t(T,O,S,x,m,17,l[10]),x=t(x,T,O,S,b,22,l[11]),S=t(S,x,T,O,k,7,l[12]),O=t(O,S,x,T,_,12,l[13]),T=t(T,O,S,x,w,17,l[14]),S=n(S,x=t(x,T,O,S,P,22,l[15]),T,O,s,5,l[16]),O=n(O,S,x,T,h,9,l[17]),T=n(T,O,S,x,b,14,l[18]),x=n(x,T,O,S,u,20,l[19]),S=n(S,x,T,O,p,5,l[20]),O=n(O,S,x,T,m,9,l[21]),T=n(T,O,S,x,P,14,l[22]),x=n(x,T,O,S,f,20,l[23]),S=n(S,x,T,O,y,5,l[24]),O=n(O,S,x,T,w,9,l[25]),T=n(T,O,S,x,d,14,l[26]),x=n(x,T,O,S,g,20,l[27]),S=n(S,x,T,O,_,5,l[28]),O=n(O,S,x,T,c,9,l[29]),T=n(T,O,S,x,v,14,l[30]),S=r(S,x=n(x,T,O,S,k,20,l[31]),T,O,p,4,l[32]),O=r(O,S,x,T,g,11,l[33]),T=r(T,O,S,x,b,16,l[34]),x=r(x,T,O,S,w,23,l[35]),S=r(S,x,T,O,s,4,l[36]),O=r(O,S,x,T,f,11,l[37]),T=r(T,O,S,x,v,16,l[38]),x=r(x,T,O,S,m,23,l[39]),S=r(S,x,T,O,_,4,l[40]),O=r(O,S,x,T,u,11,l[41]),T=r(T,O,S,x,d,16,l[42]),x=r(x,T,O,S,h,23,l[43]),S=r(S,x,T,O,y,4,l[44]),O=r(O,S,x,T,k,11,l[45]),T=r(T,O,S,x,P,16,l[46]),S=i(S,x=r(x,T,O,S,c,23,l[47]),T,O,u,6,l[48]),O=i(O,S,x,T,v,10,l[49]),T=i(T,O,S,x,w,15,l[50]),x=i(x,T,O,S,p,21,l[51]),S=i(S,x,T,O,k,6,l[52]),O=i(O,S,x,T,d,10,l[53]),T=i(T,O,S,x,m,15,l[54]),x=i(x,T,O,S,s,21,l[55]),S=i(S,x,T,O,g,6,l[56]),O=i(O,S,x,T,P,10,l[57]),T=i(T,O,S,x,h,15,l[58]),x=i(x,T,O,S,_,21,l[59]),S=i(S,x,T,O,f,6,l[60]),O=i(O,S,x,T,b,10,l[61]),T=i(T,O,S,x,c,15,l[62]),x=i(x,T,O,S,y,21,l[63]),a[0]=a[0]+S|0,a[1]=a[1]+x|0,a[2]=a[2]+T|0,a[3]=a[3]+O|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=s._createHelper(c),o.HmacMD5=s._createHmacHelper(c)}(Math),function(){var e,t=u,n=(e=t.lib).Base,r=e.WordArray,i=(e=t.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(s=this.cfg).hasher.create(),i=r.create(),o=i.words,a=s.keySize,s=s.iterations;o.length<a;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var c=1;c<s;c++)u=n.finalize(u),n.reset();i.concat(u)}return i.sigBytes=4*a,i}});t.EvpKDF=function(e,t,n){return i.create(n).compute(e,t)}}(),u.lib.Cipher||function(e){var t=(h=u).lib,n=t.Base,r=t.WordArray,i=t.BufferedBlockAlgorithm,o=h.enc.Base64,a=h.algo.EvpKDF,s=t.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?v:p).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?v:p).decrypt(e,t,n,r)}}}});t.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=h.mode={},l=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},d=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();d.Encryptor=d.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;l.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),d.Decryptor=d.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),l.call(this,e,t,r),this._prevBlock=i}}),c=c.CBC=d,d=(h.pad={}).Pkcs7={pad:function(e,t){for(var n,i=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(i);n=r.create(o,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=s.extend({cfg:s.cfg.extend({mode:c,padding:d}),reset:function(){s.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var f=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),p=(c=(h.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){var t=(e=o.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:c}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,f.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),h=(h.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=r.random(8)),e=a.create({keySize:t+n}).compute(e,i),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,f.create({key:e,iv:n,salt:i})}},v=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:h}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,p.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=u,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],o=[],a=[],s=[],c=[],l=[],d=[],f=[],p=[],h=[],v=0;256>v;v++)h[v]=128>v?v<<1:v<<1^283;var g=0,y=0;for(v=0;256>v;v++){var m=(m=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&m^99;r[g]=m,i[m]=g;var b=h[g],k=h[b],_=h[k],w=257*h[m]^16843008*m;o[g]=w<<24|w>>>8,a[g]=w<<16|w>>>16,s[g]=w<<8|w>>>24,c[g]=w,w=16843009*_^65537*k^257*b^16843008*g,l[m]=w<<24|w>>>8,d[m]=w<<16|w>>>16,f[m]=w<<8|w>>>24,p[m]=w,g?(g=b^h[h[h[_^b]]],y^=h[h[y]]):g=y=1}var P=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],o=0;o<n;o++)if(o<t)i[o]=e[o];else{var a=i[o-1];o%t?6<t&&4==o%t&&(a=r[a>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a]):(a=r[(a=a<<8|a>>>24)>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a],a^=P[o/t|0]<<24),i[o]=i[o-t]^a}for(e=this._invKeySchedule=[],t=0;t<n;t++)o=n-t,a=t%4?i[o]:i[o-4],e[t]=4>t||4>=o?a:l[r[a>>>24]]^d[r[a>>>16&255]]^f[r[a>>>8&255]]^p[r[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,a,s,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,d,f,p,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var u=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],d=e[t+2]^n[2],f=e[t+3]^n[3],p=4,h=1;h<u;h++){var v=r[c>>>24]^i[l>>>16&255]^o[d>>>8&255]^a[255&f]^n[p++],g=r[l>>>24]^i[d>>>16&255]^o[f>>>8&255]^a[255&c]^n[p++],y=r[d>>>24]^i[f>>>16&255]^o[c>>>8&255]^a[255&l]^n[p++];f=r[f>>>24]^i[c>>>16&255]^o[l>>>8&255]^a[255&d]^n[p++],c=v,l=g,d=y}v=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&f])^n[p++],g=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[f>>>8&255]<<8|s[255&c])^n[p++],y=(s[d>>>24]<<24|s[f>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^n[p++],f=(s[f>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^n[p++],e[t]=v,e[t+1]=g,e[t+2]=y,e[t+3]=f},keySize:8}),e.AES=t._createHelper(n)}(),u.mode.ECB=((s=u.lib.BlockCipherMode.extend()).Encryptor=s.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),s.Decryptor=s.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),s),e.exports=u},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(5)),o=r(n(6)),a=r(n(4)),s=(n(2),r(n(10))),u=function(){function e(){(0,i.default)(this,e),(0,a.default)(this,"_listeners",void 0),this._listeners=[]}return(0,o.default)(e,[{key:"addListener",value:function(e){this._listeners.push(e)}},{key:"removeListener",value:function(e){var t=[];this._listeners.forEach((function(n){n!==e&&t.push(n)})),this._listeners=t}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"announcePresence",value:function(e){this._listeners.forEach((function(t){t.presence&&t.presence(e)}))}},{key:"announceStatus",value:function(e){this._listeners.forEach((function(t){t.status&&t.status(e)}))}},{key:"announceMessage",value:function(e){this._listeners.forEach((function(t){t.message&&t.message(e)}))}},{key:"announceSignal",value:function(e){this._listeners.forEach((function(t){t.signal&&t.signal(e)}))}},{key:"announceMessageAction",value:function(e){this._listeners.forEach((function(t){t.messageAction&&t.messageAction(e)}))}},{key:"announceFile",value:function(e){this._listeners.forEach((function(t){t.file&&t.file(e)}))}},{key:"announceObjects",value:function(e){this._listeners.forEach((function(t){t.objects&&t.objects(e)}))}},{key:"announceUser",value:function(e){this._listeners.forEach((function(t){t.user&&t.user(e)}))}},{key:"announceSpace",value:function(e){this._listeners.forEach((function(t){t.space&&t.space(e)}))}},{key:"announceMembership",value:function(e){this._listeners.forEach((function(t){t.membership&&t.membership(e)}))}},{key:"announceNetworkUp",value:function(){var e={};e.category=s.default.PNNetworkUpCategory,this.announceStatus(e)}},{key:"announceNetworkDown",value:function(){var e={};e.category=s.default.PNNetworkDownCategory,this.announceStatus(e)}}]),e}();t.default=u,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNTimeOperation},t.getURL=function(){return"/time/0"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(){return{}},t.isAuthSupported=function(){return!1},t.handleResponse=function(e,t){return{timetoken:t[0]}},t.validateParams=function(){},n(2);var i=r(n(1))},function(e,t,n){},function(e,t,n){e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(5)),o=r(n(14)),a=r(n(16)),s=r(n(13)),u=r(n(7)),c=r(n(28)),l=r(n(29)),d=r(n(121)),f=r(n(22)),p=r(n(122)),h=r(n(123)),v=n(124),g=(n(2),r(n(131))),y=r(n(132));function m(e){if(!navigator||!navigator.sendBeacon)return!1;navigator.sendBeacon(e)}function b(e){for(var t=f.default.enc.Base64.parse(e).words,n=new ArrayBuffer(4*t.length),r=new Uint8Array(n),i=0,o=0,a=0;a<t.length;a+=1){var s=t[a];r[o=4*a]=(4278190080&s)>>24,r[o+1]=(16711680&s)>>16,r[o+2]=(65280&s)>>8,r[o+3]=255&s}for(var u=o+3;u>=o;u-=1)0===r[u]&&(i+=1);return i>0?r.buffer.slice(0,r.byteLength-i):r.buffer}var k=function(e){(0,o.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}(n);function n(e){var r;(0,i.default)(this,n);var o=e.listenToBrowserNetworkEvents,a=void 0===o||o;return e.db=p.default,e.sdkFamily="Web",e.networking=new d.default({del:v.del,get:v.get,post:v.post,patch:v.patch,sendBeacon:m,getfile:v.getfile,postfile:v.postfile}),e.cbor=new h.default((function(e){return function e(t){var n=function(e){return e&&"object"===(0,u.default)(e)&&e.constructor===Object};if(!n(t))return t;var r={};return Object.keys(t).forEach((function(i){var o=function(e){return"string"==typeof e||e instanceof String}(i),a=i,s=t[i];Array.isArray(i)||o&&i.indexOf(",")>=0?a=(o?i.split(","):i).reduce((function(e,t){return e+String.fromCharCode(t)}),""):(function(e){return"number"==typeof e&&isFinite(e)}(i)||o&&!isNaN(i))&&(a=String.fromCharCode(o?parseInt(i,10):10)),r[a]=n(s)?e(s):s})),r}(c.default.decode(e))}),b),e.PubNubFile=y.default,e.cryptography=new g.default,r=t.call(this,e),a&&(window.addEventListener("offline",(function(){r.networkDownDetected()})),window.addEventListener("online",(function(){r.networkUpDetected()}))),r}return n}(l.default);t.default=k,e.exports=t.default},function(e,t,n){var r,i,o,a,s;o=Math.pow(2,-24),a=Math.pow(2,32),s=Math.pow(2,53),void 0===(i="function"==typeof(r={encode:function(e){var t,n=new ArrayBuffer(256),r=new DataView(n),i=0;function o(e){for(var o=n.byteLength,a=i+e;o<a;)o*=2;if(o!==n.byteLength){var s=r;n=new ArrayBuffer(o),r=new DataView(n);for(var u=i+3>>2,c=0;c<u;++c)r.setUint32(4*c,s.getUint32(4*c))}return t=e,r}function u(){i+=t}function c(e){u(o(1).setUint8(i,e))}function l(e){for(var t=o(e.length),n=0;n<e.length;++n)t.setUint8(i+n,e[n]);u()}function d(e,t){t<24?c(e<<5|t):t<256?(c(e<<5|24),c(t)):t<65536?(c(e<<5|25),function(e){u(o(2).setUint16(i,e))}(t)):t<4294967296?(c(e<<5|26),function(e){u(o(4).setUint32(i,e))}(t)):(c(e<<5|27),function(e){var t=e%a,n=(e-t)/a,r=o(8);r.setUint32(i,n),r.setUint32(i+4,t),u()}(t))}if(function e(t){var n;if(!1===t)return c(244);if(!0===t)return c(245);if(null===t)return c(246);if(void 0===t)return c(247);switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=s)return d(0,t);if(-s<=t&&t<0)return d(1,-(t+1))}return c(251),function(e){u(o(8).setFloat64(i,e))}(t);case"string":var r=[];for(n=0;n<t.length;++n){var a=t.charCodeAt(n);a<128?r.push(a):a<2048?(r.push(192|a>>6),r.push(128|63&a)):a<55296?(r.push(224|a>>12),r.push(128|a>>6&63),r.push(128|63&a)):(a=(1023&a)<<10,a|=1023&t.charCodeAt(++n),a+=65536,r.push(240|a>>18),r.push(128|a>>12&63),r.push(128|a>>6&63),r.push(128|63&a))}return d(3,r.length),l(r);default:var f;if(Array.isArray(t))for(d(4,f=t.length),n=0;n<f;++n)e(t[n]);else if(t instanceof Uint8Array)d(2,t.length),l(t);else{var p=Object.keys(t);for(d(5,f=p.length),n=0;n<f;++n){var h=p[n];e(h),e(t[h])}}}}(e),"slice"in n)return n.slice(0,i);for(var f=new ArrayBuffer(i),p=new DataView(f),h=0;h<i;++h)p.setUint8(h,r.getUint8(h));return f},decode:function(e,t,n){var r=new DataView(e),i=0;function s(e,t){return i+=t,e}function u(t){return s(new Uint8Array(e,i,t),t)}function c(){return s(r.getUint8(i),1)}function l(){return s(r.getUint16(i),2)}function d(){return s(r.getUint32(i),4)}function f(){return 255===r.getUint8(i)&&(i+=1,!0)}function p(e){if(e<24)return e;if(24===e)return c();if(25===e)return l();if(26===e)return d();if(27===e)return d()*a+d();if(31===e)return-1;throw"Invalid length encoding"}function h(e){var t=c();if(255===t)return-1;var n=p(31&t);if(n<0||t>>5!==e)throw"Invalid indefinite length element";return n}function v(e,t){for(var n=0;n<t;++n){var r=c();128&r&&(r<224?(r=(31&r)<<6|63&c(),t-=1):r<240?(r=(15&r)<<12|(63&c())<<6|63&c(),t-=2):(r=(15&r)<<18|(63&c())<<12|(63&c())<<6|63&c(),t-=3)),r<65536?e.push(r):(r-=65536,e.push(55296|r>>10),e.push(56320|1023&r))}}"function"!=typeof t&&(t=function(e){return e}),"function"!=typeof n&&(n=function(){});var g=function e(){var a,d,g=c(),y=g>>5,m=31&g;if(7===y)switch(m){case 25:return function(){var e=new ArrayBuffer(4),t=new DataView(e),n=l(),r=32768&n,i=31744&n,a=1023&n;if(31744===i)i=261120;else if(0!==i)i+=114688;else if(0!==a)return a*o;return t.setUint32(0,r<<16|i<<13|a<<13),t.getFloat32(0)}();case 26:return s(r.getFloat32(i),4);case 27:return s(r.getFloat64(i),8)}if((d=p(m))<0&&(y<2||6<y))throw"Invalid length";switch(y){case 0:return d;case 1:return-1-d;case 2:if(d<0){for(var b=[],k=0;(d=h(y))>=0;)k+=d,b.push(u(d));var _=new Uint8Array(k),w=0;for(a=0;a<b.length;++a)_.set(b[a],w),w+=b[a].length;return _}return u(d);case 3:var P=[];if(d<0)for(;(d=h(y))>=0;)v(P,d);else v(P,d);return String.fromCharCode.apply(null,P);case 4:var S;if(d<0)for(S=[];!f();)S.push(e());else for(S=new Array(d),a=0;a<d;++a)S[a]=e();return S;case 5:var O={};for(a=0;a<d||d<0&&!f();++a)O[e()]=e();return O;case 6:return t(e(),d);case 7:switch(d){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:return n(d)}}}();if(i!==e.byteLength)throw"Remaining bytes";return g}})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){var r=n(30),i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(5)),a=i(n(6)),s=i(n(4)),u=i(n(8)),c=i(n(20)),l=i(n(36)),d=i(n(40)),f=i(n(41)),p=i(n(23)),h=i(n(44)),v=i(n(18)),g=n(3),y=r(n(49)),m=r(n(50)),b=r(n(51)),k=r(n(52)),_=r(n(53)),w=r(n(54)),P=r(n(55)),S=r(n(56)),O=r(n(57)),T=r(n(58)),x=r(n(59)),L=r(n(60)),E=r(n(61)),C=r(n(62)),R=r(n(63)),M=r(n(64)),A=r(n(65)),j=r(n(66)),N=(n(25),r(n(67)),i(n(68))),I=i(n(69)),U=i(n(70)),D=i(n(71)),F=i(n(73)),B=i(n(74)),K=i(n(75)),G=i(n(76)),q=i(n(82)),H=i(n(83)),z=i(n(84)),V=i(n(85)),W=i(n(86)),Y=i(n(87)),$=i(n(88)),J=i(n(89)),X=i(n(90)),Q=i(n(91)),Z=i(n(92)),ee=r(n(93)),te=r(n(94)),ne=r(n(95)),re=r(n(96)),ie=r(n(97)),oe=r(n(98)),ae=r(n(99)),se=r(n(100)),ue=r(n(101)),ce=r(n(102)),le=r(n(103)),de=r(n(104)),fe=r(n(105)),pe=r(n(106)),he=r(n(107)),ve=r(n(108)),ge=r(n(109)),ye=r(n(110)),me=r(n(111)),be=r(n(112)),ke=r(n(113)),_e=r(n(114)),we=r(n(115)),Pe=r(n(116)),Se=r(n(117)),Oe=r(n(118)),Te=r(n(119)),xe=r(n(24)),Le=r(n(120)),Ee=i(n(1)),Ce=i(n(10)),Re=(n(2),i(n(17)));function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=function(){function e(t){var n=this;(0,o.default)(this,e),(0,s.default)(this,"_config",void 0),(0,s.default)(this,"_telemetryManager",void 0),(0,s.default)(this,"_listenerManager",void 0),(0,s.default)(this,"_tokenManager",void 0),(0,s.default)(this,"time",void 0),(0,s.default)(this,"publish",void 0),(0,s.default)(this,"fire",void 0),(0,s.default)(this,"history",void 0),(0,s.default)(this,"deleteMessages",void 0),(0,s.default)(this,"messageCounts",void 0),(0,s.default)(this,"fetchMessages",void 0),(0,s.default)(this,"channelGroups",void 0),(0,s.default)(this,"push",void 0),(0,s.default)(this,"hereNow",void 0),(0,s.default)(this,"whereNow",void 0),(0,s.default)(this,"getState",void 0),(0,s.default)(this,"setState",void 0),(0,s.default)(this,"grant",void 0),(0,s.default)(this,"grantToken",void 0),(0,s.default)(this,"audit",void 0),(0,s.default)(this,"subscribe",void 0),(0,s.default)(this,"signal",void 0),(0,s.default)(this,"presence",void 0),(0,s.default)(this,"unsubscribe",void 0),(0,s.default)(this,"unsubscribeAll",void 0),(0,s.default)(this,"addMessageAction",void 0),(0,s.default)(this,"removeMessageAction",void 0),(0,s.default)(this,"getMessageActions",void 0),(0,s.default)(this,"File",void 0),(0,s.default)(this,"encryptFile",void 0),(0,s.default)(this,"decryptFile",void 0),(0,s.default)(this,"listFiles",void 0),(0,s.default)(this,"sendFile",void 0),(0,s.default)(this,"downloadFile",void 0),(0,s.default)(this,"getFileUrl",void 0),(0,s.default)(this,"deleteFile",void 0),(0,s.default)(this,"publishFile",void 0),(0,s.default)(this,"objects",void 0),(0,s.default)(this,"createUser",void 0),(0,s.default)(this,"updateUser",void 0),(0,s.default)(this,"deleteUser",void 0),(0,s.default)(this,"getUser",void 0),(0,s.default)(this,"getUsers",void 0),(0,s.default)(this,"createSpace",void 0),(0,s.default)(this,"updateSpace",void 0),(0,s.default)(this,"deleteSpace",void 0),(0,s.default)(this,"getSpaces",void 0),(0,s.default)(this,"getSpace",void 0),(0,s.default)(this,"getMembers",void 0),(0,s.default)(this,"addMembers",void 0),(0,s.default)(this,"updateMembers",void 0),(0,s.default)(this,"removeMembers",void 0),(0,s.default)(this,"getMemberships",void 0),(0,s.default)(this,"joinSpaces",void 0),(0,s.default)(this,"updateMemberships",void 0),(0,s.default)(this,"leaveSpaces",void 0),(0,s.default)(this,"disconnect",void 0),(0,s.default)(this,"reconnect",void 0),(0,s.default)(this,"destroy",void 0),(0,s.default)(this,"stop",void 0),(0,s.default)(this,"getSubscribedChannels",void 0),(0,s.default)(this,"getSubscribedChannelGroups",void 0),(0,s.default)(this,"addListener",void 0),(0,s.default)(this,"removeListener",void 0),(0,s.default)(this,"removeAllListeners",void 0),(0,s.default)(this,"parseToken",void 0),(0,s.default)(this,"setToken",void 0),(0,s.default)(this,"setTokens",void 0),(0,s.default)(this,"getToken",void 0),(0,s.default)(this,"getTokens",void 0),(0,s.default)(this,"clearTokens",void 0),(0,s.default)(this,"getAuthKey",void 0),(0,s.default)(this,"setAuthKey",void 0),(0,s.default)(this,"setCipherKey",void 0),(0,s.default)(this,"setUUID",void 0),(0,s.default)(this,"getUUID",void 0),(0,s.default)(this,"getFilterExpression",void 0),(0,s.default)(this,"setFilterExpression",void 0),(0,s.default)(this,"setHeartbeatInterval",void 0),(0,s.default)(this,"setProxy",void 0),(0,s.default)(this,"encrypt",void 0),(0,s.default)(this,"decrypt",void 0);var r=t.db,i=t.networking,a=t.cbor,f=this._config=new u.default({setup:t,db:r}),Ee=new c.default({config:f}),Ce=t.cryptography;i.init(f);var Re=this._tokenManager=new h.default(f,a),Me=this._telemetryManager=new d.default({maximumSamplesCount:6e4}),je={config:f,networking:i,crypto:Ee,cryptography:Ce,tokenManager:Re,telemetryManager:Me,PubNubFile:t.PubNubFile};this.File=t.PubNubFile,this.encryptFile=function(e,t){return Ce.encryptFile(e,t,n.File)},this.decryptFile=function(e,t){return Ce.decryptFile(e,t,n.File)};var Ne=v.default.bind(this,je,xe),Ie=v.default.bind(this,je,T),Ue=v.default.bind(this,je,L),De=v.default.bind(this,je,C),Fe=v.default.bind(this,je,Le),Be=this._listenerManager=new p.default,Ke=new l.default({timeEndpoint:Ne,leaveEndpoint:Ie,heartbeatEndpoint:Ue,setStateEndpoint:De,subscribeEndpoint:Fe,crypto:je.crypto,config:je.config,listenerManager:Be,getFileUrl:function(e){return(0,F.default)(je,e)}});this.addListener=Be.addListener.bind(Be),this.removeListener=Be.removeListener.bind(Be),this.removeAllListeners=Be.removeAllListeners.bind(Be),this.parseToken=Re.parseToken.bind(Re),this.setToken=Re.setToken.bind(Re),this.setTokens=Re.setTokens.bind(Re),this.getToken=Re.getToken.bind(Re),this.getTokens=Re.getTokens.bind(Re),this.clearTokens=Re.clearTokens.bind(Re),this.channelGroups={listGroups:v.default.bind(this,je,k),listChannels:v.default.bind(this,je,_),addChannels:v.default.bind(this,je,y),removeChannels:v.default.bind(this,je,m),deleteGroup:v.default.bind(this,je,b)},this.push={addChannels:v.default.bind(this,je,w),removeChannels:v.default.bind(this,je,P),deleteDevice:v.default.bind(this,je,O),listChannels:v.default.bind(this,je,S)},this.hereNow=v.default.bind(this,je,R),this.whereNow=v.default.bind(this,je,x),this.getState=v.default.bind(this,je,E),this.setState=Ke.adaptStateChange.bind(Ke),this.grant=v.default.bind(this,je,be),this.grantToken=v.default.bind(this,je,ke),this.audit=v.default.bind(this,je,me),this.publish=v.default.bind(this,je,_e),this.fire=function(e,t){return e.replicate=!1,e.storeInHistory=!1,n.publish(e,t)},this.signal=v.default.bind(this,je,we),this.history=v.default.bind(this,je,Pe),this.deleteMessages=v.default.bind(this,je,Se),this.messageCounts=v.default.bind(this,je,Oe),this.fetchMessages=v.default.bind(this,je,Te),this.addMessageAction=v.default.bind(this,je,M),this.removeMessageAction=v.default.bind(this,je,A),this.getMessageActions=v.default.bind(this,je,j),this.listFiles=v.default.bind(this,je,N.default);var Ge=v.default.bind(this,je,I.default);this.publishFile=v.default.bind(this,je,U.default),this.sendFile=(0,D.default)({generateUploadUrl:Ge,publishFile:this.publishFile,modules:je}),this.getFileUrl=function(e){return(0,F.default)(je,e)},this.downloadFile=v.default.bind(this,je,B.default),this.deleteFile=v.default.bind(this,je,K.default),this.objects={getAllUUIDMetadata:v.default.bind(this,je,G.default),getUUIDMetadata:v.default.bind(this,je,q.default),setUUIDMetadata:v.default.bind(this,je,H.default),removeUUIDMetadata:v.default.bind(this,je,z.default),getAllChannelMetadata:v.default.bind(this,je,V.default),getChannelMetadata:v.default.bind(this,je,W.default),setChannelMetadata:v.default.bind(this,je,Y.default),removeChannelMetadata:v.default.bind(this,je,$.default),getChannelMembers:v.default.bind(this,je,J.default),setChannelMembers:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return v.default.call.apply(v.default,[n,je,X.default,Ae({type:"set"},e)].concat(r))},removeChannelMembers:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return v.default.call.apply(v.default,[n,je,X.default,Ae({type:"delete"},e)].concat(r))},getMemberships:v.default.bind(this,je,Q.default),setMemberships:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return v.default.call.apply(v.default,[n,je,Z.default,Ae({type:"set"},e)].concat(r))},removeMemberships:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return v.default.call.apply(v.default,[n,je,Z.default,Ae({type:"delete"},e)].concat(r))}},this.createUser=(0,g.deprecated)(v.default.bind(this,je,ee)),this.updateUser=(0,g.deprecated)(v.default.bind(this,je,te)),this.deleteUser=(0,g.deprecated)(v.default.bind(this,je,ne)),this.getUser=(0,g.deprecated)(v.default.bind(this,je,re)),this.getUsers=(0,g.deprecated)(v.default.bind(this,je,ie)),this.createSpace=(0,g.deprecated)(v.default.bind(this,je,oe)),this.updateSpace=(0,g.deprecated)(v.default.bind(this,je,ae)),this.deleteSpace=(0,g.deprecated)(v.default.bind(this,je,se)),this.getSpaces=(0,g.deprecated)(v.default.bind(this,je,ue)),this.getSpace=(0,g.deprecated)(v.default.bind(this,je,ce)),this.addMembers=(0,g.deprecated)(v.default.bind(this,je,de)),this.updateMembers=(0,g.deprecated)(v.default.bind(this,je,fe)),this.removeMembers=(0,g.deprecated)(v.default.bind(this,je,pe)),this.getMembers=(0,g.deprecated)(v.default.bind(this,je,le)),this.getMemberships=(0,g.deprecated)(v.default.bind(this,je,he)),this.joinSpaces=(0,g.deprecated)(v.default.bind(this,je,ge)),this.updateMemberships=(0,g.deprecated)(v.default.bind(this,je,ve)),this.leaveSpaces=(0,g.deprecated)(v.default.bind(this,je,ye)),this.time=Ne,this.subscribe=Ke.adaptSubscribeChange.bind(Ke),this.presence=Ke.adaptPresenceChange.bind(Ke),this.unsubscribe=Ke.adaptUnsubscribeChange.bind(Ke),this.disconnect=Ke.disconnect.bind(Ke),this.reconnect=Ke.reconnect.bind(Ke),this.destroy=function(e){Ke.unsubscribeAll(e),Ke.disconnect()},this.stop=this.destroy,this.unsubscribeAll=Ke.unsubscribeAll.bind(Ke),this.getSubscribedChannels=Ke.getSubscribedChannels.bind(Ke),this.getSubscribedChannelGroups=Ke.getSubscribedChannelGroups.bind(Ke),this.encrypt=Ee.encrypt.bind(Ee),this.decrypt=Ee.decrypt.bind(Ee),this.getAuthKey=je.config.getAuthKey.bind(je.config),this.setAuthKey=je.config.setAuthKey.bind(je.config),this.setCipherKey=je.config.setCipherKey.bind(je.config),this.getUUID=je.config.getUUID.bind(je.config),this.setUUID=je.config.setUUID.bind(je.config),this.getFilterExpression=je.config.getFilterExpression.bind(je.config),this.setFilterExpression=je.config.setFilterExpression.bind(je.config),this.setHeartbeatInterval=je.config.setHeartbeatInterval.bind(je.config),i.hasModule("proxy")&&(this.setProxy=function(e){je.config.setProxy(e),n.reconnect()})}return(0,a.default)(e,[{key:"getVersion",value:function(){return this._config.getVersion()}},{key:"_addPnsdkSuffix",value:function(e,t){this._config._addPnsdkSuffix(e,t)}},{key:"networkDownDetected",value:function(){this._listenerManager.announceNetworkDown(),this._config.restore?this.disconnect():this.destroy(!0)}},{key:"networkUpDetected",value:function(){this._listenerManager.announceNetworkUp(),this.reconnect()}}],[{key:"notificationPayload",value:function(e,t){return new f.default(e,t)}},{key:"generateUUID",value:function(){return Re.default.createUUID()}}]),e}();t.default=je,(0,s.default)(je,"OPERATIONS",Ee.default),(0,s.default)(je,"CATEGORIES",Ce.default),e.exports=t.default},function(e,t,n){var r=n(7);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){var r,i;/*! lil-uuid - v0.1 - MIT License - https://github.com/lil-js/uuid */void 0===(i="function"==typeof(r=function(e){var t={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function n(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n}function r(e,n){var r=t[n||"all"];return r&&r.test(e)||!1}n.isUUID=r,n.VERSION="0.1.0",e.uuid=n,e.isUUID=r})?r.apply(t,[t]):r)||(e.exports=i)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7)),o=r(n(5)),a=r(n(6)),s=r(n(4)),u=(r(n(20)),r(n(8)),r(n(23)),r(n(37))),c=r(n(38)),l=r(n(3)),d=(n(2),r(n(10))),f=function(){function e(t){var n=t.subscribeEndpoint,r=t.leaveEndpoint,i=t.heartbeatEndpoint,a=t.setStateEndpoint,l=t.timeEndpoint,d=t.getFileUrl,f=t.config,p=t.crypto,h=t.listenerManager;(0,o.default)(this,e),(0,s.default)(this,"_crypto",void 0),(0,s.default)(this,"_config",void 0),(0,s.default)(this,"_listenerManager",void 0),(0,s.default)(this,"_reconnectionManager",void 0),(0,s.default)(this,"_leaveEndpoint",void 0),(0,s.default)(this,"_heartbeatEndpoint",void 0),(0,s.default)(this,"_setStateEndpoint",void 0),(0,s.default)(this,"_subscribeEndpoint",void 0),(0,s.default)(this,"_getFileUrl",void 0),(0,s.default)(this,"_channels",void 0),(0,s.default)(this,"_presenceChannels",void 0),(0,s.default)(this,"_heartbeatChannels",void 0),(0,s.default)(this,"_heartbeatChannelGroups",void 0),(0,s.default)(this,"_channelGroups",void 0),(0,s.default)(this,"_presenceChannelGroups",void 0),(0,s.default)(this,"_currentTimetoken",void 0),(0,s.default)(this,"_lastTimetoken",void 0),(0,s.default)(this,"_storedTimetoken",void 0),(0,s.default)(this,"_region",void 0),(0,s.default)(this,"_subscribeCall",void 0),(0,s.default)(this,"_heartbeatTimer",void 0),(0,s.default)(this,"_subscriptionStatusAnnounced",void 0),(0,s.default)(this,"_autoNetworkDetection",void 0),(0,s.default)(this,"_isOnline",void 0),(0,s.default)(this,"_pendingChannelSubscriptions",void 0),(0,s.default)(this,"_pendingChannelGroupSubscriptions",void 0),(0,s.default)(this,"_dedupingManager",void 0),this._listenerManager=h,this._config=f,this._leaveEndpoint=r,this._heartbeatEndpoint=i,this._setStateEndpoint=a,this._subscribeEndpoint=n,this._getFileUrl=d,this._crypto=p,this._channels={},this._presenceChannels={},this._heartbeatChannels={},this._heartbeatChannelGroups={},this._channelGroups={},this._presenceChannelGroups={},this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[],this._currentTimetoken=0,this._lastTimetoken=0,this._storedTimetoken=null,this._subscriptionStatusAnnounced=!1,this._isOnline=!0,this._reconnectionManager=new u.default({timeEndpoint:l}),this._dedupingManager=new c.default({config:f})}return(0,a.default)(e,[{key:"adaptStateChange",value:function(e,t){var n=this,r=e.state,i=e.channels,o=void 0===i?[]:i,a=e.channelGroups,s=void 0===a?[]:a;return o.forEach((function(e){e in n._channels&&(n._channels[e].state=r)})),s.forEach((function(e){e in n._channelGroups&&(n._channelGroups[e].state=r)})),this._setStateEndpoint({state:r,channels:o,channelGroups:s},t)}},{key:"adaptPresenceChange",value:function(e){var t=this,n=e.connected,r=e.channels,i=void 0===r?[]:r,o=e.channelGroups,a=void 0===o?[]:o;n?(i.forEach((function(e){t._heartbeatChannels[e]={state:{}}})),a.forEach((function(e){t._heartbeatChannelGroups[e]={state:{}}}))):(i.forEach((function(e){e in t._heartbeatChannels&&delete t._heartbeatChannels[e]})),a.forEach((function(e){e in t._heartbeatChannelGroups&&delete t._heartbeatChannelGroups[e]})),!1===this._config.suppressLeaveEvents&&this._leaveEndpoint({channels:i,channelGroups:a},(function(e){t._listenerManager.announceStatus(e)}))),this.reconnect()}},{key:"adaptSubscribeChange",value:function(e){var t=this,n=e.timetoken,r=e.channels,i=void 0===r?[]:r,o=e.channelGroups,a=void 0===o?[]:o,s=e.withPresence,u=void 0!==s&&s,c=e.withHeartbeats,l=void 0!==c&&c;this._config.subscribeKey&&""!==this._config.subscribeKey?(n&&(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=n),"0"!==this._currentTimetoken&&0!==this._currentTimetoken&&(this._storedTimetoken=this._currentTimetoken,this._currentTimetoken=0),i.forEach((function(e){t._channels[e]={state:{}},u&&(t._presenceChannels[e]={}),(l||t._config.getHeartbeatInterval())&&(t._heartbeatChannels[e]={}),t._pendingChannelSubscriptions.push(e)})),a.forEach((function(e){t._channelGroups[e]={state:{}},u&&(t._presenceChannelGroups[e]={}),(l||t._config.getHeartbeatInterval())&&(t._heartbeatChannelGroups[e]={}),t._pendingChannelGroupSubscriptions.push(e)})),this._subscriptionStatusAnnounced=!1,this.reconnect()):console&&console.log&&console.log("subscribe key missing; aborting subscribe")}},{key:"adaptUnsubscribeChange",value:function(e,t){var n=this,r=e.channels,i=void 0===r?[]:r,o=e.channelGroups,a=void 0===o?[]:o,s=[],u=[];i.forEach((function(e){e in n._channels&&(delete n._channels[e],s.push(e),e in n._heartbeatChannels&&delete n._heartbeatChannels[e]),e in n._presenceChannels&&(delete n._presenceChannels[e],s.push(e))})),a.forEach((function(e){e in n._channelGroups&&(delete n._channelGroups[e],u.push(e),e in n._heartbeatChannelGroups&&delete n._heartbeatChannelGroups[e]),e in n._presenceChannelGroups&&(delete n._channelGroups[e],u.push(e))})),0===s.length&&0===u.length||(!1!==this._config.suppressLeaveEvents||t||this._leaveEndpoint({channels:s,channelGroups:u},(function(e){e.affectedChannels=s,e.affectedChannelGroups=u,e.currentTimetoken=n._currentTimetoken,e.lastTimetoken=n._lastTimetoken,n._listenerManager.announceStatus(e)})),0===Object.keys(this._channels).length&&0===Object.keys(this._presenceChannels).length&&0===Object.keys(this._channelGroups).length&&0===Object.keys(this._presenceChannelGroups).length&&(this._lastTimetoken=0,this._currentTimetoken=0,this._storedTimetoken=null,this._region=null,this._reconnectionManager.stopPolling()),this.reconnect())}},{key:"unsubscribeAll",value:function(e){this.adaptUnsubscribeChange({channels:this.getSubscribedChannels(),channelGroups:this.getSubscribedChannelGroups()},e)}},{key:"getHeartbeatChannels",value:function(){return Object.keys(this._heartbeatChannels)}},{key:"getHeartbeatChannelGroups",value:function(){return Object.keys(this._heartbeatChannelGroups)}},{key:"getSubscribedChannels",value:function(){return Object.keys(this._channels)}},{key:"getSubscribedChannelGroups",value:function(){return Object.keys(this._channelGroups)}},{key:"reconnect",value:function(){this._startSubscribeLoop(),this._registerHeartbeatTimer()}},{key:"disconnect",value:function(){this._stopSubscribeLoop(),this._stopHeartbeatTimer(),this._reconnectionManager.stopPolling()}},{key:"_registerHeartbeatTimer",value:function(){this._stopHeartbeatTimer(),0!==this._config.getHeartbeatInterval()&&void 0!==this._config.getHeartbeatInterval()&&(this._performHeartbeatLoop(),this._heartbeatTimer=setInterval(this._performHeartbeatLoop.bind(this),1e3*this._config.getHeartbeatInterval()))}},{key:"_stopHeartbeatTimer",value:function(){this._heartbeatTimer&&(clearInterval(this._heartbeatTimer),this._heartbeatTimer=null)}},{key:"_performHeartbeatLoop",value:function(){var e=this,t=this.getHeartbeatChannels(),n=this.getHeartbeatChannelGroups(),r={};0===t.length&&0===n.length||(this.getSubscribedChannels().forEach((function(t){var n=e._channels[t].state;Object.keys(n).length&&(r[t]=n)})),this.getSubscribedChannelGroups().forEach((function(t){var n=e._channelGroups[t].state;Object.keys(n).length&&(r[t]=n)})),this._heartbeatEndpoint({channels:t,channelGroups:n,state:r},function(t){t.error&&e._config.announceFailedHeartbeats&&e._listenerManager.announceStatus(t),t.error&&e._config.autoNetworkDetection&&e._isOnline&&(e._isOnline=!1,e.disconnect(),e._listenerManager.announceNetworkDown(),e.reconnect()),!t.error&&e._config.announceSuccessfulHeartbeats&&e._listenerManager.announceStatus(t)}.bind(this)))}},{key:"_startSubscribeLoop",value:function(){var e=this;this._stopSubscribeLoop();var t={},n=[],r=[];if(Object.keys(this._channels).forEach((function(r){var i=e._channels[r].state;Object.keys(i).length&&(t[r]=i),n.push(r)})),Object.keys(this._presenceChannels).forEach((function(e){n.push("".concat(e,"-pnpres"))})),Object.keys(this._channelGroups).forEach((function(n){var i=e._channelGroups[n].state;Object.keys(i).length&&(t[n]=i),r.push(n)})),Object.keys(this._presenceChannelGroups).forEach((function(e){r.push("".concat(e,"-pnpres"))})),0!==n.length||0!==r.length){var i={channels:n,channelGroups:r,state:t,timetoken:this._currentTimetoken,filterExpression:this._config.filterExpression,region:this._region};this._subscribeCall=this._subscribeEndpoint(i,this._processSubscribeResponse.bind(this))}}},{key:"_processSubscribeResponse",value:function(e,t){var n=this;if(e.error)e.category===d.default.PNTimeoutCategory?this._startSubscribeLoop():e.category===d.default.PNNetworkIssuesCategory?(this.disconnect(),e.error&&this._config.autoNetworkDetection&&this._isOnline&&(this._isOnline=!1,this._listenerManager.announceNetworkDown()),this._reconnectionManager.onReconnection((function(){n._config.autoNetworkDetection&&!n._isOnline&&(n._isOnline=!0,n._listenerManager.announceNetworkUp()),n.reconnect(),n._subscriptionStatusAnnounced=!0;var t={category:d.default.PNReconnectedCategory,operation:e.operation,lastTimetoken:n._lastTimetoken,currentTimetoken:n._currentTimetoken};n._listenerManager.announceStatus(t)})),this._reconnectionManager.startPolling(),this._listenerManager.announceStatus(e)):e.category===d.default.PNBadRequestCategory?(this._stopHeartbeatTimer(),this._listenerManager.announceStatus(e)):this._listenerManager.announceStatus(e);else{if(this._storedTimetoken?(this._currentTimetoken=this._storedTimetoken,this._storedTimetoken=null):(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=t.metadata.timetoken),!this._subscriptionStatusAnnounced){var r={};r.category=d.default.PNConnectedCategory,r.operation=e.operation,r.affectedChannels=this._pendingChannelSubscriptions,r.subscribedChannels=this.getSubscribedChannels(),r.affectedChannelGroups=this._pendingChannelGroupSubscriptions,r.lastTimetoken=this._lastTimetoken,r.currentTimetoken=this._currentTimetoken,this._subscriptionStatusAnnounced=!0,this._listenerManager.announceStatus(r),this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[]}var o=t.messages||[],a=this._config,s=a.requestMessageCountThreshold,u=a.dedupeOnSubscribe;if(s&&o.length>=s){var c={};c.category=d.default.PNRequestMessageCountExceededCategory,c.operation=e.operation,this._listenerManager.announceStatus(c)}o.forEach((function(e){var t=e.channel,r=e.subscriptionMatch,o=e.publishMetaData;if(t===r&&(r=null),u){if(n._dedupingManager.isDuplicate(e))return;n._dedupingManager.addEntry(e)}if(l.default.endsWith(e.channel,"-pnpres")){var a={channel:null,subscription:null};a.actualChannel=null!=r?t:null,a.subscribedChannel=null!=r?r:t,t&&(a.channel=t.substring(0,t.lastIndexOf("-pnpres"))),r&&(a.subscription=r.substring(0,r.lastIndexOf("-pnpres"))),a.action=e.payload.action,a.state=e.payload.data,a.timetoken=o.publishTimetoken,a.occupancy=e.payload.occupancy,a.uuid=e.payload.uuid,a.timestamp=e.payload.timestamp,e.payload.join&&(a.join=e.payload.join),e.payload.leave&&(a.leave=e.payload.leave),e.payload.timeout&&(a.timeout=e.payload.timeout),n._listenerManager.announcePresence(a)}else if(1===e.messageType){var s={channel:null,subscription:null};s.channel=t,s.subscription=r,s.timetoken=o.publishTimetoken,s.publisher=e.issuingClientId,e.userMetadata&&(s.userMetadata=e.userMetadata),s.message=e.payload,n._listenerManager.announceSignal(s)}else if(2===e.messageType){var c={channel:null,subscription:null};c.channel=t,c.subscription=r,c.timetoken=o.publishTimetoken,c.publisher=e.issuingClientId,e.userMetadata&&(c.userMetadata=e.userMetadata),c.message={event:e.payload.event,type:e.payload.type,data:e.payload.data},n._listenerManager.announceObjects(c),"user"===e.payload.type?n._listenerManager.announceUser(c):"space"===e.payload.type?n._listenerManager.announceSpace(c):"membership"===e.payload.type&&n._listenerManager.announceMembership(c)}else if(3===e.messageType){var d={};d.channel=t,d.subscription=r,d.timetoken=o.publishTimetoken,d.publisher=e.issuingClientId,d.data={messageTimetoken:e.payload.data.messageTimetoken,actionTimetoken:e.payload.data.actionTimetoken,type:e.payload.data.type,uuid:e.issuingClientId,value:e.payload.data.value},d.event=e.payload.event,n._listenerManager.announceMessageAction(d)}else if(4===e.messageType){var f={};f.channel=t,f.subscription=r,f.timetoken=o.publishTimetoken,f.publisher=e.issuingClientId;var p=e.payload;if(n._config.cipherKey){var h=n._crypto.decrypt(e.payload);"object"===(0,i.default)(h)&&null!==h&&(p=h)}e.userMetadata&&(f.userMetadata=e.userMetadata),f.message=p.message,f.file={id:p.file.id,name:p.file.name,url:n._getFileUrl({id:p.file.id,name:p.file.name,channel:t})},n._listenerManager.announceFile(f)}else{var v={channel:null,subscription:null};v.actualChannel=null!=r?t:null,v.subscribedChannel=null!=r?r:t,v.channel=t,v.subscription=r,v.timetoken=o.publishTimetoken,v.publisher=e.issuingClientId,e.userMetadata&&(v.userMetadata=e.userMetadata),n._config.cipherKey?v.message=n._crypto.decrypt(e.payload):v.message=e.payload,n._listenerManager.announceMessage(v)}})),this._region=t.metadata.region,this._startSubscribeLoop()}}},{key:"_stopSubscribeLoop",value:function(){this._subscribeCall&&("function"==typeof this._subscribeCall.abort&&this._subscribeCall.abort(),this._subscribeCall=null)}}]),e}();t.default=f,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(5)),o=r(n(6)),a=r(n(4)),s=(r(n(24)),n(2),function(){function e(t){var n=t.timeEndpoint;(0,i.default)(this,e),(0,a.default)(this,"_reconnectionCallback",void 0),(0,a.default)(this,"_timeEndpoint",void 0),(0,a.default)(this,"_timeTimer",void 0),this._timeEndpoint=n}return(0,o.default)(e,[{key:"onReconnection",value:function(e){this._reconnectionCallback=e}},{key:"startPolling",value:function(){this._timeTimer=setInterval(this._performTimeLoop.bind(this),3e3)}},{key:"stopPolling",value:function(){clearInterval(this._timeTimer)}},{key:"_performTimeLoop",value:function(){var e=this;this._timeEndpoint((function(t){t.error||(clearInterval(e._timeTimer),e._reconnectionCallback())}))}}]),e}());t.default=s,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(5)),o=r(n(6)),a=r(n(4)),s=(r(n(8)),n(2),function(){function e(t){var n=t.config;(0,i.default)(this,e),(0,a.default)(this,"_config",void 0),(0,a.default)(this,"hashHistory",void 0),this.hashHistory=[],this._config=n}return(0,o.default)(e,[{key:"getKey",value:function(e){var t=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}(JSON.stringify(e.payload)).toString(),n=e.publishMetaData.publishTimetoken;return"".concat(n,"-").concat(t)}},{key:"isDuplicate",value:function(e){return this.hashHistory.includes(this.getKey(e))}},{key:"addEntry",value:function(e){this.hashHistory.length>=this._config.maximumCacheSize&&this.hashHistory.shift(),this.hashHistory.push(this.getKey(e))}},{key:"clearHistory",value:function(){this.hashHistory=[]}}]),e}());t.default=s,e.exports=t.default},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(5)),o=r(n(6)),a=r(n(4)),s=r(n(1)),u=function(){function e(t){(0,i.default)(this,e),(0,a.default)(this,"_maximumSamplesCount",100),(0,a.default)(this,"_trackedLatencies",{}),(0,a.default)(this,"_latencies",{}),this._maximumSamplesCount=t.maximumSamplesCount||this._maximumSamplesCount}return(0,o.default)(e,[{key:"operationsLatencyForRequest",value:function(){var e=this,t={};return Object.keys(this._latencies).forEach((function(n){var r=e._latencies[n],i=e._averageLatency(r);i>0&&(t["l_".concat(n)]=i)})),t}},{key:"startLatencyMeasure",value:function(e,t){e!==s.default.PNSubscribeOperation&&t&&(this._trackedLatencies[t]=Date.now())}},{key:"stopLatencyMeasure",value:function(e,t){if(e!==s.default.PNSubscribeOperation&&t){var n=this._endpointName(e),r=this._latencies[n],i=this._trackedLatencies[t];r||(r=this._latencies[n]=[]),r.push(Date.now()-i),r.length>this._maximumSamplesCount&&r.splice(0,r.length-this._maximumSamplesCount),delete this._trackedLatencies[t]}}},{key:"_averageLatency",value:function(e){return Math.floor(e.reduce((function(e,t){return e+t}),0)/e.length)}},{key:"_endpointName",value:function(e){var t=null;switch(e){case s.default.PNPublishOperation:t="pub";break;case s.default.PNSignalOperation:t="sig";break;case s.default.PNHistoryOperation:case s.default.PNFetchMessagesOperation:case s.default.PNDeleteMessagesOperation:case s.default.PNMessageCounts:t="hist";break;case s.default.PNUnsubscribeOperation:case s.default.PNWhereNowOperation:case s.default.PNHereNowOperation:case s.default.PNHeartbeatOperation:case s.default.PNSetStateOperation:case s.default.PNGetStateOperation:t="pres";break;case s.default.PNAddChannelsToGroupOperation:case s.default.PNRemoveChannelsFromGroupOperation:case s.default.PNChannelGroupsOperation:case s.default.PNRemoveGroupOperation:case s.default.PNChannelsForGroupOperation:t="cg";break;case s.default.PNPushNotificationEnabledChannelsOperation:case s.default.PNRemoveAllPushNotificationsOperation:t="push";break;case s.default.PNCreateUserOperation:case s.default.PNUpdateUserOperation:case s.default.PNDeleteUserOperation:case s.default.PNGetUserOperation:case s.default.PNGetUsersOperation:case s.default.PNCreateSpaceOperation:case s.default.PNUpdateSpaceOperation:case s.default.PNDeleteSpaceOperation:case s.default.PNGetSpaceOperation:case s.default.PNGetSpacesOperation:case s.default.PNGetMembersOperation:case s.default.PNUpdateMembersOperation:case s.default.PNGetMembershipsOperation:case s.default.PNUpdateMembershipsOperation:t="obj";break;case s.default.PNAddMessageActionOperation:case s.default.PNRemoveMessageActionOperation:case s.default.PNGetMessageActionsOperation:t="msga";break;case s.default.PNAccessManagerGrant:case s.default.PNAccessManagerAudit:t="pam";break;case s.default.PNAccessManagerGrantToken:t="pam3";break;default:t="time"}return t}}]),e}();t.default=u,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FCMNotificationPayload=t.MPNSNotificationPayload=t.APNSNotificationPayload=void 0;var i=r(n(42)),o=r(n(19)),a=r(n(14)),s=r(n(16)),u=r(n(13)),c=r(n(5)),l=r(n(6)),d=r(n(4));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}n(2);var v=function(){function e(t,n,r){(0,c.default)(this,e),(0,d.default)(this,"_subtitle",void 0),(0,d.default)(this,"_payload",void 0),(0,d.default)(this,"_badge",void 0),(0,d.default)(this,"_sound",void 0),(0,d.default)(this,"_title",void 0),(0,d.default)(this,"_body",void 0),this._payload=t,this._setDefaultPayloadStructure(),this.title=n,this.body=r}return(0,l.default)(e,[{key:"payload",get:function(){return this._payload}},{key:"title",set:function(e){this._title=e}},{key:"subtitle",set:function(e){this._subtitle=e}},{key:"body",set:function(e){this._body=e}},{key:"badge",set:function(e){this._badge=e}},{key:"sound",set:function(e){this._sound=e}}]),(0,l.default)(e,[{key:"_setDefaultPayloadStructure",value:function(){}},{key:"toObject",value:function(){return{}}}]),e}(),g=function(e){(0,a.default)(n,e);var t=h(n);function n(){var e;(0,c.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,o.default)(e),"_configurations",void 0),(0,d.default)((0,o.default)(e),"_apnsPushType",void 0),(0,d.default)((0,o.default)(e),"_isSilent",void 0),e}return(0,l.default)(n,[{key:"_setDefaultPayloadStructure",value:function(){this._payload.aps={alert:{}}}},{key:"toObject",value:function(){var e=this,t=p({},this._payload),n=t.aps,r=n.alert;if(this._isSilent&&(n["content-available"]=1),"apns2"===this._apnsPushType){if(!this._configurations||!this._configurations.length)throw new ReferenceError("APNS2 configuration is missing");var i=[];this._configurations.forEach((function(t){i.push(e._objectFromAPNS2Configuration(t))})),i.length&&(t.pn_push=i)}return r&&Object.keys(r).length||delete n.alert,this._isSilent&&(delete n.alert,delete n.badge,delete n.sound,r={}),this._isSilent||Object.keys(r).length?t:null}},{key:"_objectFromAPNS2Configuration",value:function(e){var t=this;if(!e.targets||!e.targets.length)throw new ReferenceError("At least one APNS2 target should be provided");var n=[];e.targets.forEach((function(e){n.push(t._objectFromAPNSTarget(e))}));var r=e.collapseId,i=e.expirationDate,o={auth_method:"token",targets:n,version:"v2"};return r&&r.length&&(o.collapse_id=r),i&&(o.expiration=i.toISOString()),o}},{key:"_objectFromAPNSTarget",value:function(e){if(!e.topic||!e.topic.length)throw new TypeError("Target 'topic' undefined.");var t=e.topic,n=e.environment,r=void 0===n?"development":n,i=e.excludedDevices,o=void 0===i?[]:i,a={topic:t,environment:r};return o.length&&(a.excluded_devices=o),a}},{key:"configurations",set:function(e){e&&e.length&&(this._configurations=e)}},{key:"notification",get:function(){return this._payload.aps}},{key:"title",get:function(){return this._title},set:function(e){e&&e.length&&(this._payload.aps.alert.title=e,this._title=e)}},{key:"subtitle",get:function(){return this._subtitle},set:function(e){e&&e.length&&(this._payload.aps.alert.subtitle=e,this._subtitle=e)}},{key:"body",get:function(){return this._body},set:function(e){e&&e.length&&(this._payload.aps.alert.body=e,this._body=e)}},{key:"badge",get:function(){return this._badge},set:function(e){null!=e&&(this._payload.aps.badge=e,this._badge=e)}},{key:"sound",get:function(){return this._sound},set:function(e){e&&e.length&&(this._payload.aps.sound=e,this._sound=e)}},{key:"silent",set:function(e){this._isSilent=e}}]),n}(v);t.APNSNotificationPayload=g;var y=function(e){(0,a.default)(n,e);var t=h(n);function n(){var e;(0,c.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,o.default)(e),"_backContent",void 0),(0,d.default)((0,o.default)(e),"_backTitle",void 0),(0,d.default)((0,o.default)(e),"_count",void 0),(0,d.default)((0,o.default)(e),"_type",void 0),e}return(0,l.default)(n,[{key:"toObject",value:function(){return Object.keys(this._payload).length?p({},this._payload):null}},{key:"backContent",get:function(){return this._backContent},set:function(e){e&&e.length&&(this._payload.back_content=e,this._backContent=e)}},{key:"backTitle",get:function(){return this._backTitle},set:function(e){e&&e.length&&(this._payload.back_title=e,this._backTitle=e)}},{key:"count",get:function(){return this._count},set:function(e){null!=e&&(this._payload.count=e,this._count=e)}},{key:"title",get:function(){return this._title},set:function(e){e&&e.length&&(this._payload.title=e,this._title=e)}},{key:"type",get:function(){return this._type},set:function(e){e&&e.length&&(this._payload.type=e,this._type=e)}},{key:"subtitle",get:function(){return this.backTitle},set:function(e){this.backTitle=e}},{key:"body",get:function(){return this.backContent},set:function(e){this.backContent=e}},{key:"badge",get:function(){return this.count},set:function(e){this.count=e}}]),n}(v);t.MPNSNotificationPayload=y;var m=function(e){(0,a.default)(n,e);var t=h(n);function n(){var e;(0,c.default)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,d.default)((0,o.default)(e),"_isSilent",void 0),(0,d.default)((0,o.default)(e),"_icon",void 0),(0,d.default)((0,o.default)(e),"_tag",void 0),e}return(0,l.default)(n,[{key:"_setDefaultPayloadStructure",value:function(){this._payload.notification={},this._payload.data={}}},{key:"toObject",value:function(){var e=p({},this._payload.data),t=null,n={};if(Object.keys(this._payload).length>2){var r=this._payload,o=(r.notification,r.data,(0,i.default)(r,["notification","data"]));e=p(p({},e),o)}return this._isSilent?e.notification=this._payload.notification:t=this._payload.notification,Object.keys(e).length&&(n.data=e),t&&Object.keys(t).length&&(n.notification=t),Object.keys(n).length?n:null}},{key:"notification",get:function(){return this._payload.notification}},{key:"data",get:function(){return this._payload.data}},{key:"title",get:function(){return this._title},set:function(e){e&&e.length&&(this._payload.notification.title=e,this._title=e)}},{key:"body",get:function(){return this._body},set:function(e){e&&e.length&&(this._payload.notification.body=e,this._body=e)}},{key:"sound",get:function(){return this._sound},set:function(e){e&&e.length&&(this._payload.notification.sound=e,this._sound=e)}},{key:"icon",get:function(){return this._icon},set:function(e){e&&e.length&&(this._payload.notification.icon=e,this._icon=e)}},{key:"tag",get:function(){return this._tag},set:function(e){e&&e.length&&(this._payload.notification.tag=e,this._tag=e)}},{key:"silent",set:function(e){this._isSilent=e}}]),n}(v);t.FCMNotificationPayload=m;var b=function(){function e(t,n){(0,c.default)(this,e),(0,d.default)(this,"_payload",void 0),(0,d.default)(this,"_debugging",void 0),(0,d.default)(this,"_subtitle",void 0),(0,d.default)(this,"_badge",void 0),(0,d.default)(this,"_sound",void 0),(0,d.default)(this,"_title",void 0),(0,d.default)(this,"_body",void 0),(0,d.default)(this,"apns",void 0),(0,d.default)(this,"mpns",void 0),(0,d.default)(this,"fcm",void 0),this._payload={apns:{},mpns:{},fcm:{}},this._title=t,this._body=n,this.apns=new g(this._payload.apns,t,n),this.mpns=new y(this._payload.mpns,t,n),this.fcm=new m(this._payload.fcm,t,n)}return(0,l.default)(e,[{key:"debugging",set:function(e){this._debugging=e}},{key:"title",get:function(){return this._title}},{key:"body",get:function(){return this._body}},{key:"subtitle",get:function(){return this._subtitle},set:function(e){this._subtitle=e,this.apns.subtitle=e,this.mpns.subtitle=e,this.fcm.subtitle=e}},{key:"badge",get:function(){return this._badge},set:function(e){this._badge=e,this.apns.badge=e,this.mpns.badge=e,this.fcm.badge=e}},{key:"sound",get:function(){return this._sound},set:function(e){this._sound=e,this.apns.sound=e,this.mpns.sound=e,this.fcm.sound=e}}]),(0,l.default)(e,[{key:"buildPayload",value:function(e){var t={};if(e.includes("apns")||e.includes("apns2")){this.apns._apnsPushType=e.includes("apns")?"apns":"apns2";var n=this.apns.toObject();n&&Object.keys(n).length&&(t.pn_apns=n)}if(e.includes("mpns")){var r=this.mpns.toObject();r&&Object.keys(r).length&&(t.pn_mpns=r)}if(e.includes("fcm")){var i=this.fcm.toObject();i&&Object.keys(i).length&&(t.pn_gcm=i)}return Object.keys(t).length&&this._debugging&&(t.pn_debug=!0),t}}]),e}();t.default=b},function(e,t,n){var r=n(43);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7)),o=r(n(5)),a=r(n(6)),s=r(n(4)),u=(r(n(8)),n(2),function(){function e(t,n){(0,o.default)(this,e),(0,s.default)(this,"_config",void 0),(0,s.default)(this,"_cbor",void 0),(0,s.default)(this,"_userTokens",void 0),(0,s.default)(this,"_spaceTokens",void 0),(0,s.default)(this,"_userToken",void 0),(0,s.default)(this,"_spaceToken",void 0),this._config=t,this._cbor=n,this._initializeTokens()}return(0,a.default)(e,[{key:"_initializeTokens",value:function(){this._userTokens={},this._spaceTokens={},this._userToken=void 0,this._spaceToken=void 0}},{key:"_setToken",value:function(e){var t=this,n=this.parseToken(e);n&&n.resources&&(n.resources.users&&Object.keys(n.resources.users).forEach((function(n){t._userTokens[n]=e})),n.resources.spaces&&Object.keys(n.resources.spaces).forEach((function(n){t._spaceTokens[n]=e}))),n&&n.patterns&&(n.patterns.users&&Object.keys(n.patterns.users).length>0&&(this._userToken=e),n.patterns.spaces&&Object.keys(n.patterns.spaces).length>0&&(this._spaceToken=e))}},{key:"setToken",value:function(e){e&&e.length>0&&this._setToken(e)}},{key:"setTokens",value:function(e){var t=this;e&&e.length&&"object"===(0,i.default)(e)&&e.forEach((function(e){t.setToken(e)}))}},{key:"getTokens",value:function(e){var t=this,n={users:{},spaces:{}};return e?(e.user&&(n.user=this._userToken),e.space&&(n.space=this._spaceToken),e.users&&e.users.forEach((function(e){n.users[e]=t._userTokens[e]})),e.space&&e.spaces.forEach((function(e){n.spaces[e]=t._spaceTokens[e]}))):(this._userToken&&(n.user=this._userToken),this._spaceToken&&(n.space=this._spaceToken),Object.keys(this._userTokens).forEach((function(e){n.users[e]=t._userTokens[e]})),Object.keys(this._spaceTokens).forEach((function(e){n.spaces[e]=t._spaceTokens[e]}))),n}},{key:"getToken",value:function(e,t){var n;return t?"user"===e?n=this._userTokens[t]:"space"===e&&(n=this._spaceTokens[t]):"user"===e?n=this._userToken:"space"===e&&(n=this._spaceToken),n}},{key:"extractPermissions",value:function(e){var t={create:!1,read:!1,write:!1,manage:!1,delete:!1};return 16==(16&e)&&(t.create=!0),8==(8&e)&&(t.delete=!0),4==(4&e)&&(t.manage=!0),2==(2&e)&&(t.write=!0),1==(1&e)&&(t.read=!0),t}},{key:"parseToken",value:function(e){var t=this,n=this._cbor.decodeToken(e);if(void 0!==n){var r=Object.keys(n.res.usr),i=Object.keys(n.res.spc),o=Object.keys(n.pat.usr),a=Object.keys(n.pat.spc),s={version:n.v,timestamp:n.t,ttl:n.ttl},u=r.length>0,c=i.length>0;(u||c)&&(s.resources={},u&&(s.resources.users={},r.forEach((function(e){s.resources.users[e]=t.extractPermissions(n.res.usr[e])}))),c&&(s.resources.spaces={},i.forEach((function(e){s.resources.spaces[e]=t.extractPermissions(n.res.spc[e])}))));var l=o.length>0,d=a.length>0;return(l||d)&&(s.patterns={},l&&(s.patterns.users={},o.forEach((function(e){s.patterns.users[e]=t.extractPermissions(n.pat.usr[e])}))),d&&(s.patterns.spaces={},a.forEach((function(e){s.patterns.spaces[e]=t.extractPermissions(n.pat.spc[e])})))),Object.keys(n.meta).length>0&&(s.meta=n.meta),s.signature=n.sig,s}}},{key:"clearTokens",value:function(){this._initializeTokens()}}]),e}());t.default=u,e.exports=t.default},function(e,t,n){var r=n(13),i=n(15),o=n(46),a=n(47);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(15),i=n(48);function o(t,n,a){return i()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNAddChannelsToGroupOperation},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup,r=e.config;return"/v1/channel-registration/sub-key/".concat(r.subscribeKey,"/channel-group/").concat(o.default.encodeString(n))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channels;return{add:(void 0===n?[]:n).join(",")}},t.handleResponse=function(){return{}},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNRemoveChannelsFromGroupOperation},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup,r=e.config;return"/v1/channel-registration/sub-key/".concat(r.subscribeKey,"/channel-group/").concat(o.default.encodeString(n))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channels;return{remove:(void 0===n?[]:n).join(",")}},t.handleResponse=function(){return{}},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNRemoveGroupOperation},t.validateParams=function(e,t){var n=t.channelGroup,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup,r=e.config;return"/v1/channel-registration/sub-key/".concat(r.subscribeKey,"/channel-group/").concat(o.default.encodeString(n),"/remove")},t.isAuthSupported=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(){return{}},t.handleResponse=function(){return{}},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNChannelGroupsOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e){var t=e.config;return"/v1/channel-registration/sub-key/".concat(t.subscribeKey,"/channel-group")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{groups:t.payload.groups}},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNChannelsForGroupOperation},t.validateParams=function(e,t){var n=t.channelGroup,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup,r=e.config;return"/v1/channel-registration/sub-key/".concat(r.subscribeKey,"/channel-group/").concat(o.default.encodeString(n))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{channels:t.payload.channels}},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=t.channels,o=t.topic,a=e.config;return n?r?"apns2"!==r||o?i&&0!==i.length?a.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device,r=t.pushGateway,i=e.config;return"apns2"===r?"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n):"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,r=t.channels,i=void 0===r?[]:r,o=t.environment,a=void 0===o?"development":o,s=t.topic,u={type:n,add:i.join(",")};return"apns2"===n&&delete(u=Object.assign({},u,{environment:a,topic:s})).type,u},t.handleResponse=function(){return{}},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=t.channels,o=t.topic,a=e.config;return n?r?"apns2"!==r||o?i&&0!==i.length?a.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device,r=t.pushGateway,i=e.config;return"apns2"===r?"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n):"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,r=t.channels,i=void 0===r?[]:r,o=t.environment,a=void 0===o?"development":o,s=t.topic,u={type:n,remove:i.join(",")};return"apns2"===n&&delete(u=Object.assign({},u,{environment:a,topic:s})).type,u},t.handleResponse=function(){return{}},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=t.topic,o=e.config;return n?r?"apns2"!==r||i?o.subscribeKey?void 0:"Missing Subscribe Key":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device,r=t.pushGateway,i=e.config;return"apns2"===r?"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n):"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,r=t.environment,i=void 0===r?"development":r,o=t.topic,a={type:n};return"apns2"===n&&delete(a=Object.assign({},a,{environment:i,topic:o})).type,a},t.handleResponse=function(e,t){return{channels:t}},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNRemoveAllPushNotificationsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=t.topic,o=e.config;return n?r?"apns2"!==r||i?o.subscribeKey?void 0:"Missing Subscribe Key":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device,r=t.pushGateway,i=e.config;return"apns2"===r?"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n,"/remove"):"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n,"/remove")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,r=t.environment,i=void 0===r?"development":r,o=t.topic,a={type:n};return"apns2"===n&&delete(a=Object.assign({},a,{environment:i,topic:o})).type,a},t.handleResponse=function(){return{}},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUnsubscribeOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,a=i.length>0?i.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(o.default.encodeString(a),"/leave")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i={};return r.length>0&&(i["channel-group"]=r.join(",")),i},t.handleResponse=function(){return{}},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNWhereNowOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.uuid,i=void 0===r?n.UUID:r;return"/v2/presence/sub-key/".concat(n.subscribeKey,"/uuid/").concat(i)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return t.payload?{channels:t.payload.channels}:{channels:[]}},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNHeartbeatOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,a=i.length>0?i.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(o.default.encodeString(a),"/heartbeat")},t.isAuthSupported=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i=t.state,o=void 0===i?{}:i,a=e.config,s={};return r.length>0&&(s["channel-group"]=r.join(",")),s.state=JSON.stringify(o),s.heartbeat=a.getPresenceTimeout(),s},t.handleResponse=function(){return{}},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNGetStateOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.uuid,i=void 0===r?n.UUID:r,a=t.channels,s=void 0===a?[]:a,u=s.length>0?s.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(o.default.encodeString(u),"/uuid/").concat(i)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i={};return r.length>0&&(i["channel-group"]=r.join(",")),i},t.handleResponse=function(e,t,n){var r=n.channels,i=void 0===r?[]:r,o=n.channelGroups,a=void 0===o?[]:o,s={};return 1===i.length&&0===a.length?s[i[0]]=t.payload:s=t.payload,{channels:s}},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNSetStateOperation},t.validateParams=function(e,t){var n=e.config,r=t.state,i=t.channels,o=void 0===i?[]:i,a=t.channelGroups,s=void 0===a?[]:a;return r?n.subscribeKey?0===o.length&&0===s.length?"Please provide a list of channels and/or channel-groups":void 0:"Missing Subscribe Key":"Missing State"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,a=i.length>0?i.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(o.default.encodeString(a),"/uuid/").concat(n.UUID,"/data")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.state,r=t.channelGroups,i=void 0===r?[]:r,o={};return o.state=JSON.stringify(n),i.length>0&&(o["channel-group"]=i.join(",")),o},t.handleResponse=function(e,t){return{state:t.payload}},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNHereNowOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,o=t.channelGroups,s=void 0===o?[]:o,u="/v2/presence/sub-key/".concat(n.subscribeKey);if(i.length>0||s.length>0){var c=i.length>0?i.join(","):",";u+="/channel/".concat(a.default.encodeString(c))}return u},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i=t.includeUUIDs,o=void 0===i||i,a=t.includeState,s=void 0!==a&&a,c=t.queryParameters,l=void 0===c?{}:c,d={};return o||(d.disable_uuids=1),s&&(d.state=1),r.length>0&&(d["channel-group"]=r.join(",")),u(u({},d),l)},t.handleResponse=function(e,t,n){var r=n.channels,i=void 0===r?[]:r,o=n.channelGroups,a=void 0===o?[]:o,s=n.includeUUIDs,u=void 0===s||s,c=n.includeState,l=void 0!==c&&c;return i.length>1||a.length>0||0===a.length&&0===i.length?function(){var e={};return e.totalChannels=t.payload.total_channels,e.totalOccupancy=t.payload.total_occupancy,e.channels={},Object.keys(t.payload.channels).forEach((function(n){var r=t.payload.channels[n],i=[];return e.channels[n]={occupants:i,name:n,occupancy:r.occupancy},u&&r.uuids.forEach((function(e){l?i.push({state:e.state,uuid:e.uuid}):i.push({state:null,uuid:e})})),e})),e}():function(){var e={},n=[];return e.totalChannels=1,e.totalOccupancy=t.occupancy,e.channels={},e.channels[i[0]]={occupants:n,name:i[0],occupancy:t.occupancy},u&&t.uuids&&t.uuids.forEach((function(e){l?n.push({state:e.state,uuid:e.uuid}):n.push({state:null,uuid:e})})),e}()};var i=r(n(4)),o=(n(2),r(n(1))),a=r(n(3));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNAddMessageActionOperation},t.validateParams=function(e,t){var n=e.config,r=t.action,i=t.channel;return t.messageTimetoken?n.subscribeKey?i?r?r.value?r.type?r.type.length>15?"Action.type value exceed maximum length of 15":void 0:"Missing Action.type":"Missing Action.value":"Missing Action":"Missing message channel":"Missing Subscribe Key":"Missing message timetoken"},t.usePost=function(){return!0},t.postURL=function(e,t){var n=e.config,r=t.channel,i=t.messageTimetoken;return"/v1/message-actions/".concat(n.subscribeKey,"/channel/").concat(r,"/message/").concat(i)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.getRequestHeaders=function(){return{"Content-Type":"application/json"}},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.postPayload=function(e,t){return t.action},t.handleResponse=function(e,t){return{data:t.data}},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNRemoveMessageActionOperation},t.validateParams=function(e,t){var n=e.config,r=t.channel,i=t.actionTimetoken;return t.messageTimetoken?i?n.subscribeKey?r?void 0:"Missing message channel":"Missing Subscribe Key":"Missing action timetoken":"Missing message timetoken"},t.useDelete=function(){return!0},t.getURL=function(e,t){var n=e.config,r=t.channel,i=t.actionTimetoken,o=t.messageTimetoken;return"/v1/message-actions/".concat(n.subscribeKey,"/channel/").concat(r,"/message/").concat(o,"/action/").concat(i)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{data:t.data}},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNGetMessageActionsOperation},t.validateParams=function(e,t){var n=e.config,r=t.channel;return n.subscribeKey?r?void 0:"Missing message channel":"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channel;return"/v1/message-actions/".concat(n.subscribeKey,"/channel/").concat(r)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.limit,r=t.start,i=t.end,o={};return n&&(o.limit=n),r&&(o.start=r),i&&(o.end=i),o},t.handleResponse=function(e,t){var n={data:t.data,start:null,end:null};return n.data.length&&(n.end=n.data[n.data.length-1].actionTimetoken,n.start=n.data[0].actionTimetoken),n},n(2);var i=r(n(1))},function(e,t,n){},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),o={getOperation:function(){return i.default.PNListFilesOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channel))return"channel can't be empty"},getURL:function(e,t){var n=e.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(t.channel,"/files")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("fileUpload")},prepareParams:function(e,t){var n={};return t.limit&&(n.limit=t.limit),t.next&&(n.next=t.next),n},handleResponse:function(e,t){return{status:t.status,data:t.data,next:t.next,count:t.count}}};t.default=o,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),o={getOperation:function(){return i.default.PNGenerateUploadUrlOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.name)?void 0:"name can't be empty":"channel can't be empty"},usePost:function(){return!0},postURL:function(e,t){var n=e.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(t.channel,"/generate-upload-url")},postPayload:function(e,t){return{name:t.name}},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("fileUpload")},prepareParams:function(){return{}},handleResponse:function(e,t){return{status:t.status,data:t.data,file_upload_request:t.file_upload_request}}};t.default=o,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7)),o=r(n(1)),a=r(n(3)),s={getOperation:function(){return o.default.PNPublishFileOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.fileId)?(null==t?void 0:t.fileName)?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"},getURL:function(e,t){var n=e.config,r=n.publishKey,i=n.subscribeKey,o=function(e,t){var n=e.crypto,r=e.config,i=JSON.stringify(t);return r.cipherKey&&(i=n.encrypt(i),i=JSON.stringify(i)),i||""}(e,{message:t.message,file:{name:t.fileName,id:t.fileId}});return"/v1/files/publish-file/".concat(r,"/").concat(i,"/0/").concat(t.channel,"/0/").concat(a.default.encodeString(o))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("fileUpload")},prepareParams:function(e,t){var n={};return t.ttl&&(n.ttl=t.ttl),void 0!==t.storeInHistory&&(n.store=t.storeInHistory?"1":"0"),t.meta&&"object"===(0,i.default)(t.meta)&&(n.meta=JSON.stringify(t.meta)),n},handleResponse:function(e,t){return{timetoken:t[2]}}};t.default=s,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(11)),o=r(n(12)),a=n(18),s=function(e){return new Promise((function(t){var n="";e.on("data",(function(e){n+=e.toString("utf8")})),e.on("end",(function(){t(n)}))}))};t.default=function(e){var t,n,r,u,c,l,d,f,p,h=(r=(t=e).generateUploadUrl,u=t.publishFile,c=t.modules,l=c.PubNubFile,d=c.config,f=c.cryptography,p=c.networking,n=(0,o.default)(i.default.mark((function e(t){var n,o,c,h,v,g,y,m,b,k,_,w,P,S,O,T,x,L,E,C,R,M;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.channel,o=t.file,c=t.message,h=t.cipherKey,v=t.meta,g=t.ttl,y=t.storeInHistory,n){e.next=3;break}throw new a.PubNubError("Validation failed, check status for details",(0,a.createValidationError)("channel can't be empty"));case 3:if(o){e.next=5;break}throw new a.PubNubError("Validation failed, check status for details",(0,a.createValidationError)("file can't be empty"));case 5:return m=l.create(o),e.next=8,r({channel:n,name:m.name});case 8:if(b=e.sent,k=b.file_upload_request,_=k.url,w=k.form_fields,P=b.data,S=P.id,O=P.name,!l.supportsEncryptFile||!(null!=h?h:d.cipherKey)){e.next=19;break}return e.next=18,f.encryptFile(null!=h?h:d.cipherKey,m,l);case 18:m=e.sent;case 19:if(T=w,m.mimeType&&(T=w.map((function(e){return"Content-Type"===e.key?{key:e.key,value:m.mimeType}:e}))),e.prev=21,!l.supportsFileUri||!o.uri){e.next=34;break}return e.t0=p,e.t1=_,e.t2=T,e.next=28,m.toFileUri();case 28:return e.t3=e.sent,e.next=31,e.t0.POSTFILE.call(e.t0,e.t1,e.t2,e.t3);case 31:x=e.sent,e.next=71;break;case 34:if(!l.supportsFile){e.next=46;break}return e.t4=p,e.t5=_,e.t6=T,e.next=40,m.toFile();case 40:return e.t7=e.sent,e.next=43,e.t4.POSTFILE.call(e.t4,e.t5,e.t6,e.t7);case 43:x=e.sent,e.next=71;break;case 46:if(!l.supportsBuffer){e.next=58;break}return e.t8=p,e.t9=_,e.t10=T,e.next=52,m.toBuffer();case 52:return e.t11=e.sent,e.next=55,e.t8.POSTFILE.call(e.t8,e.t9,e.t10,e.t11);case 55:x=e.sent,e.next=71;break;case 58:if(!l.supportsBlob){e.next=70;break}return e.t12=p,e.t13=_,e.t14=T,e.next=64,m.toBlob();case 64:return e.t15=e.sent,e.next=67,e.t12.POSTFILE.call(e.t12,e.t13,e.t14,e.t15);case 67:x=e.sent,e.next=71;break;case 70:throw new Error("Unsupported environment");case 71:e.next=80;break;case 73:return e.prev=73,e.t16=e.catch(21),e.next=77,s(e.t16.response);case 77:throw L=e.sent,E=/<Message>(.*)<\/Message>/gi.exec(L),new a.PubNubError(E?"Upload to bucket failed: ".concat(E[1]):"Upload to bucket failed.",e.t16);case 80:if(204===x.status){e.next=82;break}throw new a.PubNubError("Upload to bucket was unsuccessful",x);case 82:C=5,R=!1,M={timetoken:"0"};case 85:if(R||!(C>0)){e.next=98;break}return e.prev=86,e.next=89,u({channel:n,message:c,fileId:S,fileName:O,meta:v,storeInHistory:y,ttl:g});case 89:M=e.sent,R=!0,e.next=96;break;case 93:e.prev=93,e.t17=e.catch(86),C-=1;case 96:e.next=85;break;case 98:if(R){e.next=102;break}throw new a.PubNubError("Publish failed. You may want to execute that operation manually using pubnub.publishFile",{channel:n,id:S,name:O});case 102:return e.abrupt("return",{timetoken:M.timetoken,id:S,name:O});case 103:case"end":return e.stop()}}),e,null,[[21,73],[86,93]])}))),function(e){return n.apply(this,arguments)});return function(e,t){var n=h(e);return"function"==typeof t?(n.then((function(e){return t(null,e)})).catch((function(e){return t(e,null)})),n):n}},e.exports=t.default},function(e,t,n){var r=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function d(){}function f(){}function p(){}var h={};h[i]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==t&&n.call(g,i)&&(h=g);var y=p.prototype=d.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=y.constructor=p,p.constructor=f,f.displayName=s(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(y),s(y,a,"Generator"),y[i]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(18);t.default=function(e,t){var n=t.channel,i=t.id,o=t.name,a=e.config;if(!n)throw new r.PubNubError("Validation failed, check status for details",(0,r.createValidationError)("channel can't be empty"));if(!i)throw new r.PubNubError("Validation failed, check status for details",(0,r.createValidationError)("file id can't be empty"));if(!o)throw new r.PubNubError("Validation failed, check status for details",(0,r.createValidationError)("file name can't be empty"));var s="/v1/files/".concat(a.subscribeKey,"/channels/").concat(n,"/files/").concat(i,"/").concat(o),u={};u.uuid=a.getUUID(),u.pnsdk=(0,r.generatePNSDK)(a),a.getAuthKey()&&(u.auth=a.getAuthKey()),a.secretKey&&(0,r.signRequest)(e,s,u,{},{getOperation:function(){return"PubNubGetFileUrlOperation"}});var c=Object.keys(u).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(u[e]))})).join("&");return""!==c?"https://".concat(a.origin).concat(s,"?").concat(c):"https://".concat(a.origin).concat(s)},e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=r(n(11)),a=r(n(12)),s=r(n(1)),u={getOperation:function(){return s.default.PNDownloadFileOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.name)?(null==t?void 0:t.id)?void 0:"id can't be empty":"name can't be empty":"channel can't be empty"},useGetFile:function(){return!0},getFileURL:function(e,t){var n=e.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(t.channel,"/files/").concat(t.id,"/").concat(t.name)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},ignoreBody:function(){return!0},forceBuffered:function(){return!0},prepareParams:function(){return{}},handleResponse:(i=(0,a.default)(o.default.mark((function e(t,n,r){var i,a,s,u,c,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.PubNubFile,s=t.config,u=t.cryptography,c=n.response.body,!a.supportsEncryptFile||!s.cipherKey){e.next=6;break}return e.next=5,u.decrypt(null!==(l=r.cipherKey)&&void 0!==l?l:s.cipherKey,c);case 5:c=e.sent;case 6:return e.abrupt("return",a.create({data:c,name:null!==(i=n.response.name)&&void 0!==i?i:r.name,mimeType:n.response.type}));case 7:case"end":return e.stop()}}),e)}))),function(e,t,n){return i.apply(this,arguments)})};t.default=u,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),o={getOperation:function(){return i.default.PNListFilesOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.id)?(null==t?void 0:t.name)?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"},useDelete:function(){return!0},getURL:function(e,t){var n=e.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(t.channel,"/files/").concat(t.id,"/").concat(t.name)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("fileUpload")},prepareParams:function(){return{}},handleResponse:function(e,t){return{status:t.status}}};t.default=o,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9)),o=r(n(1)),a={getOperation:function(){return o.default.PNGetAllUUIDMetadataOperation},validateParams:function(){},getURL:function(e){var t=e.config;return"/v2/objects/".concat(t.subscribeKey,"/uuids")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("user")},prepareParams:function(e,t){var n,r,o,a,s,u,c,l,d={};return(null==t||null===(n=t.include)||void 0===n?void 0:n.customFields)&&(d.include="custom"),(null==t||null===(r=t.include)||void 0===r?void 0:r.totalCount)&&(d.count=null===(s=t.include)||void 0===s?void 0:s.totalCount),(null==t||null===(o=t.page)||void 0===o?void 0:o.next)&&(d.start=null===(u=t.page)||void 0===u?void 0:u.next),(null==t||null===(a=t.page)||void 0===a?void 0:a.prev)&&(d.end=null===(c=t.page)||void 0===c?void 0:c.prev),(null==t?void 0:t.filter)&&(d.filter=t.filter),d.limit=null==t?void 0:t.limit,(null==t?void 0:t.sort)&&(d.sort=Object.entries(null!==(l=t.sort)&&void 0!==l?l:{}).map((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1];return"asc"===r||"desc"===r?"".concat(n,":").concat(r):n}))),d},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,next:t.next,prev:t.prev}}};t.default=a,e.exports=t.default},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(e,t,n){var r=n(80);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),o={getOperation:function(){return i.default.PNGetUUIDMetadataOperation},validateParams:function(){},getURL:function(e,t){var n,r=e.config;return"/v2/objects/".concat(r.subscribeKey,"/uuids/").concat(null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:r.getUUID())},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("user")},prepareParams:function(e,t){var n,r,i,o=e.config;return{uuid:null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:o.getUUID(),include:(null===(r=null==t||null===(i=t.include)||void 0===i?void 0:i.customFields)||void 0===r||r)&&"custom"}},handleResponse:function(e,t){return{status:t.status,data:t.data}}};t.default=o,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),o={getOperation:function(){return i.default.PNSetUUIDMetadataOperation},validateParams:function(e,t){if(!(null==t?void 0:t.data))return"Data cannot be empty"},usePatch:function(){return!0},patchURL:function(e,t){var n,r=e.config;return"/v2/objects/".concat(r.subscribeKey,"/uuids/").concat(null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:r.getUUID())},patchPayload:function(e,t){return t.data},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("user")},prepareParams:function(e,t){var n,r,i,o=e.config;return{uuid:null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:o.getUUID(),include:(null===(r=null==t||null===(i=t.include)||void 0===i?void 0:i.customFields)||void 0===r||r)&&"custom"}},handleResponse:function(e,t){return{status:t.status,data:t.data}}};t.default=o,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),o={getOperation:function(){return i.default.PNRemoveUUIDMetadataOperation},validateParams:function(){},getURL:function(e,t){var n,r=e.config;return"/v2/objects/".concat(r.subscribeKey,"/uuids/").concat(null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:r.getUUID())},useDelete:function(){return!0},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("user")},prepareParams:function(e,t){var n,r=e.config;return{uuid:null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:r.getUUID()}},handleResponse:function(e,t){return{status:t.status,data:t.data}}};t.default=o,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9)),o=r(n(1)),a={getOperation:function(){return o.default.PNGetAllChannelMetadataOperation},validateParams:function(){},getURL:function(e){var t=e.config;return"/v2/objects/".concat(t.subscribeKey,"/channels")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("channel")},prepareParams:function(e,t){var n,r,o,a,s,u,c,l,d={};return(null==t||null===(n=t.include)||void 0===n?void 0:n.customFields)&&(d.include="custom"),(null==t||null===(r=t.include)||void 0===r?void 0:r.totalCount)&&(d.count=null===(s=t.include)||void 0===s?void 0:s.totalCount),(null==t||null===(o=t.page)||void 0===o?void 0:o.next)&&(d.start=null===(u=t.page)||void 0===u?void 0:u.next),(null==t||null===(a=t.page)||void 0===a?void 0:a.prev)&&(d.end=null===(c=t.page)||void 0===c?void 0:c.prev),(null==t?void 0:t.filter)&&(d.filter=t.filter),(null==t?void 0:t.limit)&&(d.limit=t.limit),(null==t?void 0:t.sort)&&(d.sort=Object.entries(null!==(l=t.sort)&&void 0!==l?l:{}).map((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1];return"asc"===r||"desc"===r?"".concat(n,":").concat(r):n}))),d},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,prev:t.prev,next:t.next}}};t.default=a,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),o={getOperation:function(){return i.default.PNGetChannelMetadataOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channel))return"Channel cannot be empty"},getURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(t.channel)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("channel")},prepareParams:function(e,t){var n,r;return{include:(null===(n=null==t||null===(r=t.include)||void 0===r?void 0:r.customFields)||void 0===n||n)&&"custom"}},handleResponse:function(e,t){return{status:t.status,data:t.data}}};t.default=o,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),o={getOperation:function(){return i.default.PNSetChannelMetadataOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.data)?void 0:"Data cannot be empty":"Channel cannot be empty"},usePatch:function(){return!0},patchURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(t.channel)},patchPayload:function(e,t){return t.data},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("channel")},prepareParams:function(e,t){var n,r;return{include:(null===(n=null==t||null===(r=t.include)||void 0===r?void 0:r.customFields)||void 0===n||n)&&"custom"}},handleResponse:function(e,t){return{status:t.status,data:t.data}}};t.default=o,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),o={getOperation:function(){return i.default.PNRemoveChannelMetadataOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channel))return"Channel cannot be empty"},getURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(t.channel)},useDelete:function(){return!0},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("channel")},prepareParams:function(){return{}},handleResponse:function(e,t){return{status:t.status,data:t.data}}};t.default=o,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9)),o=r(n(1)),a={getOperation:function(){return o.default.PNGetMembersOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channel))return"UUID cannot be empty"},getURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(t.channel,"/uuids")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("member")},prepareParams:function(e,t){var n,r,o,a,s,u,c,l,d,f,p,h,v={};return(null==t?void 0:t.include)&&(v.include=[],(null===(s=t.include)||void 0===s?void 0:s.customFields)&&v.include.push("custom"),(null===(u=t.include)||void 0===u?void 0:u.customUUIDFields)&&v.include.push("uuid.custom"),(null===(c=null===(l=t.include)||void 0===l?void 0:l.UUIDFields)||void 0===c||c)&&v.include.push("uuid"),v.include=v.include.join(",")),(null==t||null===(n=t.include)||void 0===n?void 0:n.totalCount)&&(v.count=null===(d=t.include)||void 0===d?void 0:d.totalCount),(null==t||null===(r=t.page)||void 0===r?void 0:r.next)&&(v.start=null===(f=t.page)||void 0===f?void 0:f.next),(null==t||null===(o=t.page)||void 0===o?void 0:o.prev)&&(v.end=null===(p=t.page)||void 0===p?void 0:p.prev),(null==t?void 0:t.filter)&&(v.filter=t.filter),v.limit=null!==(a=null==t?void 0:t.limit)&&void 0!==a?a:100,(null==t?void 0:t.sort)&&(v.sort=Object.entries(null!==(h=t.sort)&&void 0!==h?h:{}).map((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1];return"asc"===r||"desc"===r?"".concat(n,":").concat(r):n}))),v},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,prev:t.prev,next:t.next}}};t.default=a,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9)),o=r(n(4)),a=r(n(1)),s={getOperation:function(){return a.default.PNSetMembersOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.uuids)&&0!==(null==t?void 0:t.uuids.length)?void 0:"UUIDs cannot be empty":"Channel cannot be empty"},usePatch:function(){return!0},patchURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(t.channel,"/uuids")},patchPayload:function(e,t){return(0,o.default)({set:[],remove:[]},t.type,t.uuids.map((function(e){return"string"==typeof e?{uuid:{id:e}}:{uuid:{id:e.id},custom:e.custom}})))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("member")},prepareParams:function(e,t){var n,r,o,a,s,u,c,l,d,f={};return(null==t?void 0:t.include)&&(f.include=[],(null===(a=t.include)||void 0===a?void 0:a.customFields)&&f.include.push("custom"),(null===(s=t.include)||void 0===s?void 0:s.customUUIDFields)&&f.include.push("uuid.custom"),(null===(u=t.include)||void 0===u?void 0:u.UUIDFields)&&f.include.push("uuid"),f.include=f.include.join(",")),(null==t||null===(n=t.include)||void 0===n?void 0:n.totalCount)&&(f.count=!0),(null==t||null===(r=t.page)||void 0===r?void 0:r.next)&&(f.start=null===(c=t.page)||void 0===c?void 0:c.next),(null==t||null===(o=t.page)||void 0===o?void 0:o.prev)&&(f.end=null===(l=t.page)||void 0===l?void 0:l.prev),(null==t?void 0:t.filter)&&(f.filter=t.filter),(null==t?void 0:t.limit)&&(f.limit=t.limit),(null==t?void 0:t.sort)&&(f.sort=Object.entries(null!==(d=t.sort)&&void 0!==d?d:{}).map((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1];return"asc"===r||"desc"===r?"".concat(n,":").concat(r):n}))),f},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,prev:t.prev,next:t.next}}};t.default=s,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9)),o=r(n(1)),a={getOperation:function(){return o.default.PNGetMembershipsOperation},validateParams:function(e,t){if(!(null==t?void 0:t.uuid))return"UUID cannot be empty"},getURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/uuids/").concat(t.uuid,"/channels")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("membership")},prepareParams:function(e,t){var n,r,o,a,s,u,c,l,d,f,p,h={};return(null==t?void 0:t.include)&&(h.include=[],(null===(s=t.include)||void 0===s?void 0:s.customFields)&&h.include.push("custom"),(null===(u=t.include)||void 0===u?void 0:u.customChannelFields)&&h.include.push("channel.custom"),(null===(c=t.include)||void 0===c?void 0:c.channelFields)&&h.include.push("channel"),h.include=h.include.join(",")),(null==t||null===(n=t.include)||void 0===n?void 0:n.totalCount)&&(h.count=null===(l=t.include)||void 0===l?void 0:l.totalCount),(null==t||null===(r=t.page)||void 0===r?void 0:r.next)&&(h.start=null===(d=t.page)||void 0===d?void 0:d.next),(null==t||null===(o=t.page)||void 0===o?void 0:o.prev)&&(h.end=null===(f=t.page)||void 0===f?void 0:f.prev),(null==t?void 0:t.filter)&&(h.filter=t.filter),h.limit=null!==(a=null==t?void 0:t.limit)&&void 0!==a?a:100,(null==t?void 0:t.sort)&&(h.sort=Object.entries(null!==(p=t.sort)&&void 0!==p?p:{}).map((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1];return"asc"===r||"desc"===r?"".concat(n,":").concat(r):n}))),h},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,prev:t.prev,next:t.next}}};t.default=a,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9)),o=r(n(4)),a=r(n(1)),s={getOperation:function(){return a.default.PNSetMembershipsOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channels)||0===(null==t?void 0:t.channels.length))return"Channels cannot be empty"},usePatch:function(){return!0},patchURL:function(e,t){var n,r=e.config;return"/v2/objects/".concat(r.subscribeKey,"/uuids/").concat(null!==(n=t.uuid)&&void 0!==n?n:r.getUUID(),"/channels")},patchPayload:function(e,t){return(0,o.default)({set:[],remove:[]},t.type,t.channels.map((function(e){return"string"==typeof e?{channel:{id:e}}:{channel:{id:e.id},custom:e.custom}})))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},getAuthToken:function(e){return e.tokenManager.getToken("membership")},prepareParams:function(e,t){var n,r,o,a,s,u,c,l,d,f={};return(null==t?void 0:t.include)&&(f.include=[],(null===(a=t.include)||void 0===a?void 0:a.customFields)&&f.include.push("custom"),(null===(s=t.include)||void 0===s?void 0:s.customChannelFields)&&f.include.push("channel.custom"),(null===(u=t.include)||void 0===u?void 0:u.channelFields)&&f.include.push("channel"),f.include=f.include.join(",")),(null==t||null===(n=t.include)||void 0===n?void 0:n.totalCount)&&(f.count=!0),(null==t||null===(r=t.page)||void 0===r?void 0:r.next)&&(f.start=null===(c=t.page)||void 0===c?void 0:c.next),(null==t||null===(o=t.page)||void 0===o?void 0:o.prev)&&(f.end=null===(l=t.page)||void 0===l?void 0:l.prev),(null==t?void 0:t.filter)&&(f.filter=t.filter),(null==t?void 0:t.limit)&&(f.limit=t.limit),(null==t?void 0:t.sort)&&(f.sort=Object.entries(null!==(d=t.sort)&&void 0!==d?d:{}).map((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1];return"asc"===r||"desc"===r?"".concat(n,":").concat(r):n}))),f},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,prev:t.prev,next:t.next}}};t.default=s,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNCreateUserOperation},t.validateParams=function(e,t){var n=e.config,r=t.id,i=t.name,o=t.custom;return r?i?n.subscribeKey?o&&!Object.values(o).every((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing User.name":"Missing User.id"},t.usePost=function(){return!0},t.getURL=function(e){var t=e.config;return"/v1/objects/".concat(t.subscribeKey,"/users")},t.postURL=function(e){var t=e.config;return"/v1/objects/".concat(t.subscribeKey,"/users")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.id)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,r={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var i=[];n.customFields&&i.push("custom");var o=i.join(",");o.length>0&&(r.include=o)}return r},t.postPayload=function(e,t){return function(e,t){return t}(0,t)},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUpdateUserOperation},t.validateParams=function(e,t){var n=e.config,r=t.id,i=t.name,o=t.custom;return r?i?n.subscribeKey?o&&!Object.values(o).every((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing User.name":"Missing User.id"},t.usePatch=function(){return!0},t.getURL=function(e,t){var n=e.config,r=t.id;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(r)},t.patchURL=function(e,t){var n=e.config,r=t.id;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(r)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.id)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,r={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var i=[];n.customFields&&i.push("custom");var o=i.join(",");o.length>0&&(r.include=o)}return r},t.patchPayload=function(e,t){return function(e,t){return t}(0,t)},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNDeleteUserOperation},t.validateParams=function(e,t){var n=e.config;return t?n.subscribeKey?void 0:"Missing Subscribe Key":"Missing UserId"},t.useDelete=function(){return!0},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(t)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t)||e.tokenManager.getToken("user")},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNGetUserOperation},t.validateParams=function(e,t){if(!t.userId)return"Missing userId"},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(t.userId)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.userId)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,r={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var i=[];n.customFields&&i.push("custom");var o=i.join(",");o.length>0&&(r.include=o)}return r},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNGetUsersOperation},t.validateParams=function(){},t.getURL=function(e){var t=e.config;return"/v1/objects/".concat(t.subscribeKey,"/users")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e){return e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,r=t.limit,i=t.page,o=t.filter,a={};if(r&&(a.limit=r),n){var s=[];n.totalCount&&(a.count=!0),n.customFields&&s.push("custom");var u=s.join(",");u.length>0&&(a.include=u)}return i&&(i.next&&(a.start=i.next),i.prev&&(a.end=i.prev)),o&&(a.filter=o),a},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNCreateSpaceOperation},t.validateParams=function(e,t){var n=e.config,r=t.id,i=t.name,o=t.custom;return r?i?n.subscribeKey?o&&!Object.values(o).every((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing Space.name":"Missing Space.id"},t.usePost=function(){return!0},t.getURL=function(e){var t=e.config;return"/v1/objects/".concat(t.subscribeKey,"/spaces")},t.postURL=function(e){var t=e.config;return"/v1/objects/".concat(t.subscribeKey,"/spaces")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.id)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,r={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var i=[];n.customFields&&i.push("custom");var o=i.join(",");o.length>0&&(r.include=o)}return r},t.postPayload=function(e,t){return function(e,t){return t}(0,t)},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUpdateSpaceOperation},t.validateParams=function(e,t){var n=e.config,r=t.id,i=t.name,o=t.custom;return r?i?n.subscribeKey?o&&!Object.values(o).every((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing Space.name":"Missing Space.id"},t.usePatch=function(){return!0},t.getURL=function(e,t){var n=e.config,r=t.id;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(r)},t.patchURL=function(e,t){var n=e.config,r=t.id;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(r)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.id)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,r={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var i=[];n.customFields&&i.push("custom");var o=i.join(",");o.length>0&&(r.include=o)}return r},t.patchPayload=function(e,t){return function(e,t){return t}(0,t)},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNDeleteSpaceOperation},t.validateParams=function(e,t){var n=e.config;return t?n.subscribeKey?void 0:"Missing Subscribe Key":"Missing SpaceId"},t.useDelete=function(){return!0},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(t)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t)||e.tokenManager.getToken("space")},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNGetSpacesOperation},t.validateParams=function(){},t.getURL=function(e){var t=e.config;return"/v1/objects/".concat(t.subscribeKey,"/spaces")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e){return e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,r=t.limit,i=t.page,o=t.filter,a={};if(r&&(a.limit=r),n){var s=[];n.totalCount&&(a.count=!0),n.customFields&&s.push("custom");var u=s.join(",");u.length>0&&(a.include=u)}return i&&(i.next&&(a.start=i.next),i.prev&&(a.end=i.prev)),o&&(a.filter=o),a},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNGetSpaceOperation},t.validateParams=function(e,t){if(!t.spaceId)return"Missing spaceId"},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(t.spaceId)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.spaceId)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,r={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var i=[];n.customFields&&i.push("custom");var o=i.join(",");o.length>0&&(r.include=o)}return r},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNGetMembersOperation},t.validateParams=function(e,t){if(!t.spaceId)return"Missing spaceId"},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.spaceId)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,r=t.limit,i=t.page,o=t.filter,a={};if(r&&(a.limit=r),n){var s=[];n.totalCount&&(a.count=!0),n.customFields&&s.push("custom"),n.userFields&&s.push("user"),n.customUserFields&&s.push("user.custom");var u=s.join(",");u.length>0&&(a.include=u)}return i&&(i.next&&(a.start=i.next),i.prev&&(a.end=i.prev)),o&&(a.filter=o),a},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUpdateMembersOperation},t.validateParams=function(e,t){var n=t.spaceId,r=t.users;return n?r?void 0:"Missing users":"Missing spaceId"},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.patchURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.spaceId)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,r=t.limit,i=t.page,o={};if(r&&(o.limit=r),n){var a=[];n.totalCount&&(o.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var s=a.join(",");s.length>0&&(o.include=s)}return i&&(i.next&&(o.start=i.next),i.prev&&(o.end=i.prev)),o},t.patchPayload=function(e,t){return function(e,t){var n=t.users,r={};return n&&n.length>0&&(r.add=[],n.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),r.add.push(t)}))),r}(0,t)},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUpdateMembersOperation},t.validateParams=function(e,t){var n=t.spaceId,r=t.users;return n?r?void 0:"Missing users":"Missing spaceId"},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.patchURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.spaceId)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,r=t.limit,i=t.page,o={};if(r&&(o.limit=r),n){var a=[];n.totalCount&&(o.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var s=a.join(",");s.length>0&&(o.include=s)}return i&&(i.next&&(o.start=i.next),i.prev&&(o.end=i.prev)),o},t.patchPayload=function(e,t){return function(e,t){var n=t.addMembers,r=t.updateMembers,i=t.removeMembers,o=t.users,a={};return n&&n.length>0&&(a.add=[],n.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.add.push(t)}))),r&&r.length>0&&(a.update=[],r.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.update.push(t)}))),o&&o.length>0&&(a.update=a.update||[],o.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.update.push(t)}))),i&&i.length>0&&(a.remove=[],i.forEach((function(e){a.remove.push({id:e})}))),a}(0,t)},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUpdateMembersOperation},t.validateParams=function(e,t){var n=t.spaceId,r=t.users;return n?r?void 0:"Missing users":"Missing spaceId"},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.patchURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.spaceId)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,r=t.limit,i=t.page,o={};if(r&&(o.limit=r),n){var a=[];n.totalCount&&(o.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var s=a.join(",");s.length>0&&(o.include=s)}return i&&(i.next&&(o.start=i.next),i.prev&&(o.end=i.prev)),o},t.patchPayload=function(e,t){return function(e,t){var n=t.users,r={};return n&&n.length>0&&(r.remove=[],n.forEach((function(e){r.remove.push({id:e})}))),r}(0,t)},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNGetMembershipsOperation},t.validateParams=function(e,t){if(!t.userId)return"Missing userId"},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.userId)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,r=t.limit,i=t.page,o=t.filter,a={};if(r&&(a.limit=r),n){var s=[];n.totalCount&&(a.count=!0),n.customFields&&s.push("custom"),n.spaceFields&&s.push("space"),n.customSpaceFields&&s.push("space.custom");var u=s.join(",");u.length>0&&(a.include=u)}return i&&(i.next&&(a.start=i.next),i.prev&&(a.end=i.prev)),o&&(a.filter=o),a},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUpdateMembershipsOperation},t.validateParams=function(e,t){var n=t.userId,r=t.spaces;return n?r?void 0:"Missing spaces":"Missing userId"},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.patchURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.userId)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,r=t.limit,i=t.page,o={};if(r&&(o.limit=r),n){var a=[];n.totalCount&&(o.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var s=a.join(",");s.length>0&&(o.include=s)}return i&&(i.next&&(o.start=i.next),i.prev&&(o.end=i.prev)),o},t.patchPayload=function(e,t){return function(e,t){var n=t.addMemberships,r=t.updateMemberships,i=t.removeMemberships,o=t.spaces,a={};return n&&n.length>0&&(a.add=[],n.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.add.push(t)}))),r&&r.length>0&&(a.update=[],r.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.update.push(t)}))),o&&o.length>0&&(a.update=a.update||[],o.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.update.push(t)}))),i&&i.length>0&&(a.remove=[],i.forEach((function(e){a.remove.push({id:e})}))),a}(0,t)},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUpdateMembershipsOperation},t.validateParams=function(e,t){var n=t.userId,r=t.spaces;return n?r?void 0:"Missing spaces":"Missing userId"},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.patchURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.userId)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,r=t.limit,i=t.page,o={};if(r&&(o.limit=r),n){var a=[];n.totalCount&&(o.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var s=a.join(",");s.length>0&&(o.include=s)}return i&&(i.next&&(o.start=i.next),i.prev&&(o.end=i.prev)),o},t.patchPayload=function(e,t){return function(e,t){var n=t.spaces,r={};return n&&n.length>0&&(r.add=[],n.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),r.add.push(t)}))),r}(0,t)},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUpdateMembershipsOperation},t.validateParams=function(e,t){var n=t.userId,r=t.spaces;return n?r?void 0:"Missing spaces":"Missing userId"},t.getURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.patchURL=function(e,t){var n=e.config;return"/v1/objects/".concat(n.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.userId)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,r=t.limit,i=t.page,o={};if(r&&(o.limit=r),n){var a=[];n.totalCount&&(o.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var s=a.join(",");s.length>0&&(o.include=s)}return i&&(i.next&&(o.start=i.next),i.prev&&(o.end=i.prev)),o},t.patchPayload=function(e,t){return function(e,t){var n=t.spaces,r={};return n&&n.length>0&&(r.remove=[],n.forEach((function(e){r.remove.push({id:e})}))),r}(0,t)},t.handleResponse=function(e,t){return t},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNAccessManagerAudit},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e){var t=e.config;return"/v2/auth/audit/sub-key/".concat(t.subscribeKey)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(e,t){var n=t.channel,r=t.channelGroup,i=t.authKeys,o=void 0===i?[]:i,a={};return n&&(a.channel=n),r&&(a["channel-group"]=r),o.length>0&&(a.auth=o.join(",")),a},t.handleResponse=function(e,t){return t.payload},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNAccessManagerGrant},t.validateParams=function(e,t){var n=e.config;return n.subscribeKey?n.publishKey?n.secretKey?null==t.uuids||t.authKeys?null==t.uuids||null==t.channels&&null==t.channelGroups?void 0:"Both channel/channelgroup and uuid cannot be used in the same request":"authKeys are required for grant request on uuids":"Missing Secret Key":"Missing Publish Key":"Missing Subscribe Key"},t.getURL=function(e){var t=e.config;return"/v2/auth/grant/sub-key/".concat(t.subscribeKey)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(e,t){var n=t.channels,r=void 0===n?[]:n,i=t.channelGroups,o=void 0===i?[]:i,a=t.uuids,s=void 0===a?[]:a,u=t.ttl,c=t.read,l=void 0!==c&&c,d=t.write,f=void 0!==d&&d,p=t.manage,h=void 0!==p&&p,v=t.get,g=void 0!==v&&v,y=t.join,m=void 0!==y&&y,b=t.update,k=void 0!==b&&b,_=t.authKeys,w=void 0===_?[]:_,P=t.delete,S={};return S.r=l?"1":"0",S.w=f?"1":"0",S.m=h?"1":"0",S.d=P?"1":"0",S.g=g?"1":"0",S.j=m?"1":"0",S.u=k?"1":"0",r.length>0&&(S.channel=r.join(",")),o.length>0&&(S["channel-group"]=o.join(",")),w.length>0&&(S.auth=w.join(",")),s.length>0&&(S["target-uuid"]=s.join(",")),(u||0===u)&&(S.ttl=u),S},t.handleResponse=function(){return{}},n(2);var i=r(n(1))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNAccessManagerGrantToken},t.extractPermissions=o,t.validateParams=function(e,t){var n=e.config;return n.subscribeKey?n.publishKey?n.secretKey?t.resources||t.patterns?(!t.resources||t.resources.users&&0!==Object.keys(t.resources.users).length||t.resources.spaces&&0!==Object.keys(t.resources.spaces).length)&&(!t.patterns||t.patterns.users&&0!==Object.keys(t.patterns.users).length||t.patterns.spaces&&0!==Object.keys(t.patterns.spaces).length)?void 0:"Missing values for either Resources or Patterns.":"Missing either Resources or Patterns.":"Missing Secret Key":"Missing Publish Key":"Missing Subscribe Key"},t.postURL=function(e){var t=e.config;return"/v3/pam/".concat(t.subscribeKey,"/grant")},t.usePost=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(){return{}},t.postPayload=function(e,t){return function(e,t){var n=t.ttl,r=t.resources,i=t.patterns,a=t.meta,s={ttl:0,permissions:{resources:{channels:{},groups:{},users:{},spaces:{}},patterns:{channels:{},groups:{},users:{},spaces:{}},meta:{}}};if(r){var u=r.users,c=r.spaces;u&&Object.keys(u).forEach((function(e){s.permissions.resources.users[e]=o(u[e])})),c&&Object.keys(c).forEach((function(e){s.permissions.resources.spaces[e]=o(c[e])}))}if(i){var l=i.users,d=i.spaces;l&&Object.keys(l).forEach((function(e){s.permissions.patterns.users[e]=o(l[e])})),d&&Object.keys(d).forEach((function(e){s.permissions.patterns.spaces[e]=o(d[e])}))}return(n||0===n)&&(s.ttl=n),a&&(s.permissions.meta=a),s}(0,t)},t.handleResponse=function(e,t){return t.data.token},n(2);var i=r(n(1));function o(e){var t=0;return e.create&&(t|=16),e.delete&&(t|=8),e.manage&&(t|=4),e.write&&(t|=2),e.read&&(t|=1),t}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNPublishOperation},t.validateParams=function(e,t){var n=e.config,r=t.message;return t.channel?r?n.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},t.usePost=function(e,t){var n=t.sendByPost;return void 0!==n&&n},t.getURL=function(e,t){var n=e.config,r=t.channel,i=s(e,t.message);return"/publish/".concat(n.publishKey,"/").concat(n.subscribeKey,"/0/").concat(a.default.encodeString(r),"/0/").concat(a.default.encodeString(i))},t.postURL=function(e,t){var n=e.config,r=t.channel;return"/publish/".concat(n.publishKey,"/").concat(n.subscribeKey,"/0/").concat(a.default.encodeString(r),"/0")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.postPayload=function(e,t){return s(e,t.message)},t.prepareParams=function(e,t){var n=t.meta,r=t.replicate,o=void 0===r||r,a=t.storeInHistory,s=t.ttl,u={};return null!=a&&(u.store=a?"1":"0"),s&&(u.ttl=s),!1===o&&(u.norep="true"),n&&"object"===(0,i.default)(n)&&(u.meta=JSON.stringify(n)),u},t.handleResponse=function(e,t){return{timetoken:t[2]}};var i=r(n(7)),o=(n(2),r(n(1))),a=r(n(3));function s(e,t){var n=e.crypto,r=e.config,i=JSON.stringify(t);return r.cipherKey&&(i=n.encrypt(i),i=JSON.stringify(i)),i}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNSignalOperation},t.validateParams=function(e,t){var n=e.config,r=t.message;return t.channel?r?n.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},t.getURL=function(e,t){var n,r=e.config,i=t.channel,a=(n=t.message,JSON.stringify(n));return"/signal/".concat(r.publishKey,"/").concat(r.subscribeKey,"/0/").concat(o.default.encodeString(i),"/0/").concat(o.default.encodeString(a))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{timetoken:t[2]}},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNHistoryOperation},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.getURL=function(e,t){var n=t.channel,r=e.config;return"/v2/history/sub-key/".concat(r.subscribeKey,"/channel/").concat(o.default.encodeString(n))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,r=t.end,i=t.reverse,o=t.count,a=void 0===o?100:o,s=t.stringifiedTimeToken,u=void 0!==s&&s,c=t.includeMeta,l=void 0!==c&&c,d={include_token:"true"};return d.count=a,n&&(d.start=n),r&&(d.end=r),u&&(d.string_message_token="true"),null!=i&&(d.reverse=i.toString()),l&&(d.include_meta="true"),d},t.handleResponse=function(e,t){var n={messages:[],startTimeToken:t[1],endTimeToken:t[2]};return Array.isArray(t[0])&&t[0].forEach((function(t){var r={timetoken:t.timetoken,entry:a(e,t.message)};t.meta&&(r.meta=t.meta),n.messages.push(r)})),n},n(2);var i=r(n(1)),o=r(n(3));function a(e,t){var n=e.config,r=e.crypto;if(!n.cipherKey)return t;try{return r.decrypt(t)}catch(e){return t}}},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNDeleteMessagesOperation},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.useDelete=function(){return!0},t.getURL=function(e,t){var n=t.channel,r=e.config;return"/v3/history/sub-key/".concat(r.subscribeKey,"/channel/").concat(o.default.encodeString(n))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,r=t.end,i={};return n&&(i.start=n),r&&(i.end=r),i},t.handleResponse=function(e,t){return t.payload},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNMessageCounts},t.validateParams=function(e,t){var n=t.channels,r=t.timetoken,i=t.channelTimetokens,o=e.config;return n?r&&i?"timetoken and channelTimetokens are incompatible together":r&&i&&i.length>1&&n.length!==i.length?"Length of channelTimetokens and channels do not match":o.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.getURL=function(e,t){var n=t.channels,r=e.config,i=n.join(",");return"/v3/history/sub-key/".concat(r.subscribeKey,"/message-counts/").concat(a.default.encodeString(i))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.timetoken,r=t.channelTimetokens,o={};if(r&&1===r.length){var a=(0,i.default)(r,1)[0];o.timetoken=a}else r?o.channelsTimetoken=r.join(","):n&&(o.timetoken=n);return o},t.handleResponse=function(e,t){return{channels:t.channels}};var i=r(n(9)),o=r(n(1)),a=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNFetchMessagesOperation},t.validateParams=function(e,t){var n=t.channels,r=t.includeMessageActions,i=void 0!==r&&r,o=e.config;if(!n||0===n.length)return"Missing channels";if(!o.subscribeKey)return"Missing Subscribe Key";if(i&&n.length>1)throw new TypeError("History can return actions data for a single channel only. Either pass a single channel or disable the includeMessageActions flag.")},t.getURL=function(e,t){var n=t.channels,r=void 0===n?[]:n,i=t.includeMessageActions,a=void 0!==i&&i,s=e.config,u=a?"history-with-actions":"history",c=r.length>0?r.join(","):",";return"/v3/".concat(u,"/sub-key/").concat(s.subscribeKey,"/channel/").concat(o.default.encodeString(c))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,r=t.end,i=t.count,o=t.stringifiedTimeToken,a=void 0!==o&&o,s=t.includeMeta,u=void 0!==s&&s,c=t.includeUuid,l=t.includeUUID,d=void 0===l||l,f=t.includeMessageType,p=void 0===f||f,h={};return i&&(h.max=i),n&&(h.start=n),r&&(h.end=r),a&&(h.string_message_token="true"),u&&(h.include_meta="true"),d&&!1!==c&&(h.include_uuid="true"),p&&(h.include_message_type="true"),h},t.handleResponse=function(e,t){var n={channels:{}};return Object.keys(t.channels||{}).forEach((function(r){n.channels[r]=[],(t.channels[r]||[]).forEach((function(t){var i={};i.channel=r,i.timetoken=t.timetoken,i.message=function(e,t){var n=e.config,r=e.crypto;if(!n.cipherKey)return t;try{return r.decrypt(t)}catch(e){return t}}(e,t.message),i.messageType=t.message_type,i.uuid=t.uuid,t.actions&&(i.actions=t.actions,i.data=t.actions),t.meta&&(i.meta=t.meta),n.channels[r].push(i)}))})),t.more&&(n.more=t.more),n},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNSubscribeOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,a=i.length>0?i.join(","):",";return"/v2/subscribe/".concat(n.subscribeKey,"/").concat(o.default.encodeString(a),"/0")},t.getRequestTimeout=function(e){return e.config.getSubscribeTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=e.config,r=t.state,i=t.channelGroups,o=void 0===i?[]:i,a=t.timetoken,s=t.filterExpression,u=t.region,c={heartbeat:n.getPresenceTimeout()};return o.length>0&&(c["channel-group"]=o.join(",")),s&&s.length>0&&(c["filter-expr"]=s),Object.keys(r).length&&(c.state=JSON.stringify(r)),a&&(c.tt=a),u&&(c.tr=u),c},t.handleResponse=function(e,t){var n=[];t.m.forEach((function(e){var t={publishTimetoken:e.p.t,region:e.p.r},r={shard:parseInt(e.a,10),subscriptionMatch:e.b,channel:e.c,messageType:e.e,payload:e.d,flags:e.f,issuingClientId:e.i,subscribeKey:e.k,originationTimetoken:e.o,userMetadata:e.u,publishMetaData:t};n.push(r)}));var r={timetoken:t.t.t,region:t.t.r};return{messages:n,metadata:r}},n(2);var i=r(n(1)),o=r(n(3))},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(5)),o=r(n(6)),a=r(n(4)),s=(r(n(8)),r(n(10))),u=(n(2),function(){function e(t){var n=this;(0,i.default)(this,e),(0,a.default)(this,"_modules",void 0),(0,a.default)(this,"_config",void 0),(0,a.default)(this,"_maxSubDomain",void 0),(0,a.default)(this,"_currentSubDomain",void 0),(0,a.default)(this,"_standardOrigin",void 0),(0,a.default)(this,"_subscribeOrigin",void 0),(0,a.default)(this,"_providedFQDN",void 0),(0,a.default)(this,"_requestTimeout",void 0),(0,a.default)(this,"_coreParams",void 0),this._modules={},Object.keys(t).forEach((function(e){n._modules[e]=t[e].bind(n)}))}return(0,o.default)(e,[{key:"init",value:function(e){this._config=e,this._maxSubDomain=20,this._currentSubDomain=Math.floor(Math.random()*this._maxSubDomain),this._providedFQDN=(this._config.secure?"https://":"http://")+this._config.origin,this._coreParams={},this.shiftStandardOrigin()}},{key:"nextOrigin",value:function(){return this._providedFQDN.match(/ps\.pndsn\.com$/i)?(this._currentSubDomain+=1,this._currentSubDomain>=this._maxSubDomain&&(this._currentSubDomain=1),e=this._currentSubDomain.toString(),this._providedFQDN.replace("ps.pndsn.com","ps".concat(e,".pndsn.com"))):this._providedFQDN;var e}},{key:"hasModule",value:function(e){return e in this._modules}},{key:"shiftStandardOrigin",value:function(){return this._standardOrigin=this.nextOrigin(),this._standardOrigin}},{key:"getStandardOrigin",value:function(){return this._standardOrigin}},{key:"POSTFILE",value:function(e,t,n){return this._modules.postfile(e,t,n)}},{key:"GETFILE",value:function(e,t,n){return this._modules.getfile(e,t,n)}},{key:"POST",value:function(e,t,n,r){return this._modules.post(e,t,n,r)}},{key:"PATCH",value:function(e,t,n,r){return this._modules.patch(e,t,n,r)}},{key:"GET",value:function(e,t,n){return this._modules.get(e,t,n)}},{key:"DELETE",value:function(e,t,n){return this._modules.del(e,t,n)}},{key:"_detectErrorCategory",value:function(e){if("ENOTFOUND"===e.code)return s.default.PNNetworkIssuesCategory;if("ECONNREFUSED"===e.code)return s.default.PNNetworkIssuesCategory;if("ECONNRESET"===e.code)return s.default.PNNetworkIssuesCategory;if("EAI_AGAIN"===e.code)return s.default.PNNetworkIssuesCategory;if(0===e.status||e.hasOwnProperty("status")&&void 0===e.status)return s.default.PNNetworkIssuesCategory;if(e.timeout)return s.default.PNTimeoutCategory;if("ETIMEDOUT"===e.code)return s.default.PNNetworkIssuesCategory;if(e.response){if(e.response.badRequest)return s.default.PNBadRequestCategory;if(e.response.forbidden)return s.default.PNAccessDeniedCategory}return s.default.PNUnknownCategory}}]),e}());t.default=u,e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={get:function(e){try{return localStorage.getItem(e)}catch(e){return null}},set:function(e,t){try{return localStorage.setItem(e,t)}catch(e){return null}}};t.default=r,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7)),o=r(n(5)),a=r(n(6)),s=r(n(4)),u=function(){function e(t,n){(0,o.default)(this,e),(0,s.default)(this,"_base64ToBinary",void 0),(0,s.default)(this,"_cborReader",void 0),this._base64ToBinary=n,this._decode=t}return(0,a.default)(e,[{key:"decodeToken",value:function(e){var t="";e.length%4==3?t="=":e.length%4==2&&(t="==");var n=e.replace(/-/gi,"+").replace(/_/gi,"/")+t,r=this._decode(this._base64ToBinary(n));if("object"===(0,i.default)(r))return r}}]),e}();t.default=u,e.exports=t.default},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.postfile=function(e,t,n){return c.apply(this,arguments)},t.getfile=function(e,t,n){var r=a.default.get(this.getStandardOrigin()+t.url).set(t.headers).query(e);return u.call(this,r,t,n)},t.get=function(e,t,n){var r=a.default.get(this.getStandardOrigin()+t.url).set(t.headers).query(e);return u.call(this,r,t,n)},t.post=function(e,t,n,r){var i=a.default.post(this.getStandardOrigin()+n.url).query(e).set(n.headers).send(t);return u.call(this,i,n,r)},t.patch=function(e,t,n,r){var i=a.default.patch(this.getStandardOrigin()+n.url).query(e).set(n.headers).send(t);return u.call(this,i,n,r)},t.del=function(e,t,n){var r=a.default.delete(this.getStandardOrigin()+t.url).set(t.headers).query(e);return u.call(this,r,t,n)};var i=r(n(11)),o=r(n(12)),a=r(n(125));function s(e){var t=(new Date).getTime(),n=(new Date).toISOString(),r=console&&console.log?console:window&&window.console&&window.console.log?window.console:console;r.log("<<<<<"),r.log("[".concat(n,"]"),"\n",e.url,"\n",e.qs),r.log("-----"),e.on("response",(function(n){var i=(new Date).getTime()-t,o=(new Date).toISOString();r.log(">>>>>>"),r.log("[".concat(o," / ").concat(i,"]"),"\n",e.url,"\n",e.qs,"\n",n.text),r.log("-----")}))}function u(e,t,n){var r=this;this._config.logVerbosity&&(e=e.use(s)),this._config.proxy&&this._modules.proxy&&(e=this._modules.proxy.call(this,e)),this._config.keepAlive&&this._modules.keepAlive&&(e=this._modules.keepAlive(e));var i=e;return!0===t.forceBuffered?i="undefined"==typeof Blob?i.buffer().responseType("arraybuffer"):i.responseType("arraybuffer"):!1===t.forceBuffered&&(i=i.buffer(!1)),i.timeout(t.timeout).end((function(e,i){var o,a={};if(a.error=null!==e,a.operation=t.operation,i&&i.status&&(a.statusCode=i.status),e){if(e.response&&e.response.text&&!r._config.logVerbosity)try{a.errorData=JSON.parse(e.response.text)}catch(t){a.errorData=e}else a.errorData=e;return a.category=r._detectErrorCategory(e),n(a,null)}if(t.ignoreBody)o={headers:i.headers,redirects:i.redirects,response:i};else try{o=JSON.parse(i.text)}catch(e){return a.errorData=i,a.error=!0,n(a,null)}return o.error&&1===o.error&&o.status&&o.message&&o.service?(a.errorData=o,a.statusCode=o.status,a.error=!0,a.category=r._detectErrorCategory(a),n(a,null)):(o.error&&o.error.message&&(a.errorData=o.error),n(a,o))}))}function c(){return(c=(0,o.default)(i.default.mark((function e(t,n,r){var o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.default.post(t),n.forEach((function(e){var t=e.key,n=e.value;o=o.field(t,n)})),o.attach("file",r,{contentType:"application/octet-stream"}),e.next=5,o;case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(2)},function(e,t,n){var r;"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=this);var i=n(126),o=n(127),a=n(26),s=n(128),u=n(130);function c(){}var l=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=y,l.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var d="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function f(e){if(!a(e))return e;var t=[];for(var n in e)p(t,n,e[n]);return t.join("&")}function p(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach((function(n){p(e,t,n)}));else if(a(n))for(var r in n)p(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function h(e){for(var t,n,r={},i=e.split("&"),o=0,a=i.length;o<a;++o)-1==(n=(t=i[o]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function v(e){return/[\/+]json($|[^-\w])/.test(e)}function g(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,r,i,o=e.split(/\r?\n/),a={},s=0,u=o.length;s<u;++s)-1!==(t=(n=o[s]).indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),i=d(n.slice(t+1)),a[r]=i);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function y(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,r=null;try{r=new g(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)}))}function m(e,t,n){var r=l("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}l.serializeObject=f,l.parseString=h,l.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":f,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse},s(g.prototype),g.prototype._parseBody=function(e){var t=l.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&v(this.type)&&(t=l.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},g.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},l.Response=g,i(y.prototype),o(y.prototype),y.prototype.type=function(e){return this.set("Content-Type",l.types[e]||e),this},y.prototype.accept=function(e){return this.set("Accept",l.types[e]||e),this},y.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var r=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,r)},y.prototype.query=function(e){return"string"!=typeof e&&(e=f(e)),e&&this._query.push(e),this},y.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},y.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},y.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},y.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},y.prototype.buffer=y.prototype.ca=y.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},y.prototype.pipe=y.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},y.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},y.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||c,this._finalizeQueryString(),this._end()},y.prototype._end=function(){var e=this,t=this.xhr=l.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=r.bind(null,"download"),t.upload&&(t.upload.onprogress=r.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],o=this._serializer||l.serialize[i?i.split(";")[0]:""];!o&&v(i)&&(o=l.serialize["application/json"]),o&&(n=o(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},l.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){u.prototype[e.toLowerCase()]=function(t,n){var r=new l.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}})),u.prototype.del=u.prototype.delete,l.get=function(e,t,n){var r=l("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},l.head=function(e,t,n){var r=l("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},l.options=function(e,t,n){var r=l("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},l.del=m,l.delete=m,l.patch=function(e,t,n){var r=l("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},l.post=function(e,t,n){var r=l("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},l.put=function(e,t,n){var r=l("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var r=n(26);function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},i.prototype.parse=function(e){return this._parser=e,this},i.prototype.responseType=function(e){return this._responseType=e,this},i.prototype.serialize=function(e){return this._serializer=e,this},i.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},i.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~o.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},i.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){n.end((function(n,r){n?t(n):e(r)}))}))}return this._fullfilledPromise.then(e,t)},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.use=function(e){return e(this),this},i.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},i.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},i.prototype.get=function(e){return this._header[e.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},i.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},i.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var i in t)this.field(e,t[i]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},i.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},i.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},i.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},i.prototype.redirects=function(e){return this._maxRedirects=e,this},i.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(e){var t=r(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&r(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},i.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},i.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},i.prototype._appendQueryString=function(){console.trace("Unsupported")},i.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},i.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(e,t,n){var r=n(129);function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.get=function(e){return this.header[e.toLowerCase()]},i.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=r.type(t);var n=r.params(t);for(var i in n)this[i]=n[i];this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(e){}},i.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t,n){t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce((function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e}),{})},t.parseLinks=function(e){return e.split(/ *, */).reduce((function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e}),{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach((function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}})),n.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,t.arguments)}))},e.exports=n},function(e,t,n){(function(r){var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(11)),a=i(n(12)),s=i(n(5)),u=i(n(6)),c=i(n(4)),l=i(n(133));function d(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer}var f=function(){function e(){(0,s.default)(this,e)}var t,n,i,c,f,p,h,v,g;return(0,u.default)(e,[{key:"encrypt",value:(g=(0,a.default)(o.default.mark((function e(t,n){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKey(t);case 2:if(r=e.sent,!(n instanceof ArrayBuffer)){e.next=7;break}return e.abrupt("return",this.encryptArrayBuffer(r,n));case 7:if("string"!=typeof n){e.next=11;break}return e.abrupt("return",this.encryptString(r,n));case 11:throw new Error("Cannot encrypt this file. In browsers file encryption supports only string or ArrayBuffer");case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"decrypt",value:(v=(0,a.default)(o.default.mark((function e(t,n){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKey(t);case 2:if(r=e.sent,!(n instanceof ArrayBuffer)){e.next=7;break}return e.abrupt("return",this.decryptArrayBuffer(r,n));case 7:if("string"!=typeof n){e.next=11;break}return e.abrupt("return",this.decryptString(r,n));case 11:throw new Error("Cannot decrypt this file. In browsers file decryption supports only string or ArrayBuffer");case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"encryptFile",value:(h=(0,a.default)(o.default.mark((function e(t,n,r){var i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKey(t);case 2:return i=e.sent,e.next=5,n.toArrayBuffer();case 5:return a=e.sent,e.next=8,this.encryptArrayBuffer(i,a);case 8:return s=e.sent,e.abrupt("return",r.create({name:n.name,mimeType:"application/octet-stream",data:s}));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return h.apply(this,arguments)})},{key:"decryptFile",value:(p=(0,a.default)(o.default.mark((function e(t,n,r){var i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKey(t);case 2:return i=e.sent,e.next=5,n.toArrayBuffer();case 5:return a=e.sent,e.next=8,this.decryptArrayBuffer(i,a);case 8:if(s=e.sent,!(n.data instanceof ArrayBuffer)){e.next=13;break}return e.abrupt("return",r.create({name:n.name,data:s}));case 13:throw new Error("Cannot decrypt this file. In browser environment file decryption supports only ArrayBuffer.");case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return p.apply(this,arguments)})},{key:"getKey",value:(f=(0,a.default)(o.default.mark((function e(t){var n,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.from(t),e.next=3,l.default.subtle.digest("SHA-256",n.buffer);case 3:return i=e.sent,a=r.from(r.from(i).toString("hex").slice(0,32),"utf8").buffer,e.abrupt("return",l.default.subtle.importKey("raw",a,"AES-CBC",!0,["encrypt","decrypt"]));case 6:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"encryptArrayBuffer",value:(c=(0,a.default)(o.default.mark((function e(t,n){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.default.getRandomValues(new Uint8Array(16)),e.t0=d,e.t1=r.buffer,e.next=5,l.default.subtle.encrypt({name:"AES-CBC",iv:r},t,n);case 5:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 7:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"decryptArrayBuffer",value:(i=(0,a.default)(o.default.mark((function e(t,n){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.slice(0,16),e.abrupt("return",l.default.subtle.decrypt({name:"AES-CBC",iv:r},t,n.slice(16)));case 2:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"encryptString",value:(n=(0,a.default)(o.default.mark((function e(t,n){var i,a,s,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.default.getRandomValues(new Uint8Array(16)),a=r.from(n).buffer,e.next=4,l.default.subtle.encrypt({name:"AES-CBC",iv:i},t,a);case 4:return s=e.sent,u=d(i.buffer,s),e.abrupt("return",r.from(u).toString("utf8"));case 7:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"decryptString",value:(t=(0,a.default)(o.default.mark((function e(t,n){var i,a,s,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.from(n),a=i.slice(0,16),s=i.slice(16),e.next=5,l.default.subtle.decrypt({name:"AES-CBC",iv:a},t,s);case 5:return u=e.sent,e.abrupt("return",r.from(u).toString("utf8"));case 7:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})},{key:"algo",get:function(){return"aes-256-cbc"}}]),e}();t.default=f,(0,c.default)(f,"IV_LENGTH",16),e.exports=t.default}).call(this,n(21).Buffer)},function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,a=r(n(11)),s=r(n(12)),u=r(n(5)),c=r(n(6)),l=r(n(4)),d=(n(25),o=i=function(){function e(t){if((0,u.default)(this,e),(0,l.default)(this,"data",void 0),(0,l.default)(this,"name",void 0),(0,l.default)(this,"mimeType",void 0),t instanceof File)this.data=t,this.name=this.data.name,this.mimeType=this.data.type;else if(t.data){var n=t.data;this.data=new File([n],t.name,{type:t.mimeType}),this.name=t.name,t.mimeType&&(this.mimeType=t.mimeType)}if(void 0===this.data)throw new Error("Couldn't construct a file out of supplied options.");if(void 0===this.name)throw new Error("Couldn't guess filename out of the options. Please provide one.")}var t,n,r,i,o,d,f;return(0,c.default)(e,null,[{key:"create",value:function(e){return new this(e)}}]),(0,c.default)(e,[{key:"toBuffer",value:(f=(0,s.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("This feature is only supported in Node.js environments.");case 1:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"toStream",value:(d=(0,s.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("This feature is only supported in Node.js environments.");case 1:case"end":return e.stop()}}),e)}))),function(){return d.apply(this,arguments)})},{key:"toFileUri",value:(o=(0,s.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("This feature is only supported in react native environments.");case 1:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"toBlob",value:(i=(0,s.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.data);case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"toArrayBuffer",value:(r=(0,s.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.addEventListener("load",(function(){if(r.result instanceof ArrayBuffer)return e(r.result)})),r.addEventListener("error",(function(){n(r.error)})),r.readAsArrayBuffer(t.data)})));case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"toString",value:(n=(0,s.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.addEventListener("load",(function(){if("string"==typeof r.result)return e(r.result)})),r.addEventListener("error",(function(){n(r.error)})),r.readAsBinaryString(t.data)})));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"toFile",value:(t=(0,s.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.data);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),(0,l.default)(i,"supportsFile","undefined"!=typeof File),(0,l.default)(i,"supportsBlob","undefined"!=typeof Blob),(0,l.default)(i,"supportsArrayBuffer","undefined"!=typeof ArrayBuffer),(0,l.default)(i,"supportsBuffer",!1),(0,l.default)(i,"supportsStream",!1),(0,l.default)(i,"supportsString",!0),(0,l.default)(i,"supportsEncryptFile",!0),(0,l.default)(i,"supportsFileUri",!1),o);t.default=d,e.exports=t.default},function(t,n,r){r.r(n),
/**
	 * @file Web Cryptography API shim
	 * @author Artem S Vybornov <vybornov@gmail.com>
	 * @license MIT
	 */
function(t,n){e.exports?e.exports=n(t):n(t)}("undefined"!=typeof self?self:void 0,(function(e){if("function"!=typeof Promise)throw"Promise support required";var t=e.crypto||e.msCrypto;if(t){var n=t.subtle||t.webkitSubtle;if(n){var r=e.Crypto||t.constructor||Object,i=e.SubtleCrypto||n.constructor||Object,o=(e.CryptoKey||e.Key,e.navigator.userAgent.indexOf("Edge/")>-1),a=!!e.msCrypto&&!o,s=!t.subtle&&!!t.webkitSubtle;if(a||s){var u={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},c={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach((function(e){var r=n[e];n[e]=function(i,o,u){var c,l,d,h,k=[].slice.call(arguments);switch(e){case"generateKey":c=v(i),l=o,d=u;break;case"importKey":c=v(u),l=k[3],d=k[4],"jwk"===i&&((o=y(o)).alg||(o.alg=g(c)),o.key_ops||(o.key_ops="oct"!==o.kty?"d"in o?d.filter(O):d.filter(S):d.slice()),k[1]=m(o));break;case"unwrapKey":c=k[4],l=k[5],d=k[6],k[2]=u._key}if("generateKey"===e&&"HMAC"===c.name&&c.hash)return c.length=c.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[c.hash.name],n.importKey("raw",t.getRandomValues(new Uint8Array(c.length+7>>3)),c,l,d);if(s&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===c.name&&(!c.modulusLength||c.modulusLength>=2048))return(i=v(i)).name="RSAES-PKCS1-v1_5",delete i.hash,n.generateKey(i,!0,["encrypt","decrypt"]).then((function(e){return Promise.all([n.exportKey("jwk",e.publicKey),n.exportKey("jwk",e.privateKey)])})).then((function(e){return e[0].alg=e[1].alg=g(c),e[0].key_ops=d.filter(S),e[1].key_ops=d.filter(O),Promise.all([n.importKey("jwk",e[0],c,!0,e[0].key_ops),n.importKey("jwk",e[1],c,l,e[1].key_ops)])})).then((function(e){return{publicKey:e[0],privateKey:e[1]}}));if((s||a&&"SHA-1"===(c.hash||{}).name)&&"importKey"===e&&"jwk"===i&&"HMAC"===c.name&&"oct"===o.kty)return n.importKey("raw",p(f(o.k)),u,k[3],k[4]);if(s&&"importKey"===e&&("spki"===i||"pkcs8"===i))return n.importKey("jwk",b(o),u,k[3],k[4]);if(a&&"unwrapKey"===e)return n.decrypt(k[3],u,o).then((function(e){return n.importKey(i,e,k[4],k[5],k[6])}));try{h=r.apply(n,k)}catch(e){return Promise.reject(e)}return a&&(h=new Promise((function(e,t){h.onabort=h.onerror=function(e){t(e)},h.oncomplete=function(t){e(t.target.result)}}))),h=h.then((function(e){return"HMAC"===c.name&&(c.length||(c.length=8*e.algorithm.length)),0==c.name.search("RSA")&&(c.modulusLength||(c.modulusLength=(e.publicKey||e).algorithm.modulusLength),c.publicExponent||(c.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e.publicKey&&e.privateKey?{publicKey:new P(e.publicKey,c,l,d.filter(S)),privateKey:new P(e.privateKey,c,l,d.filter(O))}:new P(e,c,l,d)}))}})),["exportKey","wrapKey"].forEach((function(e){var t=n[e];n[e]=function(r,i,o){var u,c=[].slice.call(arguments);switch(e){case"exportKey":c[1]=i._key;break;case"wrapKey":c[1]=i._key,c[2]=o._key}if((s||a&&"SHA-1"===(i.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===r&&"HMAC"===i.algorithm.name&&(c[0]="raw"),!s||"exportKey"!==e||"spki"!==r&&"pkcs8"!==r||(c[0]="jwk"),a&&"wrapKey"===e)return n.exportKey(r,i).then((function(e){return"jwk"===r&&(e=p(unescape(encodeURIComponent(JSON.stringify(y(e)))))),n.encrypt(c[3],o,e)}));try{u=t.apply(n,c)}catch(e){return Promise.reject(e)}return a&&(u=new Promise((function(e,t){u.onabort=u.onerror=function(e){t(e)},u.oncomplete=function(t){e(t.target.result)}}))),"exportKey"===e&&"jwk"===r&&(u=u.then((function(e){return(s||a&&"SHA-1"===(i.algorithm.hash||{}).name)&&"HMAC"===i.algorithm.name?{kty:"oct",alg:g(i.algorithm),key_ops:i.usages.slice(),ext:!0,k:d(h(e))}:((e=y(e)).alg||(e.alg=g(i.algorithm)),e.key_ops||(e.key_ops="public"===i.type?i.usages.filter(S):"private"===i.type?i.usages.filter(O):i.usages.slice()),e)}))),!s||"exportKey"!==e||"spki"!==r&&"pkcs8"!==r||(u=u.then((function(e){return k(y(e))}))),u}})),["encrypt","decrypt","sign","verify"].forEach((function(e){var t=n[e];n[e]=function(r,i,o,s){if(a&&(!o.byteLength||s&&!s.byteLength))throw new Error("Empy input is not allowed");var u,c=[].slice.call(arguments),l=v(r);if(a&&"decrypt"===e&&"AES-GCM"===l.name){var d=r.tagLength>>3;c[2]=(o.buffer||o).slice(0,o.byteLength-d),r.tag=(o.buffer||o).slice(o.byteLength-d)}c[1]=i._key;try{u=t.apply(n,c)}catch(e){return Promise.reject(e)}return a&&(u=new Promise((function(t,n){u.onabort=u.onerror=function(e){n(e)},u.oncomplete=function(n){if(n=n.target.result,"encrypt"===e&&n instanceof AesGcmEncryptResult){var r=n.ciphertext,i=n.tag;(n=new Uint8Array(r.byteLength+i.byteLength)).set(new Uint8Array(r),0),n.set(new Uint8Array(i),r.byteLength),n=n.buffer}t(n)}}))),u}})),a){var l=n.digest;n.digest=function(e,t){if(!t.byteLength)throw new Error("Empy input is not allowed");var r;try{r=l.call(n,e,t)}catch(e){return Promise.reject(e)}return r=new Promise((function(e,t){r.onabort=r.onerror=function(e){t(e)},r.oncomplete=function(t){e(t.target.result)}}))},e.crypto=Object.create(t,{getRandomValues:{value:function(e){return t.getRandomValues(e)}},subtle:{value:n}}),e.CryptoKey=P}s&&(t.subtle=n,e.Crypto=r,e.SubtleCrypto=i,e.CryptoKey=P)}}}function d(e){return btoa(e).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){return e=(e+="===").slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function p(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function h(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function v(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t.length=e.length);break;case"HMAC":e.hash&&(t.hash=v(e.hash)),e.length&&(t.length=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t.hash=v(e.hash)),e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return t}function g(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function y(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(h(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach((function(n){n in e&&(t[n]=e[n])}));break;default:throw new TypeError("Unsupported key type")}return t}function m(e){var t=y(e);return a&&(t.extractable=t.ext,delete t.ext),p(unescape(encodeURIComponent(JSON.stringify(t)))).buffer}function b(e){var t=_(e),n=!1;t.length>2&&(n=!0,t.shift());var r={ext:!0};switch(t[0][0]){case"1.2.840.113549.1.1.1":var i=["n","e","d","p","q","dp","dq","qi"],o=_(t[1]);n&&o.shift();for(var a=0;a<o.length;a++)o[a][0]||(o[a]=o[a].subarray(1)),r[i[a]]=d(h(o[a]));r.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return r}function k(e){var t,n=[["",null]],r=!1;switch(e.kty){case"RSA":for(var i=["n","e","d","p","q","dp","dq","qi"],o=[],a=0;a<i.length&&i[a]in e;a++){var s=o[a]=p(f(e[i[a]]));128&s[0]&&(o[a]=new Uint8Array(s.length+1),o[a].set(s,1))}o.length>2&&(r=!0,o.unshift(new Uint8Array([0]))),n[0][0]="1.2.840.113549.1.1.1",t=o;break;default:throw new TypeError("Unsupported key type")}return n.push(new Uint8Array(w(t)).buffer),r?n.unshift(new Uint8Array([0])):n[1]={tag:3,value:n[1]},new Uint8Array(w(n)).buffer}function _(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),t.end-t.pos<2||t.end>e.length)throw new RangeError("Malformed DER");var n,r=e[t.pos++],i=e[t.pos++];if(i>=128){if(i&=127,t.end-t.pos<i)throw new RangeError("Malformed DER");for(var o=0;i--;)o<<=8,o|=e[t.pos++];i=o}if(t.end-t.pos<i)throw new RangeError("Malformed DER");switch(r){case 2:n=e.subarray(t.pos,t.pos+=i);break;case 3:if(e[t.pos++])throw new Error("Unsupported bit string");i--;case 4:n=new Uint8Array(e.subarray(t.pos,t.pos+=i)).buffer;break;case 5:n=null;break;case 6:var a=btoa(h(e.subarray(t.pos,t.pos+=i)));if(!(a in u))throw new Error("Unsupported OBJECT ID "+a);n=u[a];break;case 48:n=[];for(var s=t.pos+i;t.pos<s;)n.push(_(e,t));break;default:throw new Error("Unsupported DER tag 0x"+r.toString(16))}return n}function w(e,t){t||(t=[]);var n=0,r=0,i=t.length+2;if(t.push(0,0),e instanceof Uint8Array){n=2,r=e.length;for(var o=0;o<r;o++)t.push(e[o])}else if(e instanceof ArrayBuffer)for(n=4,r=e.byteLength,e=new Uint8Array(e),o=0;o<r;o++)t.push(e[o]);else if(null===e)n=5,r=0;else if("string"==typeof e&&e in c){var a=p(atob(c[e]));for(n=6,r=a.length,o=0;o<r;o++)t.push(a[o])}else if(e instanceof Array){for(o=0;o<e.length;o++)w(e[o],t);n=48,r=t.length-i}else{if(!("object"==typeof e&&3===e.tag&&e.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+e);for(n=3,r=(e=new Uint8Array(e.value)).byteLength,t.push(0),o=0;o<r;o++)t.push(e[o]);r++}if(r>=128){var s=r;for(r=4,t.splice(i,0,s>>24&255,s>>16&255,s>>8&255,255&s);r>1&&!(s>>24);)s<<=8,r--;r<4&&t.splice(i,4-r),r|=128}return t.splice(i-2,2,n,r),t}function P(e,t,n,r){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===n?e.extractable:n,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===r?e.usages:r,enumerable:!0}})}function S(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function O(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}})),n.default=window.crypto}])})),Xa=(Ba=Ja)&&Ba.__esModule&&Object.prototype.hasOwnProperty.call(Ba,"default")?Ba.default:Ba,Qa=(Ja.PubNub,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n&&(t["Program ID"]=n),n&&Bo.progResource[n]&&(t=Object.assign(Object.assign({},t),Bo.progResource[n].analytics_properties)),window.mixpanel.track(e,t)});var Za=function(){return Xa.generateUUID()},es=function(e){return!Ka.getSubscribedChannels().some((function(t){return t===e}))&&function(e){return Ka.subscribe({channels:[e]})}(e)},ts=function(e){return Ka.addListener(e)},ns=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:25,end:null,start:null};return Ka.fetchMessages({channels:[e],count:t.count,stringifiedTimeToken:!0,start:t.start,end:t.end,includeMessageActions:!0})},rs={add:function(e,t,n,r,i,o){return Ka.addMessageAction({channel:e,messageTimetoken:t,action:n},(function(e,t){e.error?o("Error creating reaction"):(Qa("Chat Reaction Added",r),i(t))}))},remove:function(e,t,n,r,i,o){return Ka.removeMessageAction({channel:e,messageTimetoken:t,actionTimetoken:n},(function(e,t){e.error?o("Error removing reaction"):(Qa("Chat Reaction Removed",r),i(t))}))}};var is,os={modeList:is={},getMode:function(e){return"function"==typeof e?e:is[e]?is[e]:Ca('Widget mode: "'+e+'" not found.')},register:function(e,t){return is[e]=t}},as=os.getMode,ss=os.register,us=function(e){var t=e.programId;return t?ma(t).then((function(e){var t=e.subscribe_channel;return ka(e.timeline_url,(function(e){var n=[];return fetch(e).then((function(e){var r=e.headers&&Number(e.headers.get("age"));if(r&&r>0){var i=(new Date).getTime()-1e3*r+"0111";ns(t,{end:i}).then((function(e){return e.channels[t]&&e.channels[t].map((function(e){return n.push(e.message.payload)}))}))}return e.json()})).then((function(e){return e.results=[].concat(n,Nn(e.results)),e}))}),(function(e){return{count:e.count,widgets:e.results}}))})):Ea("programId","getwidgets")},cs=function(e){var t="z"===e.kind[e.kind.length-1]?"zes":"s";return fetch(Bo.endpoint+e.kind+t+"/"+e.id+"/").then((function(e){return e.ok?e.json():Promise.reject("Error getting widget")}))},ls=function(e,t){return ss(e,t)},ds=function(e,t){return customElements.get(e)?console.warn("".concat(e," has already been registered")):customElements.define(e,t)},fs=function(e){return function(t){return ds(e,t)}},ps=[].slice,hs={},vs=function(e,t,n){if(!(t in hs)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";hs[t]=Function("F,a","return new F("+r.join(",")+")")}return hs[t](e,n)},gs=Function.bind||function(e){var t=I(this),n=ps.call(arguments,1),r=function(){var i=n.concat(ps.call(arguments));return this instanceof r?vs(t,i.length,i):at(t,i,e)};return c(t.prototype)&&(r.prototype=t.prototype),r},ys=(r.Reflect||{}).construct,ms=d((function(){function e(){}return!(ys((function(){}),[],e)instanceof e)})),bs=!d((function(){ys((function(){}))}));F(F.S+F.F*(ms||bs),"Reflect",{construct:function(e,t){I(e),l(t);var n=arguments.length<3?e:I(arguments[2]);if(bs&&!ms)return ys(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(gs.apply(e,r))}var i=n.prototype,o=se(c(i)?i:Object.prototype),a=Function.apply.call(e,o,t);return c(a)?a:o}});var ks=function(){var e=[],t=function(t){!e.some((function(e){return e.channel===t}))&&function(e){Ka.unsubscribe({channels:[e]})}(t)},n=function(t,n){var r=[];e.forEach((function(e){(e.channel!==t||e.callback!==n)&&r.push(e)})),e=r},r=function(t,n,r){e.forEach((function(e){e.channel===t&&e.callback({message:n,event:r})}))},i={message:function(e){"program-status-updated"===e.message.event&&Pa(document,e.message.event,e.message.payload),e.timetoken&&(e.message.payload.timetoken=e.timetoken),r(e.channel,e.message.payload,e.message.event)},messageAction:function(e){r(e.channel,e.data,e.event)}};return{subscribe:function(e){es(e)},unsubscribe:t,addListener:function(t,n){e.push({channel:t,callback:n})},removeListener:n,destroy:function(e,r){n(e,r),t(e)},initialize:function(){ts(i)},peak:function(){return console.log(e)}}}();window.SCPEAK=ks.peak;var _s=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ws=function(e){var t=e.getPrototypeOf||function(e){return e.__proto__},n=e.setPrototypeOf||function(e,t){return e.__proto__=t,e},r="object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))?Reflect.construct:function(e,t,r){var i,o=[null];return o.push.apply(o,t),i=e.bind.apply(e,o),n(new i,r.prototype)};return function(e){var i=t(e);return n(e,n((function(){return r(i,arguments,t(this).constructor)}),i))}}(Object)(function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).firstInteractionTime=null,e.changed=!1,e.disabled=!1,e.phase="ready",e.selectedOption={},e.syntheticIncrement=!1,e.vote=null,e.hide_dismiss_button=!1,e.interacted=!1,e.onResults=function(t){if(t.message.id===e.widgetPayload.id)if(e.syntheticIncrement)e.syntheticIncrement=!1;else{var n=null,r=t.message.options||t.message.choices,i=t.message.options?"vote_count":"answer_count",o=t.message.options?"options":"choices";if(r){var a=e[o].map((function(e,t){return e[i]!==r[t][i]&&(n=r[t],e[i]=r[t][i]),e}));if(n){e[o]=a,e.changed=!0,"vote_count"===i?e.voteCountChanged(n):e.answerCountChanged(n);var s="vote_count"===i?"votecountchanged":"answercountchanged";Pa(Rn(e),s,n),Pa(Rn(e),t.event,r)}}}},e.removeListener=function(t){return t&&Pa(Rn(e),t,{element:Rn(e),widget:e.widgetPayload}),ks.removeListener(e.widgetPayload.subscribe_channel,e.onResults),ks.unsubscribe(e.widgetPayload.subscribe_channel),Promise.resolve()},e.expire=function(){return e.removeListener("expire")},e.dismiss=function(){var t={"Widget Type":Zo(e.widgetPayload.kind),"Widget ID":e.widgetPayload.id};return Qa("Widget Dismissed",t,e.programid),e.removeListener("dismiss")},e.detach=function(){var t=e.parentElement;t&&t.detach?t.detach(Rn(e)):e.remove()},e.widgetDismissClick=function(){return e.dismiss().then(e.detach)},e.interactionTrack=function(){!e.firstInteractionTime&&(e.firstInteractionTime=new Date),e.interacted=!0},e.interactionEvent=function(t){"cheer-meter"!==e.widgetPayload.kind&&e.interactionTrack();var n={"Widget Type":Zo(e.widgetPayload.kind),"Widget ID":e.widgetPayload.id,"First Tap Time":e.firstInteractionTime,"Last Tap Time":new Date,"Number Of Taps":t||1};Qa("Widget Interacted",n,e.programid)},e.ready=function(e){return new Promise((function(t){return setTimeout((function(){return t()}),e&&e.timeout||0)}))},e.interactive=function(t){return new Promise((function(n){e.phase=qo,e.disabled=!1;var r=t&&t.timeout||e.widgetPayload.timeout&&Qo(e.widgetPayload.timeout);e.timeout=r,null!==r&&setTimeout(n,r)}))},e.results=function(t){return new Promise((function(n){e.phase=zo;var r=t&&t.timeout||8e3;e.changed=!0,e.disabled=!0,e.resultEvent(),setTimeout(n,r)}))},e.finished=function(t){return new Promise((function(n){e.phase=Ho,e.changed=!0,e.disabled=!0,setTimeout(n,t&&t.timeout||0)}))},e.rankChanged=function(t,n){n&&n.length&&Pa(Rn(e),"rankchange",{widget:t,rewards:n,element:Rn(e)})},e.voteBase=function(t,n,r){return Xo[n]({url:t,data:r}).then((function(t){return e.voteDisable=!1,e.vote=t,e.rankChanged(e.widgetPayload,t.rewards),Promise.resolve(t)})).catch((function(t){return e.voteDisable=!1,Promise.reject(t)}))},e.updateVote=function(t,n){return e.voteBase(t,"patch",n)},e.createVote=function(t,n){return e.voteBase(t,"post",n)},e}return On(t,e),Pn(t,[{key:"shouldUpdate",value:function(){return!!this.widgetPayload}},{key:"firstUpdated",value:function(){ks.subscribe(this.widgetPayload.subscribe_channel),ks.addListener(this.widgetPayload.subscribe_channel,this.onResults),Xo.post({url:this.widgetPayload.impression_url}).catch((function(e){return console.warn("Widget impression request failed")}))}},{key:"connectedCallback",value:function(){var e=this;this.addEventListener("dismiss-clicked",this.widgetDismissClick),this.addEventListener("widget-provider",(function(t){t.detail.provider=e,t.stopPropagation()})),An(Tn(t.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){this.removeListener(),this.removeEventListener("dismiss-clicked",this.widgetDismissClick),An(Tn(t.prototype),"disconnectedCallback",this).call(this)}},{key:"updated",value:function(e){var t=this;e.forEach((function(e,n){var r=function(e){var n;return void 0!==t[e]&&Pa(t,e,(Sn(n={widget:t.widgetPayload,element:t},e,t[e]),Sn(n,"item",t.selectedOption),n))};if("interacted"===n&&r(n),"phase"===n&&(r(n),t.phase!==zo&&t.phase!==Ho||(t.changed=!0,t.disabled=!0)),"vote"===n&&t.vote&&t.vote.id){var i;t.changed=!0;var o=Vo[t.nodeName];Pa(t,o,(Sn(i={},o,t.vote),Sn(i,"element",t),Sn(i,"widget",t.widgetPayload),i))}void 0!==t[n]&&null!==t[n]&&wa.emit("widget-updated",{name:n,key:t.id,prop:t[n],owner:t})}))}},{key:"answerCountChanged",value:function(e){}},{key:"voteCountChanged",value:function(e){}},{key:"resultEvent",value:function(){}},{key:"submitVote",value:function(e){}}]),t}(Mo));function Ps(){var e=jn(["<slot></slot>"]);return Ps=function(){return e},e}_s([xo({type:Boolean,reflect:!0})],ws.prototype,"changed",void 0),_s([xo({type:Boolean,reflect:!0})],ws.prototype,"disabled",void 0),_s([xo({type:String,reflect:!0})],ws.prototype,"lang",void 0),_s([xo({type:Boolean})],ws.prototype,"reactions",void 0),_s([xo({type:String})],ws.prototype,"phase",void 0),_s([xo({type:Object})],ws.prototype,"selectedOption",void 0),_s([xo({type:String})],ws.prototype,"timeout",void 0),_s([xo({type:Object})],ws.prototype,"widgetPayload",void 0),_s([xo({type:Object})],ws.prototype,"mode",void 0),_s([xo({type:String})],ws.prototype,"kind",void 0),_s([xo({type:Boolean})],ws.prototype,"syntheticIncrement",void 0),_s([xo({type:Object})],ws.prototype,"vote",void 0),_s([xo({type:Boolean})],ws.prototype,"voteDisable",void 0),_s([xo({type:Array})],ws.prototype,"options",void 0),_s([xo({type:Array})],ws.prototype,"choices",void 0),_s([xo({type:String})],ws.prototype,"question",void 0),_s([xo({type:Boolean})],ws.prototype,"authors",void 0),_s([xo({type:Boolean})],ws.prototype,"timestamps",void 0),_s([xo({type:Boolean})],ws.prototype,"timeformat",void 0),_s([xo({type:Boolean})],ws.prototype,"hide_dismiss_button",void 0),_s([xo({type:Boolean,hasChanged:function(){return!0}})],ws.prototype,"interacted",void 0);var Ss=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Os=function(e){return function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).setupWidget=function(){return new Promise((function(t){!function n(){if(window.LiveLike._config.ready&&window.LiveLike._config.theme&&window.LiveLike._config.theme.widgets){var r=e.kind||e.getAttribute("kind")||e.localName.replace("livelike-",""),i=e.widgetId||e.getAttribute("widgetid"),o=e.mode||e.getAttribute("mode"),a="string"==typeof o?as(o):o;cs({kind:r,id:i}).then((function(n){e.widgetPayload=n,e.programid=e.widgetPayload.program_id,Object.keys(n).forEach((function(t){return e[t]=n[t]})),e.theme=window.LiveLike._config.theme,a?a():(e.widgetPayload.timeout=null,e.interactive(),e.interactionTrack=function(){!e.firstInteractionTime&&(e.firstInteractionTime=new Date),e.interacted=!0,e.results()}),t()}))}else setTimeout(n,50)}()}))},e}return On(t,e),t}(e)},Ts=function(e){return function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).appendStyles=function(t){e.appendChild(t)},e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){var e=this;An(Tn(t.prototype),"connectedCallback",this).call(this);var n=function(){return new Promise((function(t){e.updateComplete.then((function(){e.shadowRoot&&e.shadowRoot.appendChild(document.createElement("slot"));var n=!!e.customTemplate&&e.customTemplate({widgetPayload:e.widgetPayload});if(n&&!(n instanceof HTMLTemplateElement))return console.error("customTemplateRenderer must return an HTMLTemplateElement");var r=document.querySelector("template[kind=".concat(e.widgetPayload.kind,"]")),i=e.shadowRoot.querySelector("template"),o=n||r;o||i?(e.appendChild(o?document.importNode(o.content,!0):i.content),t()):t()}))}))};return this.widgetPayload&&this.widgetPayload.id?n():this.setupWidget().then(n)}}]),t}(e)},xs=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),t}(Ts(Os(ws))),Ls=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),t}(Ts(Os(za(ws)))),Es=function(e){return function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this),this.setupWidget()}}]),t}(e)};e.LiveLikeWidget=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),Pn(t,[{key:"render",value:function(){return $i(Ps())}}]),t}(ws),e.LiveLikeWidget=Ss([fs("livelike-widget")],e.LiveLikeWidget),f&&"g"!=/./g.flags&&b.f(RegExp.prototype,"flags",{configurable:!0,get:er});var Cs=/./.toString,Rs=function(e){N(RegExp.prototype,"toString",e,!0)};d((function(){return"/a/b"!=Cs.call({source:"a",flags:"b"})}))?Rs((function(){var e=l(this);return"/".concat(e.source,"/","flags"in e?e.flags:!f&&e instanceof RegExp?er.call(e):void 0)})):"toString"!=Cs.name&&Rs((function(){return Cs.call(this)}));var Ms=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};lr("search",1,(function(e,t,n,r){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=r(n,e,this);if(t.done)return t.value;var i=l(e),o=String(this),a=i.lastIndex;Ms(a,0)||(i.lastIndex=0);var s=Zn(i,o);return Ms(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var As,js,Ns=[].sort,Is=[1,2,3];function Us(e){var t=[],n=e.syncStrategy&&e.syncStrategy.constructor===Object&&Object.keys(e.syncStrategy).length>0||!!e.syncStrategy,r=function(t){return new Date(t.program_date_time||e.syncStrategy.currentTimecode)};return{queueArray:t,hasNextItem:function(){return t.length>0},isItemReady:function(){return function(t){if(e.syncStrategy.currentTimecode){var n=new Date(t.program_date_time||e.syncStrategy.currentTimecode);return!0===Bo.logger&&console.log("LIVELIKE sync time",n),new Date(e.syncStrategy.currentTimecode)>=n}return!0}(t[0])},dequeueItem:function(){return t.shift()},enqueueItem:function(e,i){t.push(e),n&&t.sort((function(e,t){var n=r(e),i=r(t);return n>i?1:i>n?-1:0})),i&&i()}}}F(F.P+F.F*(d((function(){Is.sort(void 0)}))||!d((function(){Is.sort(null)}))||!((As=Ns)&&d((function(){js?As.call(null,(function(){}),1):As.call(null)})))),"Array",{sort:function(e){return void 0===e?Ns.call(pe(this)):Ns.call(pe(this),I(e))}});var Ds,Fs,Bs="messagedeleted",Ks="messagereceived",Gs={"message-deleted":Bs,"message-created":Ks,"image-created":Ks,"custom-message-created":Ks,"image-deleted":Bs,"message-updated":"messageupdated","message-sent":"messagesent",added:"reactionadded",removed:"reactionremoved"},qs=function(e,t){return ba(e).then((function(n){!t&&(t={});var r=ka((new Date).getTime()+"1234",(function(r){return t.start=r,ns(n,t).then((function(t){var r=t.channels[n]?da(e,t.channels[n]):[];return{results:r,next:r[0]?r[0].timetoken:null}}))}),(function(e){return{messages:e.results}}));return r.next().then((function(e){return{messages:e.value.messages,next:r.next}}))}))},Hs=function(e,t){return e?t?"function"!=typeof t?Promise.reject(xa("messageHandler","callback","Function")):Promise.resolve(!0):Ea("Callback","messagehandler"):Ea("roomId","messagehandler")},zs=(Ds=[],{add:function(e,t){return Hs(e,t).then((function(n){return n&&ba(e).then((function(n){var r=function(r,i,o){return r.channel===n&&t({message:i,roomId:e,event:Gs[o]})},i={message:function(e){e.message.payload.timetoken=e.timetoken,r(e,e.message.payload,e.message.event)},messageAction:function(e){return r(e,e.data,e.event)}};Ds.push({roomId:e,listener:i,callback:t}),console.log("addListener",i),ts(i),es(n)}))}))},remove:function(e,t){return Hs(e,t).then((function(n){var r=Ds.findIndex((function(n){return n.roomId===e&&String(n.callback)===String(t)}));n&&-1!==r?(function(e){Ka.removeListener(e)}(Ds[r].listener),Ds.splice(r,1)):console.warn("Listener not removed. Check arguments.")}))}}),Vs={},Ws=function(e){return new Promise((function(t,n){var r={id:Za(),sender_id:Go.id,sender_nickname:Go.nickname,sender_image_url:e.sender_image_url||null,sender_profile_url:Go.url,badge_image_url:null,created_at:(new Date).toISOString(),program_date_time:e.timestamp||null,message:e.message||null};e.image_url&&(r.image_url=e.image_url,r.image_width=~~e.image_width||null,r.image_height=~~e.image_height||null),Vs[e.roomId]&&(r=Vs[e.roomId](r));var i={event:e.image_url?"image-created":"message-created",payload:r};ba(e.roomId).then((function(r){return function(e){return new Promise((function(t,n){return Ka.publish({message:e.message,channel:e.channel,ttl:0},(function(e,r){return e.error?n(e):t(r)}))}))}({message:i,channel:r}).then((function(){var n,r,o,a,s;n=i.payload.message,r=e.roomId,o="Chat Message Sent",a=n&&n.match(/:([^:]*):/g),s={"Chat Room ID":r},a&&a.length>0&&(s["Sticker Shortcodes"]=a),Qa(o,s),t(i.payload)})).catch((function(e){var t=e.statusCode||"";console.error("Error: "+t+" Message failed to send."),n()}))}))}))},Ys="hlsLevelSwitched",$s="hlsFragChanged",Js=function(){function e(){_n(this,e)}return Pn(e,[{key:"getTimecode",value:function(){return this.currentTimecode}},{key:"isReady",value:function(e){return!this.currentTimecode||this.currentTimecode>=this.getTimecode(e)}},{key:"currentTimecode",get:function(){return new Date}}]),e}(),Xs=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),Pn(t,[{key:"getTimecode",value:function(e){return e.program_date_time?new Date(e.program_date_time):this.currentTimecode}},{key:"currentTimecode",get:function(){return this.programDateTime}},{key:"programDateTime",get:function(){return new Date}}]),t}(Js),Qs=function(e){function t(e,n){var r;return _n(this,t),(r=Mn(this,Tn(t).call(this))).hls=e,r.video=n,r.level=null,r.frag=null,r.hls.on(Ys,(function(e,t){r.level=r.hls.levels[t.level]})),r.hls.on($s,(function(e,t){r.frag=t.frag})),r}return On(t,e),Pn(t,[{key:"baseProgramDateTimeMs",get:function(){return this.frag?this.frag.programDateTime:this.level?this.level.details.fragments[0].programDateTime:void 0}},{key:"fragmentStartMs",get:function(){return this.frag?1e3*this.frag.start:this.level?1e3*this.level.details.fragments[0].start:void 0}},{key:"videoCurrentTimeMs",get:function(){return 1e3*this.video.currentTime}},{key:"programDateTime",get:function(){if(this.level){var e=this.baseProgramDateTimeMs+this.videoCurrentTimeMs-this.fragmentStartMs;return new Date(e)}}}]),t}(Xs),Zs=function(e){if(e&&"Object"===e.constructor.name){var t=function(){};return t.prototype=e,new t}return new Js},eu=Ke.f,tu=(Fs=!1,function(e){for(var t,n=R(e),r=ee(n),i=r.length,o=0,a=[];i>o;)t=r[o++],f&&!eu.call(n,t)||a.push(Fs?[t,n[t]]:n[t]);return a});function nu(){var e=jn(["<style>:host{overflow:auto}.message-item-container{position:relative;margin:0 0 .5rem 0;display:flex;justify-content:flex-start}.message-item-container>.menu-button-container>.more-icon{opacity:0;transition:opacity ease .3s}.message-item-container:hover>.menu-button-container>.more-icon{opacity:1;transition:opacity ease .3s}.menu-button-container{display:flex;flex-direction:column;justify-content:center}.more-icon:focus{opacity:0;transition:opacity ease .3s}.message-item-container>.menu-button-container>.more-icon.active{opacity:1}.more-icon.active{opacity:1}.message-wrapper{display:inline-grid;opacity:1;transition:all .4s;background:rgba(0,0,0,.4);border-radius:.75rem;padding:.5rem 1rem;max-width:80%;position:relative}.message-wrapper:focus{outline:0}.avatar{display:flex;flex-direction:column;justify-content:flex-start;margin:0 .5rem 0 0}.avatar img,.avatar svg{width:3rem;height:3rem;margin:0;border-radius:50%}.sender-name{font-size:1rem;display:inline-block;color:inherit;margin:0 0 .25rem 0;word-break:break-word;word-wrap:break-word}.sender-message{font-size:1rem;display:flex;word-break:break-word;word-wrap:break-word;color:inherit;line-height:1.3;padding:0 .25rem .25rem 0;flex-wrap:wrap}.sender-message.deleted{font-style:oblique;color:inherit}.word-item{align-self:flex-end}.image-message-container{max-width:480px}.image-message{max-width:100%;height:auto;border-radius:.5rem}.message-timestamp{font-size:.8rem}.more-icon{background:0 0;border:none;margin:1rem 0;display:flex;align-items:center;padding:0 1rem}.more-icon:hover{cursor:pointer}.more-icon svg{fill:#777}.more-icon:hover svg{fill:#555}.no-message-container{height:100%;position:relative;display:flex;justify-content:center}.no-messages{margin:0;color:#fff;position:absolute;top:50%}</style>"]);return nu=function(){return e},e}F(F.S,"Object",{values:function(e){return tu(e)}});var ru=$i(nu());function iu(){var e=jn(["<style>.reaction-button{border:none;border-radius:.5rem;background:rgba(255,255,255,.1);position:absolute;padding:.125rem .25rem;transform:translate(12px,-2px);right:0;bottom:0;top:auto}.reaction-button:hover{cursor:pointer}.reaction-button>svg{fill:rgba(150,150,150,.5);height:13px;width:13px}.reaction-item-container{position:absolute;display:flex;margin:0;transition:opacity ease .3s;opacity:0;z-index:25;left:auto;right:auto;bottom:0;top:auto}.reaction-item-wrap{position:relative;display:inline-flex;padding:0 1.4rem 0 0;height:45px;border-radius:12px;min-height:inherit;width:inherit;background:#282828}.reaction-item{display:inline-block;position:relative;width:2.5rem;height:2.25rem;background:0 0;border-radius:12px;border:none;margin:4.5px 4px;cursor:pointer;padding:0}.reaction-item.selected,.reaction-item:focus,.reaction-item:hover{background:rgba(255,255,255,.2)}.reaction-image{width:25px;height:25px;position:relative;padding:0}.reaction-count{color:#fff;position:absolute;top:0}.mini-reactions{display:flex;position:absolute;right:0}.mini-reaction-image{height:16px;width:16px;margin:0 0 0 -5px;vertical-align:middle}.mini-reaction-count{color:#fff}</style>"]);return iu=function(){return e},e}var ou=$i(iu());var au="1",su="0",uu=function(e,t){e.outsideClick.remove(),e.animation=su,setTimeout((function(){return e[t]=null}),300)},cu=function(e,t,n){e[t]=n,setTimeout((function(){e.outsideClick=function(e,t){function n(n){var r=(e.shadowRoot||document).elementFromPoint(n.x,n.y),i=e.contains(r),o=e.shadowRoot&&e.shadowRoot.contains(r);!i&&!o&&t()}return{register:function(){return window.addEventListener("click",n,!1)},remove:function(){return window.removeEventListener("click",n,!1)}}}(e,(function(){return uu(e,t)})),e.outsideClick.register(),e.animation=au}),50);var r={"Chat Room ID":e.owner.roomid,"Chat Message ID":n};"selectedReactions"===t&&Qa("Chat Reaction Panel Opened",r)},lu=function(e,t,n){return e[n]===t?uu(e,n):cu(e,n,t)};function du(){var e=jn(['<svg height="18" width="18" viewBox="0 0 64 64"><g id="Giphy"><rect fill="#00ff92" x="8.61" y="9.09" width="6.31" height="46.75"/><rect fill="#fff24d" x="8.61" y="3.06" width="26.37" height="6.46"/><rect fill="#00c9ff" x="8.73" y="55.23" width="45.68" height="6.46"/><rect fill="#971eff" x="48.1" y="22.62" width="6.31" height="32.62"/><polygon fill="#ff6562" points="47.81 16.2 47.81 9.8 41.28 9.8 41.28 3.05 34.74 3.05 34.74 16.2 34.74 22.62 41.28 22.62 54.41 22.62 54.41 16.2 47.81 16.2"/><polygon fill="#5d1498" points="48.1 22.62 54.41 22.62 48.1 29.09 48.1 22.62"/><polygon fill="#968f2d" points="34.74 9.44 34.74 3.14 28.27 9.44 34.74 9.44"/></g></svg>']);return du=function(){return e},e}function fu(){var e=jn(['<svg width="64px" height="64px" viewBox="0 0 64 64"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g><g><rect id="Rectangle" fill="#505A64" x="0" y="0" width="64" height="64"/><path d="M31.9590262,14 C40.9427465,14 44.8185604,18.1297028 43.8568799,26.9807577 C42.8951994,35.8318125 39.1802051,40 31.9730147,40 C26.0823195,40 21.3936793,37.5331739 20.2595234,28.1644789 C19.1253676,18.7957839 21.4756955,14 31.9590262,14 Z" id="Path-2" fill="#8C96A0"/><path d="M8,64 C13.6440504,52.375041 21.5113023,46.3802666 31.6017556,46.0156768 C41.692209,45.651087 49.8249571,51.6458614 56,64 L8,64 Z" id="Path-3" fill="#8C96A0"/></g></g></g></svg>']);return fu=function(){return e},e}function pu(){var e=jn(['<svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1"><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><circle id="circle" fill="#000000" opacity="0.200000003" cx="9" cy="9" r="9"></circle><path d="M10.1443526,8.99976063 L12.7631923,11.617505 C13.0789359,11.9337699 13.0789359,12.4465365 12.7631923,12.7628014 C12.4474488,13.0790662 11.9355273,13.0790662 11.6197838,12.7628014 L9.00023937,10.1443526 L6.38249497,12.7631923 C6.06623012,13.0789359 5.55346349,13.0789359 5.23719864,12.7631923 C4.92093379,12.4474488 4.92093379,11.9355273 5.23719864,11.6197838 L7.85564741,9.00023937 L5.23680767,6.38249497 C4.92106411,6.06623012 4.92106411,5.55346349 5.23680767,5.23719864 C5.55255122,4.92093379 6.06447267,4.92093379 6.38021623,5.23719864 L8.99976063,7.85564741 L11.617505,5.23680767 C11.9337699,4.92106411 12.4465365,4.92106411 12.7628014,5.23680767 C13.0790662,5.55255122 13.0790662,6.06447267 12.7628014,6.38021623 L10.1443526,8.99976063 Z" id="x" fill="#FFFFFF" fill-rule="nonzero"></path></g></svg>']);return pu=function(){return e},e}function hu(){var e=jn(['<svg width="4" height="20" viewBox="0 0 3 15"><path fill-rule="nonzero" d="M1.5 12a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm0-6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm0-6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z"/></svg>']);return hu=function(){return e},e}function vu(){var e=jn(['<svg width="18" height="18" viewBox="0 0 16 16"><path fill-rule="nonzero" d="M2.083 9a6.002 6.002 0 0 0 11.834 0H2.083zM8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zM5.5 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/></svg>']);return vu=function(){return e},e}function gu(){var e=jn(['<svg viewBox="0 0 512 512" height="12" width="12"><path d="M98.9,184.7l1.8,2.1l136,156.5c4.6,5.3,11.5,8.6,19.2,8.6c7.7,0,14.6-3.4,19.2-8.6L411,187.1l2.3-2.6  c1.7-2.5,2.7-5.5,2.7-8.7c0-8.7-7.4-15.8-16.6-15.8v0H112.6v0c-9.2,0-16.6,7.1-16.6,15.8C96,179.1,97.1,182.2,98.9,184.7z"/></svg>']);return gu=function(){return e},e}function yu(){var e=jn(['<svg width="24" height="24" viewBox="0 0 24 24"><path d="M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"/></svg>']);return yu=function(){return e},e}function mu(){var e=jn(['<svg width="24" height="24" viewBox="0 0 24 24"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"/></svg>']);return mu=function(){return e},e}F(F.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}});var bu=$i(mu()),ku=$i(yu()),_u=$i(gu()),wu=$i(vu()),Pu=$i(hu()),Su=$i(pu()),Ou=$i(fu()),Tu=$i(du());function xu(){var e=jn(['<span class="reaction-count">',"</span>"]);return xu=function(){return e},e}function Lu(){var e=jn(['<button aria-label="','" class="reaction-item ','" @click="','"><img class="reaction-image" src="','" alt=""> ',"</button>"]);return Lu=function(){return e},e}function Eu(){var e=jn(['<div class="reaction-item-container" style="opacity:','"><div class="reaction-item-wrap">',"</div></div>"]);return Eu=function(){return e},e}function Cu(){var e=jn(['<span class="mini-reaction-count">',"</span>"]);return Cu=function(){return e},e}function Ru(){var e=jn(['<img class="mini-reaction-image" src="','" alt="Reaction ','">']);return Ru=function(){return e},e}function Mu(){var e=jn(['<div class="mini-reactions">'," ","</div>"]);return Mu=function(){return e},e}function Au(){var e=jn(['<div class="reaction-button-container"><button class="reaction-button" aria-label="','" @click="','">',"</button></div>"]);return Au=function(){return e},e}function ju(e){var t=Math.log10(e)/3|0;if(0==t)return e;var n=e/Math.pow(10,3*t),r=n%1==0||n>=10?0:1;return n.toFixed(r)+["","k","M"][t]}var Nu=function(e,t,n){return $i(Mu(),n.map((function(e){return t(e)>0?$i(Ru(),e.file,e.name):null})),e>0?$i(Cu(),ju(e)):null)},Iu=function(e,t,n,r,i,o,a){return $i(Eu(),t,e.map((function(e){var t=r(e);return $i(Lu(),o?Ua(o,a||"en-US",{reactionName:e.name}):"Reaction "+e.name,n(e),(function(){return i(e)}),e.file,t>0?$i(xu(),ju(t)):null)})))},Uu=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),t}(function(e){return function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).updateOwnerProps=function(n){e.owner.id===n.key&&(e.ownerUpdated(n),e.requestUpdate(),An(Tn(t.prototype),"requestUpdate",Rn(e)).call(Rn(e)))},e}return On(t,e),Pn(t,[{key:"ownerUpdated",value:function(e){}},{key:"connectedCallback",value:function(){if(!this.owner&&(this.owner=Sa(this,"chat-provider")),wa.on("chat-updated",this.updateOwnerProps),this.defaultStyles){var e=document.createElement("style");e.innerHTML+=this.defaultStyles(),this.appendChild(e)}An(Tn(t.prototype),"connectedCallback",this).call(this)}}],[{key:"properties",get:function(){return{owner:{type:Object}}}}]),t}(e)}(Mo));function Du(){var e=jn(["<style>.livelike-modal{color:#000;padding:1rem;background:#fff;border-radius:5px;position:absolute;z-index:15;width:50%;top:50%;left:25%;opacity:0}.livelike-modal.showing{transition:all ease .3s;opacity:1}</style>"]);return Du=function(){return e},e}var Fu=$i(Du());function Bu(){var e=jn(["",'<div class="livelike-modal ','"><div class="modal-body">',"</div></div>"]);return Bu=function(){return e},e}var Ku=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Gu=function(e){function t(){return _n(this,t),Mn(this,Tn(t).apply(this,arguments))}return On(t,e),Pn(t,[{key:"render",value:function(){var e={block:this.owner.localize("chat.blockConfirmation.message",{username:this.data?this.data.nickname:null}),report:this.owner.localize("chat.reportConfirmation.message"),muted:this.owner.localize("chat.mutedMessage"),error:this.owner.localize("chat.errorMessage")};return $i(Bu(),Fu,""!==this.type?"showing":null,e[this.type])}}]),t}(Uu);function qu(){var e=jn(["<style>.message-options{z-index:21;background:#fff;border-radius:5px}.menu-button{display:flex;font-size:.75rem;color:#000;padding:.25rem 1rem;width:100%;border:none;background:0 0;transition:background ease .3s;text-align:left}.menu-button:hover{background:rgba(0,0,0,.2);transition:background ease .3s;cursor:pointer}.block-user.blocked{color:gray;cursor:default}.menu-item-label{margin:0 0 0 .5rem}.menu-icon{line-height:1.1rem;font-size:.95rem;width:18px}.sub-item-icon{position:absolute;right:.5rem}</style>"]);return qu=function(){return e},e}Ku([xo({type:String,reflect:!0})],Gu.prototype,"type",void 0),Ku([xo({type:Object})],Gu.prototype,"data",void 0),Gu=Ku([fs("livelike-modal")],Gu);var Hu=$i(qu());function zu(){var e=jn(["","<style>message-menu{position:absolute;width:100%;max-width:10rem;right:2.5rem;display:block;top:50%;margin:auto;top:0;bottom:0;right:1rem;display:flex;align-items:center;justify-content:center;text-align:center}.message-options-anchor{z-index:21;transition:opacity .3s ease;opacity:",'}</style><div class="message-options-anchor" id="chat_moderation"><div class="message-options">',"</div></div>"]);return zu=function(){return e},e}function Vu(){var e=jn(['<hr style="margin:0">']);return Vu=function(){return e},e}function Wu(){var e=jn(['<div class="sub-menu-container">',"</div>"]);return Wu=function(){return e},e}function Yu(){var e=jn([""," ",""]);return Yu=function(){return e},e}function $u(){var e=jn(["",""]);return $u=function(){return e},e}function Ju(){var e=jn(['<button id="menu-button-','" aria-label="','" @click="','" class="button menu-button"><div class="menu-item-label">',"</div>","</button>"]);return Ju=function(){return e},e}function Xu(){var e=jn(['<div class="sub-item-icon">',"</div>"]);return Xu=function(){return e},e}var Qu=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Zu=function(e){var t=e.getPrototypeOf||function(e){return e.__proto__},n=e.setPrototypeOf||function(e,t){return e.__proto__=t,e},r="object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))?Reflect.construct:function(e,t,r){var i,o=[null];return o.push.apply(o,t),i=e.bind.apply(e,o),n(new i,r.prototype)};return function(e){var i=t(e);return n(e,n((function(){return r(i,arguments,t(this).constructor)}),i))}}(Object)(function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).subMenuOpen=null,e.renderSubIcon=function(e){return"multi"===e.type?$i(Xu(),_u):null},e.renderButton=function(t,n,r){return $i(Ju(),n,t.label,r,t.label,e.renderSubIcon(t))},e.renderCustomHtml=function(e){var t=(new DOMParser).parseFromString(e.html,"text/html"),n=[];return t.body.childNodes.forEach((function(e){return n.push(e)})),n.map((function(e){return $i($u(),e)}))},e.renderItem=function(t,n){var r=e.message.id+String(n),i="single"===t.type?function(){t.onClick(),e.closeMenu("selectedMessage")}:function(){return e.subMenuOpen===r?e.subMenuOpen=null:e.subMenuOpen=r};return $i(Yu(),"custom"===t.type&&t.html?e.renderCustomHtml(t):e.renderButton(t,n,i),e.subMenuOpen===r&&"multi"===t.type?e.renderSubMenu(t.items):null)},e.renderSubMenu=function(t){return $i(Wu(),e.renderMenu(t,10))},e.renderMenu=function(t,n){return t.map((function(t,r){return"separator"===t.type?$i(Vu()):e.renderItem(t,n?r+n:r)}))},e}return On(t,e),Pn(t,[{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){return $i(zu(),Hu,this.animation,this.renderMenu(this.menu))}}]),t}(Mo));Qu([xo({type:Array})],Zu.prototype,"menu",void 0),Qu([xo({type:Object})],Zu.prototype,"message",void 0),Qu([xo({type:Number})],Zu.prototype,"animation",void 0),Qu([xo({type:String})],Zu.prototype,"subMenuOpen",void 0),Qu([xo({type:Function})],Zu.prototype,"closeMenu",void 0),Zu=Qu([fs("message-menu")],Zu);var ec=new WeakMap,tc=function(e){return function(){var t=e.apply(void 0,arguments);return Ti.set(t,!0),t}}((function(e){return function(t){if(!(t instanceof Di))throw new Error("unsafeHTML can only be used in text bindings");var n=ec.get(t);if(void 0===n||!ji(e)||e!==n.value||t.value!==n.fragment){var r=document.createElement("template");r.innerHTML=e;var i=document.importNode(r.content,!0);t.setValue(i),ec.set(t,{value:e,fragment:i})}}}));function nc(){var e=jn(['<div class="image-message-container"><img class="image-message" width="','" height="','" src="','" alt="Chat image"></div>']);return nc=function(){return e},e}var rc=function(e,t){var n=t?t.reduce((function(e,t){return e.concat(t.stickers)}),[]):[];if(e.image_url)return $i(nc(),e.image_width,e.image_height,e.image_url);var r=e.message,i=/:([^:]*):/g,o=0===r.indexOf(":"),a=((r||"").match(i)||[]).length>1||r.split(" ").length>1?"22px":"32px",s=r?r.replace(i,(function(e){var t=n&&n.find((function(t){return t.shortcode===e.slice(1,-1)}));return t?'\n          <span style="margin: 0 4px 0 '.concat(o?"0":"4px",';">\n            <img\n              class="word-item"\n              height=').concat(a,"\n              src=").concat(t.file,"\n              alt=").concat(t.shortcode,"\n            />\n          </span>\n        "):e})):"";return tc(s)};function ic(){var e=jn([""," ",'<div class="message-item-container '," ",'">','<div class="message-wrapper ','" tabindex="0">','<div aria-live="polite" role="log"><div class="sender-name" aria-label="','">','</div><div aria-label="','" id="senderMessage-','" class="sender-message ','">',"</div>","</div>","</div>"," "," ","</div>"]);return ic=function(){return e},e}function oc(){var e=jn(['<img src="','" alt="Avatar" @error="','">']);return oc=function(){return e},e}function ac(){var e=jn(['<div class="avatar">',"</div>"]);return ac=function(){return e},e}function sc(){var e=jn(['<time aria-label="','" class="message-timestamp" datetime="','">',"</time>"]);return sc=function(){return e},e}function uc(){var e=jn(['<div class="menu-button-container"><button aria-label="','" class="more-icon ','" @click="','">',"</button></div>"]);return uc=function(){return e},e}function cc(){var e=jn(['<message-menu .menu="','" .message="','" .animation="','" .closeMenu="','"></message-menu>']);return cc=function(){return e},e}var lc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},dc=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).message=null,e.animation=0,e.selectedMessage=null,e.selectedReactions=null,e.isDeleted=!1,e.messageDeleted=function(t){var n=e.owner.localize("chat.messageDeleted");e.message&&t.message&&t.message.id===e.message.id&&(e.isDeleted=!0,e.message=Object.assign(Object.assign({},e.message),{image_url:null,message:n,filtered_message:n}))},e.ownerUpdated=function(t){"deletedMessages"===t.name&&e.messageDeleted({message:t.prop[t.prop.length-1]})},e.renderMessageMenu=function(t){return $i(cc(),e.owner.messageMenuFunc(t),t,e.animation,(function(){return uu(Rn(e),"selectedMessage")}))},e.renderMenuButton=function(t,n){return e.owner.messagemenus&&!e.isDeleted&&e.owner.messageMenuFunc(n)&&e.owner.messageMenuFunc(n).length?$i(uc(),e.owner.localize("chat.messageMenu.ariaLabel"),t,(function(){return lu(Rn(e),n.id,"selectedMessage")}),Pu):null},e.renderTimestamp=function(t){var n=t.timetoken&&t.timetoken.slice(0,t.timetoken.length-4),r=sa(Number(n),e.owner.timeformat,e.owner.lang);return $i(sc(),r,n,r)},e.reactionAction=function(t){var n=e.message.reactions[t.id]&&e.message.reactions[t.id].find((function(e){return e.uuid===Go.id})),r=function(){return uu(Rn(e),"selectedReactions")},i={value:t.id,uuid:Go.id,messageTimetoken:e.message.timetoken,actionTimetoken:n&&n.actionTimetoken||null},o=function(n,o){e.owner[n]({messageId:e.message.id,reactionId:t.id}).then(r),e.owner.updateReaction(i,o)};n?o("removeMessageReaction","reactionremoved"):o("addMessageReaction","reactionadded")},e.getReactionCount=function(t){return e.message.reactions[t.id]?e.message.reactions[t.id].length:0},e.renderMiniReactions=function(){var t=Object.values(e.message.reactions).reduce((function(e,t){return e.concat(t)}),[]);return Nu(t.length,e.getReactionCount,e.owner.reactionPack)},e.renderReactions=function(){return Iu(e.owner.reactionPack,e.animation,(function(t){return function(t){return e.message.reactions[t.id]&&e.message.reactions[t.id].find((function(e){return e.uuid===Go.id}))}(t)?"selected":""}),e.getReactionCount,e.reactionAction,"chat.reactions.reactionSelectionButton.ariaLabel",e.owner.lang)},e.renderAvatar=function(){return $i(ac(),e.message.sender_image_url?$i(oc(),e.message.sender_image_url,(function(){e.message=Object.assign(Object.assign({},e.message),{sender_image_url:null})})):Ou)},e.buildMessage=function(e,t){return rc(e,t)},e}return On(t,e),Pn(t,[{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){var e=this,t=this.owner.blockList.find((function(t){return t===e.message.sender_id})),n=this.selectedMessage===this.message.id,r=n?"active":"",i=this.message.sender_id===Go.id?"self":"",o=this.owner.showavatar?"has-avatar":"",a=this.isDeleted?"deleted":"";return t?null:$i(ic(),ru,ou,r,i,this.owner.showavatar?this.renderAvatar():null,o,this.owner.reactionPack&&this.owner.reactionPack.length>0?this.renderMiniReactions():null,this.message.sender_nickname,this.message.sender_nickname,this.message.image_url?this.message.image_url:this.message.message,this.message.id,a,this.buildMessage(this.message,this.owner.stickerPacks),this.owner.timestamps?this.renderTimestamp(this.message):null,this.owner.reactionPack&&this.owner.reactionPack.length>0&&!this.isDeleted?function(e,t,n){return $i(Au(),n?Ua(n,e.owner.lang):"Open Reactions",(function(){return lu(e,t,"selectedReactions")}),wu)}(this,this.message.id,"chat.reactions.openButton.ariaLabel"):null,this.selectedReactions===this.message.id?this.renderReactions():null,n?this.renderMessageMenu(this.message):null,this.renderMenuButton(r,this.message))}}]),t}(Uu);function fc(){var e=jn(["<style>:host{display:block;overflow:auto}</style><slot></slot>"]);return fc=function(){return e},e}lc([xo({type:Object})],dc.prototype,"message",void 0),lc([xo({type:Number})],dc.prototype,"animation",void 0),lc([xo({type:String})],dc.prototype,"selectedMessage",void 0),lc([xo({type:String})],dc.prototype,"selectedReactions",void 0),lc([xo({type:Boolean})],dc.prototype,"isDeleted",void 0),dc=lc([fs("livelike-message-item")],dc);var pc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},hc=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).appendMessage=function(t){var n,r,i=t.id?t:t.message;if(i.message||i.image_url){var o=e.defaultTemplate.content.querySelector("livelike-message-item");o.message=i,o.owner=e.owner;var a=e.scrollTop+e.clientHeight===e.scrollHeight,s=(r=(n=o).cloneNode(!0),Object.keys(n).forEach((function(e){return r[e]=n[e]})),r);e.appendChild(s),e.updateComplete.then((function(){return(i.sender_id===Go.id||a)&&e.scrollToBottom()}))}},e.constructListFromTemplate=function(){return!!e.defaultTemplate&&e.owner.messageList.map(e.appendMessage)},e.softKeyboardHandler=oa((function(){return e.scrollTop+e.clientHeight===e.scrollHeight&&e.scrollToBottom()})),e.firstUpdated=function(t){e.owner.messageList.length>0&&"No Messages"!==e.owner.messageList[0]&&"Loading"!==e.owner.messageList[0]&&e.constructListFromTemplate(),setTimeout((function(){return clearInterval(e.forceScrollInterval)}),250)},e.scrollListener=oa((function(){wa.emit("userScrolled",{key:e.owner.dataId,scrolled:e.scrollTop+e.clientHeight!==e.scrollHeight})})),e.scrollToBottom=function(){return e.scrollTop=e.scrollHeight+1e4},e.scrollToBottomListener=function(t){return t.key===e.owner.dataId&&e.scrollToBottom()},e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){this.defaultTemplate=this.querySelector("template"),this.forceScrollInterval=setInterval(this.scrollToBottom),wa.on("messageAppended",this.appendMessage),wa.on("scrollDown",this.scrollToBottomListener),this.addEventListener("scroll",this.scrollListener),window.addEventListener("resize",this.softKeyboardHandler),An(Tn(t.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){wa.off("messageAppended",this.appendMessage),wa.off("scrollDown",this.scrollToBottomListener),this.removeEventListener("scroll",this.scrollListener),window.removeEventListener("resize",this.softKeyboardHandler),An(Tn(t.prototype),"disconnectedCallback",this).call(this)}},{key:"render",value:function(){return $i(fc())}}]),t}(Uu);hc=pc([fs("livelike-message-list")],hc);var vc=function(){return"\n    :host {\n      display: flex;\n    }\n    livelike-chat-composer {\n      display: flex;\n      position: relative;\n    }\n    .livelike-chat-input {\n      border: 0;\n      background: #fff;\n      box-sizing: border-box;\n      border-radius: 0.5rem;\n      color: inherit;\n      font-size: 1rem;\n      font-family: inherit;\n      line-height: 1.5rem;\n      height: 40px;\n      min-height: 2.5rem;\n      overflow: hidden;\n      padding: 0.5rem 5rem 0.5rem 0.5rem;\n      resize: none;\n      width: 100%;\n    }\n    .livelike-chat-input:focus {\n      outline: none;\n      border: 1px solid rgba(255, 255, 255, 0.2);\n    }\n    .livelike-chat-input::placeholder {\n      color: rgba(0, 0, 0, 0.35);\n    }\n    .send-button {\n      background: none;\n      border: none;\n      padding: 0;\n      margin-left: 1rem;\n      display: flex;\n      align-items: center;\n      transition: all 0.3s ease-out;\n    }\n    .send-icon {\n      border: none;\n      background: none;\n    }\n    .send-icon svg {\n      fill: #777;\n    }\n    .send-icon:hover svg, .send-icon:focus svg {\n      filter: invert(1);\n      transition: all 0.3s ease-out;\n    }\n    .send-icon:hover {\n      cursor: pointer;\n    }\n    .sticker-picker-container {\n      position: absolute;\n      border: none;\n      background: none;\n      right: 2rem;\n      bottom: 0.5rem;\n      transition: all 0.3s ease-out;\n    }\n"};function gc(){var e=jn(["<style>.sticker-nav-container{position:relative;background:#282828;height:40px;width:100%;border-radius:0 0 8px 8px;overflow:scroll;min-width:15rem}.sticker-nav-wrap{display:flex;list-style-type:none;padding:0;margin:0}.sticker-nav-item{border:none;background:rgba(255,255,255,0);transition:all .2s;padding:10px}.sticker-nav-item.active{background:#141414;border-radius:0 0 8px 8px}.sticker-nav-item:hover{cursor:pointer}.sticker-nav-item img{width:20px;height:20px;vertical-align:middle;border:0}</style>"]);return gc=function(){return e},e}var yc=$i(gc());function mc(){var e=jn(["<style>@keyframes slideIn{from{opacity:0;transform:translate3d(0,-1rem,0)}to{opacity:1;transform:translate3d(0,-.5rem,0)}}.sticker-icon{border:none;background:0 0}.sticker-icon:hover{cursor:pointer}.sticker-icon svg{fill:#888}.sticker-container{position:absolute;bottom:4rem;opacity:0;transition:all ease .3s;margin-right:3rem;z-index:21;right:0;max-width:22rem}.sticker-container.show{opacity:1;transition:all ease .3s}.sticker-container.hide{opacity:0;transition:all ease .3s}.sticker-container-header{position:relative;border-radius:.5rem .5rem 0 0;background:#141414;padding:.625rem 1rem;color:#fff;font-size:1rem;font-weight:700}.sticker-close-icon{border:none;background:0 0;position:relative;float:right;top:-1px;right:0;background-size:contain;width:1.25rem;height:1.25rem;cursor:pointer}.sticker-body{position:relative;background:#141414;padding:.625rem .3rem;display:flex;justify-content:flex-start;flex-wrap:wrap;overflow-y:auto;min-height:8rem;max-height:8rem}.sticker-wrap{border:none;color:#fff;padding-left:0 .625rem;width:3.75rem;background:0 0;border-radius:.75rem;transition:all ease .3s;margin:0 auto .625rem auto}.sticker-wrap:focus,.sticker-wrap:hover{outline:0;background:#818592;cursor:pointer}.sticker-image{width:100%;vertical-align:middle}</style>"]);return mc=function(){return e},e}var bc=$i(mc());function kc(){var e=jn(["",' <button tabindex="0" type="button" class="sticker-icon" aria-label="','" @click="','">',"</button> ",""]);return kc=function(){return e},e}function _c(){var e=jn(['<div class="sticker-container" style="opacity:','" aria-label="','"><header class="sticker-container-header"><span class="title">','</span> <button tabindex="0" type="button" class="sticker-close-icon" aria-label="','" @click="','">','</button></header><div class="sticker-body">','</div><slot name="sticker-drawer-footer"></slot></div>']);return _c=function(){return e},e}function wc(){var e=jn(['<button tabindex="0" type="button" class="sticker-wrap" aria-label="','" @click="','"><div class="sticker-wrap-image"><img class="sticker-image" src="','" alt="','"></div></button>']);return wc=function(){return e},e}var Pc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Sc=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).drawerOpen=!1,e.animation=0,e.keyedLocalize=function(t,n){return e.owner.localize(e.localizationKey+t,n)},e.closeDrawer=function(){Pa(Rn(e),"drawer-closed"),uu(Rn(e),"drawerOpen")},e.stickerBody=function(){return e.stickers&&e.stickers.map((function(t){return $i(wc(),e.keyedLocalize(".stickerSelectionButton.ariaLabel",{stickerName:t.shortcode||t.title}),(function(){Pa(Rn(e),"sticker-selected",{sticker:t}),e.closeDrawer()}),t.file||t.images.preview_gif.url,t.shortcode||t.title)}))},e.renderStickerDrawer=function(){var t=e.title||e.keyedLocalize(".title");return $i(_c(),e.animation,t,t,e.keyedLocalize(".closeButton.ariaLabel"),e.closeDrawer,Su,e.stickerBody())},e}return On(t,e),Pn(t,[{key:"render",value:function(){var e=this;return $i(kc(),bc,this.keyedLocalize(".openButton.ariaLabel"),(function(){Pa(e,"drawer-opened"),lu(e,e.owner.dataId,"drawerOpen")}),this.buttonIcon,this.drawerOpen?this.renderStickerDrawer():null)}}]),t}(Uu);function Oc(){var e=jn(['<livelike-stickers .localizationKey="','" .stickers="','" .buttonIcon="','" @drawer-opened="','"><nav slot="sticker-drawer-footer" class="sticker-nav-container"><div class="sticker-nav-wrap">',"</div></nav></livelike-stickers>"]);return Oc=function(){return e},e}function Tc(){var e=jn([""," ",""]);return Tc=function(){return e},e}function xc(){var e=jn(['<button tabindex="0" type="button" aria-label="','" class="sticker-nav-item ','" @click="','"><img src="','" alt="','"></button>']);return xc=function(){return e},e}Pc([xo({type:Array})],Sc.prototype,"stickers",void 0),Pc([xo({type:String})],Sc.prototype,"buttonIcon",void 0),Pc([xo({type:Function})],Sc.prototype,"onStickerClick",void 0),Pc([xo({type:String,reflect:!0})],Sc.prototype,"title",void 0),Pc([xo({type:Boolean})],Sc.prototype,"drawerOpen",void 0),Pc([xo({type:String})],Sc.prototype,"animation",void 0),Pc([xo({type:String})],Sc.prototype,"localizationKey",void 0),Sc=Pc([fs("livelike-stickers")],Sc);var Lc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ec=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).selectedPack="",e.changePack=function(t){e.selectedPack=t&&t.id,e.selectedStickers=t&&t.stickers},e.stickerNav=function(){return e.owner.stickerPacks&&e.owner.stickerPacks.map((function(t){var n=t.id===e.selectedPack?"active":"";return $i(xc(),e.owner.localize("chat.stickerPicker.stickerPackTab.ariaLabel",{packName:t.name}),n,(function(){return e.changePack(t)}),t.file,t.name)}))},e}return On(t,e),Pn(t,[{key:"ownerUpdated",value:function(e){!this.selectedStickers&&"stickerPacks"===e.name&&this.owner.stickerPacks[0]&&this.changePack(this.owner.stickerPacks[0])}},{key:"render",value:function(){return $i(Tc(),yc,this.owner.stickerPacks&&this.owner.stickerPacks.length?$i(Oc(),"chat.stickerPicker",this.selectedStickers,wu,(function(){}),this.stickerNav()):null)}}]),t}(Uu);function Cc(){var e=jn(["",'<livelike-stickers .localizationKey="','" .stickers="','" .buttonIcon="','" @sticker-selected="','" @drawer-opened="','" @drawer-closed="','"><nav slot="sticker-drawer-footer" class="sticker-nav-container"><div class="sticker-nav-wrap"><input type="text" maxlength="25" style="height:25px" class="livelike-chat-input livelike-giphy-input" placeholder="','" @input="','" .value="','"></div></nav></livelike-stickers>']);return Cc=function(){return e},e}Lc([xo({type:String})],Ec.prototype,"selectedPack",void 0),Lc([xo({type:Array})],Ec.prototype,"selectedStickers",void 0),Ec=Lc([fs("livelike-sticker-picker")],Ec);var Rc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Mc=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).message="",e.giphyList=[],e.offset=0,e.isDoneFetching=!0,e.loading=!1,e.scrollListenerAdded=!1,e.fetchNextPageIfBottom=oa((function(){var t=e.shadowRoot.getElementById("giphy-body");!(t.scrollHeight-t.scrollTop===t.clientHeight)||e.isDoneFetching||e.loading||e.fetchGifs()})),e.fetchGifs=function(){e.loading=!0,fetch("https://api.giphy.com/v1/gifs/search?q=".concat(e.message,"&api_key=jlvX8uZILp5PhutmuW6fdATBP3E5uayi&offset=").concat(e.offset,"&rating=g")).then((function(e){return e.json()})).then((function(t){e.loading=!1,e.giphyList=[].concat(Nn(e.giphyList),Nn(t.data)),e.offset=t.pagination?t.pagination.count+t.pagination.offset:0,e.isDoneFetching=!t.pagination||e.offset===t.pagination.total_count}))},e.onStickerClick=function(t){return Ws({image_url:t.detail.sticker.images.downsized.url,image_width:t.detail.sticker.images.downsized.width,image_height:t.detail.sticker.images.downsized.height,roomId:e.owner.roomid,sender_image_url:e.owner.avatarurl,timestamp:e.owner.syncStrategy&&e.owner.syncStrategy.currentTimecode?e.owner.syncStrategy.currentTimecode:null})},e.debouncedInputEvent=oa((function(){e.offset=0,e.giphyList=[],e.fetchGifs()})),e.handleMessage=function(t){e.message=t.target.value,e.debouncedInputEvent()},e.handleOpen=function(t){var n=t.target.shadowRoot.querySelector(".sticker-body");n&&n.addEventListener("scroll",e.fetchNextPageIfBottom)},e.handleClose=function(t){e.message="",e.giphyList=[],e.offset=0;var n=t.target.shadowRoot.querySelector(".sticker-body");n&&n.removeEventListener("scroll",e.fetchNextPageIfBottom)},e}return On(t,e),Pn(t,[{key:"render",value:function(){return $i(Cc(),yc,"chat.giphyPicker",this.giphyList,Tu,this.onStickerClick,this.handleOpen,this.handleClose,this.owner.localize("chat.giphyPicker.placeholder"),this.handleMessage,this.message)}}]),t}(Uu);function Ac(){var e=jn(['<slot name="body" @input="','" @keydown="','"></slot><slot @click="','" name="send"></slot><slot></slot>']);return Ac=function(){return e},e}Rc([xo({type:String})],Mc.prototype,"message",void 0),Rc([xo({type:Array})],Mc.prototype,"giphyList",void 0),Rc([xo({type:Number})],Mc.prototype,"offset",void 0),Rc([xo({type:Boolean})],Mc.prototype,"isDoneFetching",void 0),Rc([xo({type:Boolean})],Mc.prototype,"loading",void 0),Rc([xo({type:Boolean})],Mc.prototype,"scrollListenerAdded",void 0),Mc=Rc([fs("livelike-giphy-picker")],Mc);var jc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Nc=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=vc,e.message="",e.ownerUpdated=function(t){"placeholder"===t.name&&(e.placeholder=t.prop),("lang"===t.name||"translations"===t.name)&&e.updateLocalizedPlaceholder()},e.updateLocalizedPlaceholder=function(){if(!e.placeholder){var t=e.owner.localize("chat.inputPlaceholder");e.inputEl.placeholder=t,e.inputEl.setAttribute("aria-label",t)}e.sendBtn.setAttribute("aria-label",e.owner.localize("chat.sendButton.ariaLabel"))},e.sendClickHandler=function(){e.message&&(Pa(Rn(e),"sendChatMessage",{message:e.message}),e.message="",e.inputEl.value="",e.resize("40px"))},e.addSticker=function(t){console.log("add sticker",t),t.detail.sticker&&t.detail.sticker.shortcode&&e.message.length+t.detail.sticker.shortcode.length<=200&&(e.message=e.message+":".concat(t.detail.sticker.shortcode,":"),e.inputEl.value=e.message,e.inputEl.focus())},e.handleMessage=function(t){e.message=t.target.value,e.resize(""===t.target.value?"40px":null)},e.handleKeyDown=function(t){13!==t.which||t.shiftKey||(t.preventDefault(),e.sendClickHandler())},e.resize=function(t){e.inputEl.style.height=t||"".concat(e.inputEl.scrollHeight,"px")},e}return On(t,e),Pn(t,[{key:"updated",value:function(e){var t=this;e.forEach((function(e,n){"placeholder"===n&&(t.inputEl.placeholder=t.placeholder,t.inputEl.setAttribute("aria-label",t.placeholder))}))}},{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this),this.addEventListener("sticker-selected",this.addSticker);var e=this.placeholder||this.owner.placeholder||this.owner.localize("chat.inputPlaceholder");this.insertAdjacentHTML("beforeend",'<textarea slot="body" class="livelike-chat-input" maxlength="200" placeholder="'.concat(e,'" aria-label="').concat(e,'"></textarea>')),this.insertAdjacentHTML("beforeend",'<div slot="body" class="sticker-picker-container">\n        <livelike-sticker-picker></livelike-sticker-picker>\n        <livelike-giphy-picker></livelike-giphy-picker>\n      </div>'),this.insertAdjacentHTML("beforeend",'<button slot="send" aria-label="'.concat(this.owner.localize("chat.sendButton.ariaLabel"),'" class="send-icon">\n        ').concat('\n  <svg width="16" height="16" viewBox="0 0 16 16">\n    <path fill-rule="nonzero" d="M.579.29l14.705 7.352a.4.4 0 0 1 0 .716L.58 15.71A.4.4 0 0 1 0 15.353V10.47a1 1 0 0 1 .863-.99L8.71 8.396a.4.4 0 0 0 0-.792L.863 6.519A1 1 0 0 1 0 5.53V.647A.4.4 0 0 1 .579.29z"/>\n  </svg>',"\n      </button>"))}},{key:"disconnectedCallback",value:function(){this.removeEventListener("sticker-selected",this.addSticker),An(Tn(t.prototype),"disconnectedCallback",this).call(this)}},{key:"render",value:function(){return $i(Ac(),this.handleMessage,this.handleKeyDown,this.sendClickHandler)}},{key:"inputEl",get:function(){return this.querySelector("[slot=body]")}},{key:"sendBtn",get:function(){return this.querySelector("[slot=send]")}}]),t}(Uu);jc([xo({type:String,reflect:!0})],Nc.prototype,"placeholder",void 0),jc([xo({type:String})],Nc.prototype,"message",void 0),Nc=jc([fs("livelike-chat-composer")],Nc);var Ic=function(){return"\n  <style>\n    @keyframes slideDown {\n      from {\n        opacity: 0;\n        transform: translate3d(0, -3rem, 0);\n      }\n      to {\n        opacity: 1;\n        transform: translate3d(0, 0rem, 0);\n      }\n    }\n\n    @keyframes slideUp {\n      from {\n        opacity: 0;\n        transform: translate3d(0, 0rem, 0);\n      }\n      to {\n        opacity: 1;\n        transform: translate3d(0, -2rem, 0);\n      }\n    }\n\n    .down-icon {\n      z-index: 15;\n      position: absolute;\n      border: none;\n      right: 3.75rem;\n      bottom: 5.5rem;\n      padding: 0;\n      border-radius: 50%;\n      height: auto;\n      width: auto;\n      display: none;\n      flex-direction: column;\n      animation: slideDown 0.5s ease forwards;\n      transition: all 0.3s ease;\n    }\n    .down-icon.show {\n      display: flex;\n      animation: slideUp 0.5s ease forwards;\n    }\n    .down-icon:hover {\n      cursor: pointer;\n      transition: all 0.3s ease;\n    }\n    .down-icon svg > rect {\n      fill: #b0b0b0;\n    }\n    .down-icon svg > path {\n      fill: #fff;\n    }\n  </style>\n"};function Uc(){var e=jn(["<slot></slot>"]);return Uc=function(){return e},e}var Dc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Fc=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=Ic,e.userScrolled=!1,e.ownerUpdated=function(t){("translations"===t.name||"lang"===t.name)&&e.updateLocalizedStrings()},e.setScrolled=function(t){if(t.key===e.owner.dataId){var n=e.querySelector(".down-icon"),r=t.scrolled?"down-icon show":"down-icon";n&&n.setAttribute("class",r)}},e.scrollDown=function(){return wa.emit("scrollDown",{key:e.owner.dataId})},e.updateLocalizedStrings=function(){e.querySelector("button.down-icon").setAttribute("aria-label",e.owner.localize("chat.scrollDownButton.ariaLabel"))},e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this),wa.on("userScrolled",this.setScrolled),this.addEventListener("click",this.scrollDown),this.insertAdjacentHTML("beforeend",'<button tabindex="0" aria-label="'.concat(this.owner.localize("chat.scrollDownButton.ariaLabel"),'" class="down-icon">').concat('\n  <svg width="25px" height="25px" viewBox="0 0 30 30">\n    <rect id="snap-to-live-button" fill="#FFFFFF" x="0" y="0" width="30" height="30" rx="15"></rect>\n    <path d="M15.0326453,21 C14.7426596,21 14.4527097,20.8852999 14.2316216,20.6563819 L7.2744003,13.4491933 C6.83183015,12.9907267 6.83183015,12.2787537 7.97485699,11.4850649 C9.11788383,10.6913761 9.53369152,11.0267838 9.97629747,11.4850649 L15.0326453,16.7405562 L20.0890468,11.4850649 C20.5316169,11.0267838 21.1431577,10.6735312 22.0549346,11.4850649 C22.9667115,12.2965986 23.2335678,12.9909492 22.7907828,13.4494158 L15.8336689,20.6566045 C15.6124734,20.8855596 15.3225235,21 15.0326453,21 Z" id="ic_arrowDown" fill="#23282D"></path>\n  </svg>',"</button>"))}},{key:"render",value:function(){return $i(Uc())}}]),t}(Uu);function Bc(){var e=jn(['<slot name="chat-element-loading"></slot>']);return Bc=function(){return e},e}function Kc(){var e=jn(['<slot name="message-list-loading"></slot>']);return Kc=function(){return e},e}function Gc(){var e=jn(['<slot name="message-list-empty"></slot>']);return Gc=function(){return e},e}function qc(){var e=jn(['<slot name="message-list">','</slot><slot name="composer"></slot><slot name="snap-to-live"></slot>']);return qc=function(){return e},e}function Hc(){var e=jn(["<style>:host{display:flex;flex-direction:column;height:100%}</style>",""]);return Hc=function(){return e},e}Dc([xo({type:Boolean})],Fc.prototype,"userScrolled",void 0),Fc=Dc([fs("livelike-scroll-down")],Fc);var zc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Vc=function(e){var t=e.getPrototypeOf||function(e){return e.__proto__},n=e.setPrototypeOf||function(e,t){return e.__proto__=t,e},r="object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))?Reflect.construct:function(e,t,r){var i,o=[null];return o.push.apply(o,t),i=e.bind.apply(e,o),n(new i,r.prototype)};return function(e){var i=t(e);return n(e,n((function(){return r(i,arguments,t(this).constructor)}),i))}}(Object)(function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).dataId=Za(),e.deletedMessages=[],e.channel=null,e.controlChannel=null,e.roomid=null,e.placeholder=null,e.hidecomposer=!1,e.loaded=!1,e.timestamps=!1,e.messagemenus=!1,e.blockList=Go.blockList||[],e.messageList=["Loading"],e.syncStrategy=null,e.messageQueue=null,e.timeformat={month:"short",day:"numeric",hour:"numeric",minute:"numeric"},e.avatarurl=null,e.showavatar=null,e.translations=Bo.localizedStrings,e.updateLocalization=function(t){return e.translations=t.localizedStrings},e.sendChatMessage=function(t){var n=function(n){return Pa(Rn(e),n,{message:t.detail.message,roomId:e.roomid})};t.detail.message&&t.detail.message.match(/([^\n]+\n)*[^\n]+/g)&&Ws({message:t.detail.message,roomId:e.roomid,sender_image_url:e.avatarurl,timestamp:e.syncStrategy&&e.syncStrategy.currentTimecode?e.syncStrategy.currentTimecode:null}).then((function(){return n("messagesent")})).catch((function(){e.displayModal("muted"),n("messagefailed")}))},e.connectChat=function(){Bo.ready&&Go&&Go.id?(e.loaded=!1,e.syncStrategy=Zs(e.syncStrategy||Bo.syncStrategy),ya(e.roomid).then((function(t){e.channel=t.channels.chat.pubnub,e.controlChannel=t.channels.control.pubnub,ks.subscribe(e.channel),ks.subscribe(e.controlChannel),Na(e.roomid).then((function(t){return e.reactionPack=t[0]&&t[0].emojis?t[0].emojis:t})),Ia(e.roomid).then((function(t){return e.stickerPacks=t})),e.loaded=!0,Pa(Rn(e),"roomentered",{room:Rn(e),roomId:e.roomid})}))):setTimeout(e.connectChat,1e3)},e.demultiplex=function(t){var n=Gs[t.event];"messagereceived"===n&&e.messageReceived(t),("reactionremoved"===n||"reactionadded"===n)&&e.updateReaction(t.message,n),"messagedeleted"===n&&e.messageDeleted(t),Pa(Rn(e),n,{message:t.message,roomId:e.roomid})},e.getMessages=function(){return qs(e.roomid).then((function(t){t.messages&&0===t.messages.length?e.messageList=["No Messages"]:e.messageList=t.messages,Pa(Rn(e),"messagehistory",{messages:e.messageList})}))},e.updateReaction=function(t,n){if(e.messageList){var r=Nn(e.messageList),i=t.messageTimetoken,o=t.actionTimetoken,a=t.uuid,s=t.value,u=r.findIndex((function(e){return e.timetoken===i}));if(-1!==u){var c=r[u].reactions[s],l=function(e){return e.uuid===Go.id},d=function(e){return e.actionTimetoken===o},f=function(e){return r[u].reactions[s].findIndex(e)},p=function(){return a===Go.id?f(l):f(d)};if("reactionadded"===n){!c&&(r[u].reactions[s]=[]);var h=p();-1===h||a!==Go.id?r[u].reactions[s].push({uuid:a,actionTimetoken:o}):r[u].reactions[s][h].actionTimetoken=o}if("reactionremoved"===n){var v=p();-1!==v&&r[u].reactions[s].splice(v,1)}e.messageList=r}}},e.handleMessageReaction=function(t,n,r){return new Promise((function(i,o){var a=function(e){return o(console.error(e))},s={"Chat Room ID":e.roomid,"Chat Message ID":t,"Chat Reaction ID":n},u=function(t){return rs[r](e.channel,c.timetoken,t,s,i,a)},c=e.messageList.find((function(e){return e.id===t}));if(!c&&a("Could not find message for reaction action."),"remove"===r){var l="Reaction not deleted. Reaction not found.";!c.reactions[n]&&a(l);var d=c.reactions[n].find((function(e){return e.uuid===Go.id}));d?u(d.actionTimetoken):a(l)}else e.reactionPack.find((function(e){return e.id===n}))?u({type:"rc",value:n}):a("Reaction not added. Reaction not found")}))},e.addMessageReaction=function(t){var n=t.messageId,r=t.reactionId;return e.handleMessageReaction(n,r,"add")},e.removeMessageReaction=function(t){var n=t.messageId,r=t.reactionId;return e.handleMessageReaction(n,r,"remove")},e.messageReceived=function(t){-1===e.messageList.findIndex((function(e){return e.id===t.message.id}))&&la(e.roomid,t.message)&&e.messageQueue&&e.messageQueue.enqueueItem(t.message,e.updateEl)},e.messageDeleted=function(t){var n=e.messageList.findIndex((function(e){return String(t.message.id)===String(e.id)}));-1!==n&&(e.deletedMessages=ta(e.deletedMessages,e.messageList[n]),Pa(Rn(e),Gs[t.event],{message:t.message,roomId:e.roomid}))},e.updateEl=function(){if(e.messageQueue&&e.messageQueue.hasNextItem())if(e.messageQueue.isItemReady()){var t=e.messageQueue.dequeueItem();t&&(t.reactions={},e.messageList&&"No Messages"===e.messageList[0]?e.messageList=[t]:e.messageList=ta(e.messageList,t),wa.emit("messageAppended",{message:t,roomId:e.roomid}));var n=t.message&&t.message.match(/:([^:]*):/g),r=n&&n.length>0?{"Sticker Shortcodes":n}:{};Qa("Chat Message Displayed",r)}else setTimeout(e.updateEl,1e3)},e.registerMessageMenu=function(t){var n=!1;if(t({}).map((function(e){return e.items&&e.items.map((function(e){return e.items&&(n=!0)}))})),n)return Ca("Message menu currently supports submenus only one level deep.");e.messageMenuFunc=t},e.appendElements=function(){var t=e.shadowRoot.querySelector("slot[name=message-list]"),n=t&&t.assignedNodes().length>0,r=e.shadowRoot.querySelector("slot[name=composer]"),i=r&&r.assignedNodes().length>0;!n&&e.insertAdjacentHTML("afterbegin",'\n        <livelike-message-list slot="message-list">\n          <template>\n            <livelike-message-item></livelike-message-item>\n          </template>\n        </livelike-message-list>\n      '),!e.hidecomposer&&!i&&e.insertAdjacentHTML("beforeend",'<livelike-chat-composer slot="composer"></livelike-chat-composer>'),e.insertAdjacentHTML("beforeend",'<livelike-scroll-down slot="snap-to-live"></livelike-scroll-down>')},e.localize=function(t,n){return Ua(t,e.lang,n)},e.reportUser=function(t){return e.sendReport(t).then((function(t){return e.displayModal("report",t)}))},e.sendReport=function(t){return Xo.post({url:Bo.chatRooms[e.roomid].report_message_url,data:{channel:e.channel,user_id:t.sender_id,nickname:t.sender_nickname,message_id:t.id,message:t.image_url?t.image_url:t.message,profile_id:t.sender_id}})},e.blockUser=function(t){if(!e.blockList.find((function(e){return e===t.sender_id}))){var n=e.blockList.slice();n.push(t.sender_id),e.blockList=n,Ma("blockList",e.blockList),e.sendReport(t).then((function(t){return e.displayModal("block",t)}))}},e.displayModal=function(t,n){var r=document.createElement("livelike-modal");r.type=t,r.data=n,e.querySelector("livelike-message-list").append(r),setTimeout((function(){return r.remove()}),4e3)},e.defaultMessageMenuFunc=function(t){if(t.sender_id!==Go.id){var n=[{label:e.localize("chat.messageMenu.reportMessage"),type:"single",onClick:function(){return e.reportUser(t)}},{label:e.localize("chat.messageMenu.cancel"),type:"single",onClick:function(){}}];return-1===e.blockList.findIndex((function(e){return e===t.sender_id}))&&n.unshift({label:e.localize("chat.messageMenu.blockUser"),type:"single",onClick:function(){return e.blockUser(t)}}),n}},e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){var e=this;wa.on("localizationUpdate",this.updateLocalization),this.addEventListener("sendChatMessage",this.sendChatMessage),this.addEventListener("roomentered",this.getMessages),this.addEventListener("messagehistory",this.appendElements),this.addEventListener("chat-provider",(function(t){t.detail.provider=e,t.stopPropagation()})),An(Tn(t.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("sendChatMessage",this.sendChatMessage),this.removeEventListener("roomentered",this.getMessages),this.removeEventListener("messagehistory",this.appendElements),ks.removeListener(this.channel,this.demultiplex),ks.removeListener(this.controlChannel,this.messageDeleted),wa.off("localizationUpdate",this.updateLocalization)}},{key:"firstUpdated",value:function(){this.messageMenuFunc=this.defaultMessageMenuFunc,Ra(this),ua(this),this.style+="display:flex; display: -webkit-box; display: -webkit-flex;display: -ms-flexbox;"}},{key:"updated",value:function(e){var t=this;e.forEach((function(e,n){"syncStrategy"===n&&t.syncStrategy&&!t.messageQueue&&(t.messageQueue=Us(t)),"channel"===n&&t.channel&&(ks.addListener(t.channel,t.demultiplex),e&&ks.removeListener(e,t.demultiplex)),"controlChannel"===n&&t.controlChannel&&(ks.addListener(t.controlChannel,t.messageDeleted),e&&ks.removeListener(e,t.messageDeleted)),"roomid"===n&&t.roomid&&(null!=e&&Pa(t,"roomexited",{roomId:t.roomid}),t.connectChat()),void 0!==t[n]&&null!==t[n]&&wa.emit("chat-updated",{name:n,key:t.id,prop:t[n],owner:t})}))}},{key:"render",value:function(){return $i(Hc(),this.loaded&&Go&&Go.id&&this.dataId&&this.roomid?$i(qc(),this.messageList&&this.messageList[0]?"No Messages"===this.messageList[0]?$i(Gc()):"Loading"===this.messageList[0]?$i(Kc()):null:null):$i(Bc()))}}]),t}(Mo));zc([xo({type:Array})],Vc.prototype,"deletedMessages",void 0),zc([xo({type:String})],Vc.prototype,"channel",void 0),zc([xo({type:String})],Vc.prototype,"controlChannel",void 0),zc([xo({type:String,reflect:!0})],Vc.prototype,"roomid",void 0),zc([xo({type:String,reflect:!0})],Vc.prototype,"lang",void 0),zc([xo({type:String})],Vc.prototype,"placeholder",void 0),zc([xo({type:Boolean})],Vc.prototype,"hidecomposer",void 0),zc([xo({type:Boolean})],Vc.prototype,"loaded",void 0),zc([xo({type:Boolean})],Vc.prototype,"timestamps",void 0),zc([xo({type:Boolean})],Vc.prototype,"messagemenus",void 0),zc([xo({type:Function})],Vc.prototype,"messageMenuFunc",void 0),zc([xo({type:Array})],Vc.prototype,"blockList",void 0),zc([xo({type:Array})],Vc.prototype,"messageList",void 0),zc([xo({type:Object})],Vc.prototype,"syncStrategy",void 0),zc([xo({type:Object})],Vc.prototype,"messageQueue",void 0),zc([xo({type:Array})],Vc.prototype,"stickerPacks",void 0),zc([xo({type:Array})],Vc.prototype,"reactionPack",void 0),zc([xo({type:Object})],Vc.prototype,"timeformat",void 0),zc([xo({type:String})],Vc.prototype,"avatarurl",void 0),zc([xo({type:Boolean})],Vc.prototype,"showavatar",void 0),zc([xo({type:Object,hasChanged:function(){return!0}})],Vc.prototype,"translations",void 0),Vc=zc([fs("livelike-chat")],Vc);function Wc(){var e=jn(["<slot></slot>"]);return Wc=function(){return e},e}var Yc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},$c=function(e){var t=e.getPrototypeOf||function(e){return e.__proto__},n=e.setPrototypeOf||function(e,t){return e.__proto__=t,e},r="object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))?Reflect.construct:function(e,t,r){var i,o=[null];return o.push.apply(o,t),i=e.bind.apply(e,o),n(new i,r.prototype)};return function(e){var i=t(e);return n(e,n((function(){return r(i,arguments,t(this).constructor)}),i))}}(Object)(function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).owner=document.querySelector(e.getAttribute("for"))||e.parentElement,e.loaded=!0,e.loadPage=function(){e.loaded&&(e.loaded=!1,e.buttonEl.innerHTML='<div class="loading-spinner"></div>',e.owner.widgetPaginator.next().then((function(t){t.value&&t.value.widgets&&t.value.widgets.map((function(t){return e.owner.enqueueWidget({widgetPayload:t,initialLoad:!0})})),e.loaded=!0,e.buttonEl.innerHTML="Load More",t.done&&e.buttonEl.remove()})))},e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this);var e=document.createElement("style");e.innerHTML="\n    livelike-load-more-button button{\n      display: flex;\n      justify-content: center;\n      width:100%;\n      height: auto;\n      border: none;\n      border-radius: 0.25rem;\n      background: #086fac;\n      font-size: 1rem;\n      color: #fff;\n      padding: 0.75rem;\n      margin:1rem 0 0 0;\n    }\n\n    livelike-load-more-button button:hover {\n      cursor: pointer;\n    }\n\n    livelike-load-more-button .loading-spinner {\n      position: relative;\n      border-radius: 50%;\n      width: 20px;\n      height: 20px;\n      border: 4px solid rgba(255, 255, 255, 0.1);\n      border-top: 4px solid #fff;\n      animation: rotating 1.2s infinite cubic-bezier(0.785, 0.135, 0.15, 0.86);\n    }\n\n    @keyframes rotating {\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n",this.appendChild(e);var n=document.createElement("button");n.addEventListener("click",this.loadPage),n.setAttribute("class","livelike-load-more-button"),n.setAttribute("aria-label","Load more widgets"),n.innerHTML="Load More",this.buttonEl=n,this.appendChild(n)}},{key:"render",value:function(){return $i(Wc())}}]),t}(Mo));function Jc(){var e=jn(['<slot name="widgets-loading"></slot>']);return Jc=function(){return e},e}function Xc(){var e=jn(['<slot></slot><slot name="load-more-button"></slot>']);return Xc=function(){return e},e}function Qc(){var e=jn(["<style>:host{display:block}livelike-widgets{display:block}</style>",""]);return Qc=function(){return e},e}Yc([xo({type:Boolean})],$c.prototype,"loaded",void 0),$c=Yc([fs("livelike-load-more-button")],$c);var Zc=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},el=function(e){var t=e.getPrototypeOf||function(e){return e.__proto__},n=e.setPrototypeOf||function(e,t){return e.__proto__=t,e},r="object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))?Reflect.construct:function(e,t,r){var i,o=[null];return o.push.apply(o,t),i=e.bind.apply(e,o),n(new i,r.prototype)};return function(e){var i=t(e);return n(e,n((function(){return r(i,arguments,t(this).constructor)}),i))}}(Object)(function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).dataId=Za(),e.updating=!1,e.hasWidgetAttached=!1,e.sequence=1,e.mode="pop-up",e.loaded=!1,e.authors=!1,e.timestamps=!1,e.reactions=!1,e.timeformat={month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"},e.hide_dismiss_button=!1,e.widgetListener=function(t){$o.some((function(e){return t.event===e}))&&(e.onWidgetPublished(t),Ga(t.message.timetoken,e.sequence,e.programid).then((function(n){e.sequence=n.sequence,n.allowNext&&e.enqueueWidget({mode:e.mode,widgetPayload:t.message})})))},e.connectWidget=function(){if(Bo.ready)return e.loaded=!1,e.syncStrategy=Zs(e.syncStrategy||Bo.syncStrategy),ma(e.programid).then((function(t){e.channel=t.subscribe_channel,ks.subscribe(e.channel),"timeline"===e.mode?e.loadTimeline(e.programid):e.loaded=!0}));setTimeout(e.connectWidget,1e3)},e.loadTimeline=function(t){return us({programId:t}).then((function(t){e.widgetPaginator=t,e.widgetPaginator.next().then((function(t){t.value.widgets.map((function(t){return e.enqueueWidget({mode:e.mode,widgetPayload:t,initialLoad:!0})})),e.loaded=!0,!t.done&&e.insertAdjacentHTML("beforeend",'<livelike-load-more-button slot="load-more-button"></livelike-load-more-button>')}))}))},e.updateWidget=function(t,n){if(!e.updating){e.updating=!0;!function r(){if(e.widgetQueue.hasNextItem()){var i="pop-up"!==e.mode||!e.hasWidgetAttached;if(e.widgetQueue.isItemReady()&&i){var o=e.widgetQueue.dequeueItem();"pop-up"===e.mode&&(e.hasWidgetAttached=!0),e.querySelector('[id="'.concat(o.id,'"]'))||e.showWidget({widgetPayload:o,mode:t,initialLoad:n}),r()}else setTimeout(r,1e3)}else e.updating=!1}()}},e.registerWidgetMode=function(e,t){return ls(e,t)},e.showWidget=function(t){return e.start(Object.assign(Object.assign({},t),{widgetPayload:t.widgetPayload,mode:t.mode}))},e.enqueueWidget=function(t){return e.widgetQueue.enqueueItem(t.widgetPayload,(function(){return e.updateWidget(t.mode,t.initialLoad)}))},e.createWidgetElement=function(t){return cs({id:t.id,kind:t.kind}).then((function(n){return e.showWidget({widgetPayload:n,mode:t.mode})}))},e.createSyncWidget=function(t){return cs({id:t.id,kind:t.kind}).then((function(n){return e.enqueueWidget({widgetPayload:n,mode:t.mode})}))},e.start=function(t){Pa(Rn(e),"beforewidgetattached",{widget:t.widgetPayload});var n=as(t.mode||e.mode);return e.createWidget(t).then((function(r){return n({target:Rn(e),widget:r,widgetPayload:t.widgetPayload})}))},e.attach=function(t,n){var r="append"===n?"beforeend":"afterbegin";if(e.insertAdjacentElement(r,t),Pa(Rn(e),"widgetattached",{element:t,widget:t.widgetPayload}),t.widgetPayload){var i={"Widget Type":Zo(t.widgetPayload.kind),"Widget ID":t.widgetPayload.id};t.widgetPayload.kind===Yo&&(i["Link URL"]=t.widgetPayload.link_url),Qa("Widget Displayed",i,e.programid)}return Promise.resolve()},e.detach=function(t){var n={element:t,widget:t.widgetPayload};return t&&e.contains(t)&&(Pa(Rn(e),"beforewidgetdetached",n),t.remove(),Pa(Rn(e),"widgetdetached",n),e.hasWidgetAttached=!1),Promise.resolve()},e.createWidget=function(t){var n=t.widgetPayload,r=(t.mode,t.initialLoad,e.customWidgetRenderer&&"function"==typeof e.customWidgetRenderer&&e.customWidgetRenderer({widgetPayload:n})),i=r instanceof Element||r instanceof Node?r:document.createElement("livelike-"+n.kind);for(var o in n)i[o]=n[o];return i.widgetPayload=n,i.reactions=e.reactions,i.dataId=e.dataId,i.programid=e.programid,i.authors=e.authors,i.timestamps=e.timestamps,i.timeformat=e.timeformat,i.lang=e.lang,i.customTemplate=e.customTemplateRenderer?"function"==typeof e.customTemplateRenderer?e.customTemplateRenderer:xa(e.localName,"customTemplateRenderer","Function"):null,i.theme=Ko.theme,i.hide_dismiss_button=e.hide_dismiss_button,t.initialLoad&&(i.initialLoad=t.initialLoad,i.disabled=!0),Promise.resolve(i)},e}return On(t,e),Pn(t,[{key:"firstUpdated",value:function(){Ra(this),ua(this),ls("pop-up",ra),ls("timeline",ia)}},{key:"onWidgetPublished",value:function(e){}},{key:"disconnectedCallback",value:function(){An(Tn(t.prototype),"disconnectedCallback",this).call(this),ks.removeListener(this.channel,this.widgetListener)}},{key:"updated",value:function(e){var t=this;e.forEach((function(e,n){"syncStrategy"===n&&t.syncStrategy&&!t.widgetQueue&&(t.widgetQueue=Us(t));var r;("hasWidgetAttached"===n||"loaded"===n)&&(void 0!==t[r=n]&&Pa(t,r,Sn({},r,!0))),"channel"===n&&t.channel&&(ks.addListener(t.channel,t.widgetListener),e&&ks.removeListener(e,t.widgetListener));var i="programid"===n&&t.programid,o="mode"===n&&void 0!==e;if(t.programid){if(i&&void 0!==e||o&&"timeline"===e)for(;t.firstChild;)t.removeChild(t.firstChild);!t.mode&&(t.mode="pop-up"),(i||o)&&t.connectWidget()}}))}},{key:"render",value:function(){return $i(Qc(),this.loaded?$i(Xc()):$i(Jc()))}}]),t}(Mo));Zc([xo({type:Object})],el.prototype,"widgetPaginator",void 0),Zc([xo({type:String})],el.prototype,"channel",void 0),Zc([xo({type:String,reflect:!0})],el.prototype,"programid",void 0),Zc([xo({type:String,reflect:!0})],el.prototype,"lang",void 0),Zc([xo({type:String})],el.prototype,"mode",void 0),Zc([xo({type:Boolean})],el.prototype,"loaded",void 0),Zc([xo({type:Boolean})],el.prototype,"authors",void 0),Zc([xo({type:Boolean})],el.prototype,"timestamps",void 0),Zc([xo({type:Boolean})],el.prototype,"reactions",void 0),Zc([xo({type:Function})],el.prototype,"customWidgetRenderer",void 0),Zc([xo({type:Function})],el.prototype,"customTemplateRenderer",void 0),Zc([xo({type:Object})],el.prototype,"widgetQueue",void 0),Zc([xo({type:Object})],el.prototype,"syncStrategy",void 0),Zc([xo({type:Object})],el.prototype,"timeformat",void 0),Zc([xo({type:Boolean})],el.prototype,"hide_dismiss_button",void 0),el=Zc([fs("livelike-widgets")],el);F(F.P,"String",{repeat:function(e){var t=String(C(this)),n="",r=G(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}});var tl={direction:0,format:"uniformGradient"},nl={background:Object.assign(Object.assign({},tl),{colors:["003264","0096c8"]})},rl={background:{format:"fill",color:"111111"}},il={background:{format:"fill",color:"333333"}},ol={correctOptionBar:{background:Object.assign(Object.assign({},tl),{colors:["81ca00","429321"]})},incorrectOptionBar:{background:Object.assign(Object.assign({},tl),{colors:["dc0028","d0021b"]})},correctOption:{borderWidth:2,borderColor:"81ca00"},incorrectOption:{borderWidth:2,borderColor:"dc0028"}},al={widgets:{alert:{body:il,header:{background:Object.assign(Object.assign({},tl),{colors:["9f041b","f5515f"]})}},imageSlider:{header:rl,body:il,interactiveTrackRight:{background:{format:"fill",color:"888"}},interactiveTrackLeft:{background:{format:"fill",color:"ff6a13"}},resultsTrackRight:{},resultsTrackLeft:{}},prediction:{header:nl,selectedOption:{borderColor:"0096c8"},selectedOptionBar:{borderColor:"0096c8",background:Object.assign(Object.assign({},tl),{colors:["003264","0096c8"]})}},predictionFollowUp:Object.assign(Object.assign({},ol),{header:nl,selectedOption:{borderColor:"0096c8"},selectedOptionBar:{borderColor:"c96dd7",background:Object.assign(Object.assign({},tl),{colors:["003264","0096c8"]})}}),poll:{header:{background:Object.assign(Object.assign({},tl),{colors:["3123ae","c96dd7"]})},selectedOption:{borderColor:"c86dd7"},selectedOptionBar:{borderColor:"c96dd7",background:Object.assign(Object.assign({},tl),{colors:["3123ae","c86dd7"]})}},quiz:Object.assign(Object.assign({},ol),{header:{background:Object.assign(Object.assign({},tl),{colors:["f76b1c","ffb400"]})},selectedOption:{borderColor:"ffb400"},selectedOptionBar:{borderColor:"c96dd7",background:Object.assign(Object.assign({},tl),{colors:["f76b1c","ffb400"]})}}),socialEmbed:{header:rl,body:il},richText:{header:rl,body:il},cheerMeter:{header:rl,body:il}},version:1};function sl(e){return parseInt(e.repeat(2/e.length),16)}function ul(e){if(/^([A-Fa-f0-9]{3,4}){1,2}$/.test(e)){var t=Math.floor(e.length/3),n=e.match(new RegExp(".{".concat(t,"}"),"g")).map(sl),r=n[3]||0===n[3]?(n[3]/255).toFixed(2):1;return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(r,")")}return e}function cl(e){return Object.keys(e).forEach((function(t){var n=e[t]instanceof Array;if("fontFamily"===t)e[t]=n?e[t].join(" "):e[t];else if("object"!==bn(e[t])||n)if(n){var r=e[t].map((function(e){return e+"px"}));e[t]=r.join(" ")}else-1!==t.toLowerCase().indexOf("color")?e[t]="rgb"===e[t].slice(0,3)?e[t]:ul(e[t]):"fontSize"!==t&&"borderWidth"!==t||"number"!=typeof e[t]||(e[t]="".concat(e[t],"px"));else"background"===t?function(e,t){var n=e[t];"fill"===n.format?e[t]=ul(n.color):"uniformGradient"===n.format&&(e[t]="linear-gradient(90deg, ".concat(ul(n.colors[0]),", ").concat(ul(n.colors[1]),")"))}(e,t):cl(e[t])})),e}function ll(e){if(e){var t="";return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();"fontColor"===n&&(r="color"),t+="".concat(r,": ").concat(e[n],";\n")})),t}return""}var dl=function(e){return new Promise((function(t){var n=cl(ea(al,e));Ko.theme=n,wa.emit("themeUpdate",{theme:n}),function e(){n&&n.version?t():setTimeout(e,1e3)}()}))},fl=function(e){return Bo.localizedStrings=ea(Bo.localizedStrings,e),wa.emit("localizationUpdate",{localizedStrings:Bo.localizedStrings}),Promise.resolve(!0)},pl=function(e,t,n){return ga().then((function(r){return Xo[e]({url:r.profile_url,data:t,accessToken:n})}))},hl=function(e){return e.accessToken?pl("get",null,e.accessToken).then((function(t){return t.detail?Promise.reject(t.detail):Object.assign(Object.assign({},t),{access_token:e.accessToken})})):Ea("accessToken","fetchUserProfile")},vl=function(e){return pl("post",e&&e.nickname&&e,null).then((function(e){return Qa("Unique Profile Created",{"Profile ID":e.id}),Promise.resolve(e)}))},gl=function(e){return{id:e.id,title:e.title,created_at:e.created_at,visibility:e.visibility,content_filter:e.content_filter}},yl=function(){return Promise.resolve(!0)},ml=function(e){return e.roomId?ya(e.roomId):Ea("roomId","chatroom")},bl=function(e,t){return ml(e).then((function(e){return Xo[t]({url:e.memberships_url})}))};function kl(){var e=jn(['<livelike-widget-header slot="header"><livelike-title slot="title"></livelike-title><livelike-dismiss-button slot="dismiss"></livelike-dismiss-button><livelike-timer></livelike-timer></livelike-widget-header>']);return kl=function(){return e},e}var _l=$i(kl());function wl(){var e=jn(["<style>livelike-option[image]{max-height:80px}livelike-option::slotted(.container){width:75%;max-width:75%;position:relative}livelike-progress[image]{top:0;height:1.5rem;margin-top:.5rem}.livelike-voting-image-container{width:100%;position:relative}</style>"]);return wl=function(){return e},e}var Pl=$i(wl());function Sl(){var e=jn(["<template><livelike-widget-root>"," ","<livelike-widget-body><livelike-select><template><livelike-option>","</livelike-option></template></livelike-select></livelike-widget-body></livelike-widget-root></template>"]);return Sl=function(){return e},e}function Ol(){var e=jn(['<div class="livelike-voting-image-container"><div class="image-description-wrapper"><livelike-description></livelike-description><livelike-progress></livelike-progress></div><livelike-percentage></livelike-percentage></div><livelike-image height="80px" width="80px"></livelike-image>']);return Ol=function(){return e},e}function Tl(){var e=jn(['<div style="position:relative;width:100%;display:flex"><livelike-progress></livelike-progress><livelike-description></livelike-description><livelike-percentage></livelike-percentage></div>']);return Tl=function(){return e},e}var xl=function(e,t){ds(e,function(t){function n(){return _n(this,n),Mn(this,Tn(n).apply(this,arguments))}return On(n,t),Pn(n,[{key:"render",value:function(){var t=$i(Tl()),n=$i(Ol());return $i(Sl(),Pl,_l,-1!==e.indexOf("image")?n:t)}}]),n}(t))},Ll=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).submitVote=function(t){e.disabled||t.id===e.selectedOption.id||(e.selectedOption=t,e.voteDisable||(e.interactionEvent(),e.voteDisable=!0,e.vote&&e.vote.id?e.updateVote(e.vote.url,{option_id:t.id}):e.createVote(t.vote_url)))},e}return On(t,e),t}(xs);xl("livelike-text-poll",Ll),xl("livelike-image-poll",Ll);var El=function(e){return function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).resultEvent=function(){An(Tn(t.prototype),"resultEvent",Rn(e)).call(Rn(e));var n="unattempted";e.selectedOption&&e.selectedOption.id&&e.selectedOption.hasOwnProperty("is_correct")&&(n=e.selectedOption.is_correct?"correct":"incorrect"),Pa(Rn(e),"results",{result:n,element:Rn(e),widget:e.widgetPayload,selectedOption:e.selectedOption}),-1!==e.localName.indexOf("quiz")&&e.selectedOption&&e.selectedOption.id&&e.createVote(e.selectedOption.answer_url)},e}return On(t,e),t}(e)},Cl=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultVoteHide=!0,e.submitVote=function(t){if(!e.disabled&&t.id!==e.selectedOption.id){e.selectedOption=t;var n=e.choices.findIndex((function(e){return e.id===t.id}));e.choices[n].answer_count++,e.syntheticIncrement=!0,e.interactionEvent()}},e}return On(t,e),t}(El(xs));xl("livelike-text-quiz",Cl),xl("livelike-image-quiz",Cl);var Rl={},Ml=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultVoteHide=!0,e}return On(t,e),Pn(t,[{key:"firstUpdated",value:function(){An(Tn(t.prototype),"firstUpdated",this).call(this),this.addEventListener("prediction",(function(e){Rl[e.detail.widget.id]={option_id:e.detail.prediction.option_id,claim_token:e.detail.prediction.claim_token}}))}}]),t}(Ll);xl("livelike-text-prediction",Ml),xl("livelike-image-prediction",Ml);var Al=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).interactive=function(){return Promise.resolve()},e}return On(t,e),Pn(t,[{key:"firstUpdated",value:function(){var e=this;An(Tn(t.prototype),"firstUpdated",this).call(this),this.updateComplete.then((function(){return e.disabled=!0}));var n=this.widgetPayload.text_prediction_id||this.widgetPayload.image_prediction_id,r=Rl[n];r&&(r&&(this.selectedOption={id:r.option_id}),r.claim_token&&Xo.post({url:this.widgetPayload.claim_url,data:{claim_token:r.claim_token}}).then((function(t){Rl[n].claim_token=null,e.rankChanged(e.widgetPayload,t.rewards)})))}}]),t}(El(xs));xl("livelike-image-prediction-follow-up",Al),xl("livelike-text-prediction-follow-up",Al);var jl=function(e){return"\n    .widget-captioned-media {\n      align-items: center;\n      display: flex;\n      margin: 0;\n    }\n\n    .widget-caption-container {\n      padding: 1rem;\n    }\n\n    .widget-caption {\n      word-break: break-word;\n      word-wrap: break-word;\n      padding: 0;\n      width: 100%;\n    }\n\n    .widget-caption.media-caption {\n      padding: 1rem;\n    }\n\n    .widget-media {\n      font-size: 0;\n      text-align: center;\n    }\n\n    .widget-media img {\n      max-height: 90px;\n      max-width: 100%;\n    }\n\n    .widget-captioned-media .widget-caption {\n      order: 1;\n    }\n\n    .widget-caption ~ .widget-media {\n      order: 2;\n      max-height: 90px;\n      max-width: 35%;\n    }\n\n    .widget-link {\n      word-wrap: break-word;\n      background-color: #444;\n      display: block;\n      font-weight: bolder;\n      padding: 0.5rem 1rem;\n      position: relative;\n      text-decoration: none;\n    }\n    .widget-link:after {\n      content: '';\n      background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2280px%22%20height%3D%22100px%22%20viewBox%3D%220%200%2080%20100%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2050%20(54983)%20-%20http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%20--%3E%0A%20%20%20%20%3Ctitle%3Esort-down%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Page-1%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22sort-down%22%20transform%3D%22translate(40.000000%2C%2050.000000)%20rotate(-90.000000)%20translate(-40.000000%2C%20-50.000000)%20translate(-10.000000%2C%2010.000000)%22%20fill%3D%22%23FFFFFF%22%20fill-rule%3D%22nonzero%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M98.1437396%2C2.63850125%20C96.9076009%2C0.879013967%2095.4422941%2C0%2093.7491877%2C0%20L6.25047031%2C0%20C4.55667973%2C0%203.09239915%2C0.879013967%201.85523426%2C2.63850125%20C0.61806938%2C4.39993433%200%2C6.48242398%200%2C8.88986179%20C0%2C11.2968131%200.61806938%2C13.3793028%201.85523426%2C15.1392765%20L45.604764%2C77.359553%20C46.843297%2C79.1190402%2048.3075776%2C80%2050%2C80%20C51.6924224%2C80%2053.1580712%2C79.1190402%2054.3942099%2C77.359553%20L98.1437396%2C15.1387901%20C99.3795363%2C13.3793028%20100%2C11.2968131%20100%2C8.88937534%20C100%2C6.48242398%2099.3795363%2C4.39993433%2098.1437396%2C2.63850125%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E');\n      background-position: center right 0.5rem;\n      background-size: 0.5rem;\n      background-repeat: no-repeat;\n      position: absolute;\n      width: calc(100% - 2rem);\n      height: calc(100% - 1rem);\n      left: 0;\n      top: 0;\n      z-index: 0;\n      padding: 0.5rem 1rem;\n    }\n\n    *[dir=\"rtl\"] .widget-link {\n      background-position: center left 0.5rem;\n    }\n    *[dir=\"rtl\"] .widget-link:after {\n      transform: scaleX(-1);\n    }\n\n    "};function Nl(){var e=jn(['<livelike-footer><a class="widget-link" href="','" target="_blank" @click="','">',"</a></livelike-footer>"]);return Nl=function(){return e},e}function Il(){var e=jn(['<div class="widget-caption-container"><span class="widget-caption">',"</span></div>"]);return Il=function(){return e},e}function Ul(){var e=jn(['<div class="widget-media"><img src="','"></div>']);return Ul=function(){return e},e}function Dl(){var e=jn(['<img class="widget-media" src="','" alt="','">']);return Dl=function(){return e},e}function Fl(){var e=jn(['<figcaption class="widget-caption media-caption">',"</figcaption>"]);return Fl=function(){return e},e}function Bl(){var e=jn(['<figure class="widget-captioned-media">'," ","</figure>"]);return Bl=function(){return e},e}function Kl(){var e=jn(["<template><livelike-widget-root>","<livelike-widget-body>"," ","</livelike-widget-body></livelike-widget-root></template>"]);return Kl=function(){return e},e}var Gl=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeAlert=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).kind="alert",e.owner=Rn(e),e.defaultStyles=jl,e.trackLinkOpened=function(){e.interactionEvent();var t={"Alert Id":e.widgetPayload&&e.widgetPayload.id,"Program ID":e.widgetPayload&&e.widgetPayload.program_id,"Widget Type":Zo(e.widgetPayload.kind),"Link URL":e.link_url};Qa("Alert Link Opened",t,e.programid)},e}return On(t,e),Pn(t,[{key:"render",value:function(){var e=!!this.text&&!!this.image_url,t=!this.text&&!!this.image_url,n=!!this.text&&!this.image_url;return $i(Kl(),_l,e?$i(Bl(),this.text&&$i(Fl(),this.text),this.image_url&&$i(Dl(),this.image_url,this.text)):t?$i(Ul(),this.image_url):n?$i(Il(),this.text):null,this.link_url&&$i(Nl(),this.link_url,this.trackLinkOpened,this.link_label))}}]),t}(Ls),Gl([xo({type:String})],e.LiveLikeAlert.prototype,"title",void 0),Gl([xo({type:String})],e.LiveLikeAlert.prototype,"text",void 0),Gl([xo({type:String})],e.LiveLikeAlert.prototype,"image_url",void 0),Gl([xo({type:String})],e.LiveLikeAlert.prototype,"link_url",void 0),Gl([xo({type:String})],e.LiveLikeAlert.prototype,"link_label",void 0),e.LiveLikeAlert=Gl([fs("livelike-alert")],e.LiveLikeAlert);var ql=function(e){var t="\n    border: none;\n    width: 100%;\n    height: 1.125rem;\n    border-radius: 1.5rem;\n    background: ".concat(e.interactiveTrackRight.background,";\n    background-image: linear-gradient(\n      90deg,\n      ").concat(e.interactiveTrackLeft.background,",\n      ").concat(e.interactiveTrackRight.background," var(--x),\n      transparent 0\n    );\n  "),n="\n    border: none;\n    width: var(--thumb-width);\n    height: 1em;\n    border-radius: 50%;\n    margin-top: 0;\n  ";return"\n    .input-form {\n      --x: calc(var(--val) / 100 * (100% - var(--thumb-width)));\n      position: relative;\n      width: 90%;\n      margin: 0px auto;\n    }\n\n    .input-container {\n      display: block;\n      position: relative;\n    }\n\n    .slider-input {\n      -webkit-appearance: none;\n      width: 100%;\n      display: block;\n      height: 5em;\n      background: none;\n      cursor: pointer;\n      position: relative;\n      margin: 0;\n    }\n\n    .slider-input:focus {\n      outline: none;\n    }\n\n    .slider-input::-webkit-slider-runnable-track {\n      ".concat(t,"\n    }\n    .slider-input::-moz-range-track {\n      ").concat(t,"\n    }\n    .slider-input::-ms-track {\n      ").concat(t,"\n    }\n\n    .slider-input::-webkit-slider-thumb {\n      ").concat(n,"\n    }\n    .slider-input::-moz-range-thumb {\n      ").concat(n,"\n    }\n    .slider-input::-ms-thumb {\n      ").concat(n,"\n    }\n\n    .slider-input:disabled {\n      cursor: default;\n    }\n\n    .slider-image {\n      height: 50px;\n    }\n\n    .slider-thumb {\n      position: absolute;\n      bottom: 0.1em;\n      left: var(--x);\n      pointer-events: none;\n    }\n\n    .result-mark {\n      background: rgb(233, 0, 0);\n      width: 1rem;\n      height: 1rem;\n      bottom: 1.1rem;\n      position: absolute;\n      background: #d23a3a;\n      border: 3px solid white;\n      border-radius: 1rem;\n      bottom: 1.5rem;\n      z-index: 1;\n      ").concat(ll(e.marker),"\n    }\n")};function Hl(){var e=jn(["\n      <template>\n        <livelike-widget-root>\n          ",'\n          <livelike-widget-body>\n            <form style="--val: ',';" class="input-form">\n              <div class="input-container">\n                <input\n                  type="range"\n                  class="slider-input"\n                  value="','"\n                />\n                ','\n              </div>\n              <output class="slider-thumb">\n                <img class="slider-image" />\n              </output>\n            </form>\n          </livelike-widget-body>\n        </livelike-widget-root>\n      </template>\n    ']);return Hl=function(){return e},e}function zl(){var e=jn(['\n            <div\n              class="result-mark"\n              style="left: calc(','% - 1rem)"\n            ></div>\n          ']);return zl=function(){return e},e}var Vl=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeEmojiSlider=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).owner=Rn(e),e.kind="emoji-slider",e.defaultStyles=ql,e.val=null,e.sliderVoteSubmitted=!1,e.setThumbWidth=function(){e.imageEl&&e.imageEl.offsetWidth>0?e.inputContainer.style.setProperty("--thumb-width",e.imageEl.offsetWidth+"px"):setTimeout(e.setThumbWidth,10)},e.changeVal=function(){e.interactionEvent(),e.updateVal()},e.updateVal=function(){if(e.inputEl){var t=+e.inputEl.value;if(e.val!==t){e.inputContainer.style.setProperty("--val",e.val=t);var n=!0,r=!1,i=void 0;try{for(var o,a=e.options[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.val>=s.max&&e.imageEl.src!==s.image_url&&(e.imageEl.src=s.image_url,e.setThumbWidth())}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}},e.resultEvent=function(){An(Tn(t.prototype),"resultEvent",Rn(e)).call(Rn(e)),e.updateComplete.then((function(){e.inputEl&&(e.inputEl.disabled=!0),e.interacted&&!e.sliderVoteSubmitted?e.lockInVote(e.val/100):e.val=null}))},e.onResults=function(t){t.message.average_magnitude&&(e.average_magnitude=t.message.average_magnitude,Pa(Rn(e),t.event,t.message.average_magnitude))},e.interactive=function(t){return new Promise((function(n){return e.updateComplete.then((function(){e.phase="interactive";var r=t&&t.timeout||e.widgetPayload.timeout&&Qo(e.widgetPayload.timeout);e.timeout=r,null!==r&&setTimeout((function(){e.interacted&&!e.sliderVoteSubmitted?e.lockInVote(e.val/100).then(n):(e.val=null,n(null))}),e.timeout)}))}))},e.lockInVote=function(t){return new Promise((function(n,r){return t>=0&&t<=1?e.createVote(e.widgetPayload.vote_url,{magnitude:t.toString()}).then((function(){e.sliderVoteSubmitted=!0,n(!0)})):r(new Error("Magnitude not a number between 0 and 1."))}))},e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){var e=this;An(Tn(t.prototype),"connectedCallback",this).call(this).then((function(){e.updateComplete.then((function(){e.inputEl&&(e.inputEl.addEventListener("change",e.changeVal),e.inputEl.addEventListener("input",e.updateVal)),e.options=e.options.map((function(t,n){return Object.assign(Object.assign({},t),{mag:0===n?0:n/(e.options.length-1)*100,max:n/e.options.length*100})})),e.updateVal()}))}))}},{key:"render",value:function(){var e=Math.round(100*this.widgetPayload.initial_magnitude),t="ready"!==this.phase&&"interactive"!==this.phase&&String(this.val)?$i(zl(),Math.round(100*this.average_magnitude)):null;return $i(Hl(),_l,e,e,t)}},{key:"inputContainer",get:function(){return this.querySelector(".input-form")}},{key:"inputEl",get:function(){return this.querySelector(".slider-input")}},{key:"imageEl",get:function(){return this.querySelector(".slider-image")}}]),t}(Ls),Vl([xo({type:Number})],e.LiveLikeEmojiSlider.prototype,"val",void 0),Vl([xo({type:String})],e.LiveLikeEmojiSlider.prototype,"average_magnitude",void 0),Vl([xo({type:Boolean})],e.LiveLikeEmojiSlider.prototype,"sliderVoteSubmitted",void 0),e.LiveLikeEmojiSlider=Vl([fs("livelike-emoji-slider")],e.LiveLikeEmojiSlider);var Wl=W(!0);F(F.P,"Array",{includes:function(e){return Wl(this,e,arguments.length>1?arguments[1]:void 0)}}),S("includes");var Yl=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},$l=[],Jl=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).call(this))).owner=Rn(e),e.moving=!1,e.slide=0,e.slides=null,e.totalSlides=0,e.scriptsLoaded=!1,e.finalLoad=!1,e.forceScriptLoad=function(){window.instgrm&&window.instgrm.Embeds.process(),window.FB&&window.FB.XFBML.parse(),window.twttr&&window.twttr.widgets.load()},e.initSlider=function(){return new Promise((function(t){var n=e.querySelector("#dot0");n&&(n.checked=!0),e.slides=e.querySelectorAll(".slide");var r=e.slides.length;e.totalSlides=r,e.slide=0,e.slides&&e.slides[0]&&(e.slides[0].className+=" active"),r>1&&(e.slides[1].className+=" next"),r>2&&(e.slides[r-1].className+=" prev"),t()}))},e.insertHTML=function(){return new Promise((function(t){e.items.forEach((function(t,n){var r=e.querySelector("#embed".concat(n)),i=document.createElement("div");i.innerHTML=t.oembed&&t.oembed.html;var o=function(e){if("SCRIPT"===e.nodeName){var t=e.src.replace("file://","https://");if(!$l.includes(t)){$l.push(t);var n=document.createElement("script");n.src=t,document.body.insertAdjacentElement("beforeend",n)}}};!function e(t){for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];o(r),t.hasChildNodes()&&e(r)}}(i),r&&(r.innerHTML=t.oembed&&t.oembed.html),setTimeout((function(){if(e.forceScriptLoad(),t.oembed&&"Twitter"===t.oembed.provider_name){!function e(t){var n=t.querySelector("twitter-widget");n&&n.shadowRoot&&n.shadowRoot.querySelector(".TweetInfo")?(n.shadowRoot.querySelector(".TweetInfo").style.display="none",n.shadowRoot.querySelector(".CallToAction").style.display="none"):setTimeout((function(){return e(t)}),100)}(Rn(e))}setTimeout((function(){e.scriptsLoaded=!0}),1500)}),500)})),t()}))},e.moveCarouselTo=function(t,n){e.checkDot();var r=t-1,i=t+1;0===t?r=n-1:t===n-1&&(r=t-1,i=0),e.items.forEach((function(t,n){e.slides[n].className="slide"})),e.slides[r].className="slide prev",e.slides[t].className="slide active",e.slides[i].className="slide next"},e.moveNext=function(){e.slide===e.totalSlides-1?e.slide=0:e.slide++,e.moveCarouselTo(e.slide,e.totalSlides)},e.movePrev=function(){0===e.slide?e.slide=e.totalSlides-1:e.slide--,e.moveCarouselTo(e.slide,e.totalSlides)},e.moveToSlide=function(t){e.slide=t,e.moveCarouselTo(e.slide,e.totalSlides)},e.checkDot=function(){e.items.forEach((function(t,n){e.querySelector("#dot".concat(n)).checked=e.slide===n}))},e.disableInteraction=function(){e.moving=!0,setTimeout((function(){e.moving=!1}),500)},e.moving=!1,e.slide=0,e.slides=null,e.totalSlides=0,e.scriptsLoaded=!1,e.finalLoad=!1,e}return On(t,e),Pn(t,[{key:"updated",value:function(e){var t=this;e.forEach((function(e,n){"scriptsLoaded"===n&&!0===t.scriptsLoaded&&t.forceScriptLoad(),"finalLoad"===n&&!0===t.finalLoad&&t.forceScriptLoad()}))}},{key:"connectedCallback",value:function(){var e=this;An(Tn(t.prototype),"connectedCallback",this).call(this).then((function(){e.updateComplete.then((function(){e.insertHTML().then((function(){return e.initSlider()})).then((function(){return setTimeout((function(){e.finalLoad=!0}),3e3)}))}))}))}}]),t}(Ls);function Xl(){var e=jn(["<style>.slider-wrapper{overflow:hidden;margin:auto}.slider-wrapper *{box-sizing:border-box;display:flex;justify-content:center}.slider{-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d}.slide{opacity:0;position:absolute;top:0;width:100%;display:none;margin:auto;z-index:100;transition:transform .5s,opacity .5s,z-index .5s}.slide.active,.slide.initial{opacity:1;position:relative;z-index:900;display:flex}.slide.next,.slide.prev{z-index:800;display:flex}.slide.prev{transform:translateX(-100%)}.slide.next{transform:translateX(100%)}.slide-button{background:0 0;position:absolute;top:50%;width:3rem;height:3rem;transform:translateY(-50%);border-radius:50%;cursor:pointer;z-index:20;border:none}.slide-button>svg{fill:#fff;filter:drop-shadow( 3px 3px 2px rgba(20, 20, 20, .7))}.left-button{left:0}.right-button{right:0}.dot-nav-container{z-index:20;margin-top:1rem}.dot-item{border:none;height:15px;width:15px;border-radius:1rem}</style>"]);return Xl=function(){return e},e}Yl([xo({type:Array})],Jl.prototype,"items",void 0),Yl([xo({type:String})],Jl.prototype,"comment",void 0),Yl([xo({type:Boolean})],Jl.prototype,"moving",void 0),Yl([xo({type:Number})],Jl.prototype,"slide",void 0),Yl([xo({type:Array})],Jl.prototype,"slides",void 0),Yl([xo({type:Number})],Jl.prototype,"totalSlides",void 0),Yl([xo({type:Boolean})],Jl.prototype,"scriptsLoaded",void 0),Yl([xo({type:Boolean})],Jl.prototype,"finalLoad",void 0);var Ql=$i(Xl());function Zl(){var e=jn(['<div id="embed','" class="slide ','"></div>']);return Zl=function(){return e},e}function ed(){var e=jn(["<template>",'<livelike-widget-root style="opacity:','">','<livelike-widget-body><div class="slider-wrapper">','<div class="slider">',"</div>","</div></livelike-widget-body></livelike-widget-root></template>"]);return ed=function(){return e},e}function td(){var e=jn(['<input class="dot-input" id="dot','" name="dot" type="radio" @click="','">']);return td=function(){return e},e}function nd(){var e=jn(['<form class="dot-nav-container">',"</form>"]);return nd=function(){return e},e}function rd(){var e=jn(['<div class="button-wrapper"><button class="left-button slide-button" @click="','">','</button> <button class="right-button slide-button" @click="','">',"</button></div>"]);return rd=function(){return e},e}var id=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};function od(){var e=jn(["<template><livelike-widget-root>",'<livelike-widget-body style="display:flex"><section>',"</section></livelike-widget-body></livelike-widget-root></template>"]);return od=function(){return e},e}e.LiveLikeSocialEmbed=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).kind="social-embed",e}return On(t,e),Pn(t,[{key:"render",value:function(){var e=this,t=this.items.length>1,n=$i(rd(),this.movePrev,ku,this.moveNext,bu),r=$i(nd(),this.items.map((function(t,n){return $i(td(),n,(function(){return e.moveToSlide(n)}))})));return $i(ed(),Ql,this.scriptsLoaded&&this.finalLoad?1:0,_l,t?n:null,this.items.length>0&&this.items.map((function(e,t){return $i(Zl(),t,0===t?"initial":"")})),t?r:null)}}]),t}(Jl),e.LiveLikeSocialEmbed=id([fs("livelike-social-embed")],e.LiveLikeSocialEmbed);var ad=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeRichPost=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).owner=Rn(e),e.kind="rich-post",e}return On(t,e),Pn(t,[{key:"render",value:function(){return $i(od(),_l,tc(this.content))}}]),t}(Ls),ad([xo({type:String})],e.LiveLikeRichPost.prototype,"content",void 0),e.LiveLikeRichPost=ad([fs("livelike-rich-post")],e.LiveLikeRichPost);var sd=function(e){return"\n  @keyframes image0 {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.2); }\n    100% { transform: scale(1); }\n  }\n  @keyframes image1 {\n    0% { transform: scale(1.2); }\n    50% { transform: scale(1); }\n    100% { transform: scale(1.2); }\n  }\n\n  .cheer-image-body {\n    position: relative;\n    display: flex;\n  }\n\n  .cheer-image-body livelike-vote-count {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 2rem;\n    z-index: 100;\n  }\n\n  .cheer-item-container {\n    display: flex;\n    flex-direction: column;\n    width: 50%;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .cheer-image-wrap {\n    text-align: center;\n    padding: 20px 0;\n  }\n\n  .cheer-image {\n    position: relative;\n    height: 80px;\n    z-index: 5;\n    top: 0;\n    transition: all 0.2s;\n    vertical-align: middle;\n  }\n  .cheer-image:hover {\n    cursor: pointer;\n  }\n  .cheer-image.disabled:hover {\n    cursor: default;\n  }\n\n  .button0.initial.enabled {\n    animation: image0 2s linear 0s infinite normal;\n  }\n  .button1.initial.enabled {\n    animation: image1 2s linear 0s infinite normal;\n  }\n  .cheer-image-wrap.enabled:after {\n    content: '';\n    position: absolute;\n    display: block;\n    z-index: 1;\n    width: 100px;\n    height: 100px;\n    border-radius: 100%;\n    top: 10px;\n    left: 50%;\n    margin-left: -50px;\n    opacity: 0;\n    transition: all 0.2s;\n  }\n  .cheer-image-wrap.enabled:active:after {\n    opacity: 1;\n    width: 200px;\n    height: 200px;\n    top: -40px;\n    margin-left: -100px;\n  }\n  .button0{\n    ".concat(ll(e.sideAButton),"\n  }\n  .button1{\n    ").concat(ll(e.sideBButton),"\n  }\n  .cheer-image.enabled:active {\n    -webkit-transform: scale(0.9);\n    -webkit-transform: rotate(10deg);\n  }\n  .button0.enabled:after {\n    border: 2px solid rgba(80, 160, 250, 0.6);\n    background: rgba(80, 160, 250, 0.4);\n  }\n  .button1.enabled:after {\n    border: 2px solid rgba(250, 80, 100, 0.6);\n    background: rgba(250, 80, 100, 0.4);\n  }\n")},ud=function(e){var t="\n    :host {\n      display: flex;\n      position: relative;\n      cursor: pointer;\n      transition: border ease 0.3s;\n      align-items: center;\n      border: 2px solid transparent;\n      border-radius: 6px;\n      padding: 0.5rem;\n      ".concat(ll(e.unselectedOption),"\n    }\n    :host([selected]) {\n      ").concat(ll(e.selectedOption),"\n    }\n    :host([disabled]) {\n      cursor: default;\n    }\n  ");return e.correctOption&&(t+="\n      :host([correct]) {\n        ".concat(ll(e.correctOption),"\n      }\n      :host([incorrect]) {\n        ").concat(ll(e.incorrectOption),"\n      }\n  ")),t};function cd(){var e=jn(["<slot></slot>"]);return cd=function(){return e},e}var ld=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeOption=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=ud,e.image=null,e.selected=null,e.correct=null,e.incorrect=null,e.disabled=null,e.optionSelected=function(){e.disabled||(e.parentElement.querySelectorAll("livelike-option").forEach((function(t){return t!==Rn(e)&&(t.selected=!1)})),e.selected=!0,e.owner.submitVote(e.item),Pa(Rn(e),"option-clicked",{item:e.item}))},e.handleResults=function(t){e.item.hasOwnProperty("is_correct")&&(e.item.is_correct?e.correct=!0:e.selected&&(e.incorrect=!0))},e}return On(t,e),Pn(t,[{key:"updated",value:function(e){var t=this;e.forEach((function(e,n){if(void 0!==t[n]&&null!==t[n]&&t.item){var r={name:n,prop:t[n],key:t.item.id};if(wa.emit("option-updated",r),Pa(t,"option-updated",r),"options"===n||"choices"===n||"items"===n){var i=t.items[t.optionIndex].vote_count;i!==t.voteCount&&(t.voteCount=i),Pa(t,"option-vote-updated",t.items[t.optionIndex])}}}))}},{key:"connectedCallback",value:function(){var e=this;An(Tn(t.prototype),"connectedCallback",this).call(this),this.addEventListener("click",this.optionSelected);var n=this.parentElement;!this.owner&&(this.owner=n.owner);var r=this.getAttribute("index");this.optionIndex=r,this.removeAttribute("index");var i=this.owner.options||this.owner.choices;this.item=i[r],this.voteCount=i[r].vote_count,this.disabled=this.owner.disabled,this.value=this.item.id,this.image=!!this.item.image_url,this.owner.options&&(this.option=this.owner.options[r]),this.owner.choices&&(this.choice=this.owner.choices[r]),("results"===this.owner.phase||"finished"===this.owner.phase)&&this.handleResults(),this.owner.addEventListener("results",this.handleResults),this.owner.selectedOption&&this.owner.selectedOption.id===this.value&&(this.selected=!0),this.addEventListener("option-provider",(function(t){t.detail.provider=e,t.stopPropagation()}))}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this.optionSelected),An(Tn(t.prototype),"disconnectedCallback",this).call(this)}},{key:"render",value:function(){return $i(cd())}}]),t}(Va),ld([xo({reflect:!0,type:Boolean})],e.LiveLikeOption.prototype,"image",void 0),ld([xo({reflect:!0,type:Boolean})],e.LiveLikeOption.prototype,"selected",void 0),ld([xo({reflect:!0,type:Boolean})],e.LiveLikeOption.prototype,"correct",void 0),ld([xo({reflect:!0,type:Boolean})],e.LiveLikeOption.prototype,"incorrect",void 0),ld([xo({reflect:!0,type:Boolean})],e.LiveLikeOption.prototype,"disabled",void 0),ld([xo({type:Object})],e.LiveLikeOption.prototype,"option",void 0),ld([xo({type:Object})],e.LiveLikeOption.prototype,"choice",void 0),ld([xo({type:Object})],e.LiveLikeOption.prototype,"item",void 0),ld([xo({type:String})],e.LiveLikeOption.prototype,"value",void 0),e.LiveLikeOption=ld([fs("livelike-option")],e.LiveLikeOption);var dd=function(e){var t="\n    :host {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      position: relative;\n      ".concat(ll(e.unselectedOptionImage),"\n    }\n    ::slotted(img) {\n      object-fit: contain;\n    }\n    img {\n      max-width: 90px;\n      display: block;\n      margin: 0 auto;\n    }\n    :host([selected]) {\n      ").concat(ll(e.selectedOptionImage),"\n    }\n  ");return e.correctOption&&(t+="\n      :host([correct]) {\n        ".concat(ll(e.correctOptionImage),"\n      }\n      :host([incorrect]) {\n        ").concat(ll(e.incorrectOptionImage),"\n      }\n    ")),t};function fd(){var e=jn(["<slot></slot>"]);return fd=function(){return e},e}var pd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};function hd(){var e=jn(['<div class="cheer-item-container"><livelike-option index="','" style="display:contents"><div class="cheer-image-wrap button'," "," ",'"><img class="cheer-image ','" src="','"></div></livelike-option></div>']);return hd=function(){return e},e}function vd(){var e=jn(["<template><livelike-widget-root>",'<livelike-widget-body><livelike-dueling-progress></livelike-dueling-progress><div class="cheer-image-body"><livelike-vote-count></livelike-vote-count>',"</div></livelike-widget-body></livelike-widget-root></template>"]);return vd=function(){return e},e}e.LiveLikeImage=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=dd,e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this);var e=this.src||this.item&&this.item.image_url||this.owner.image_url;if(e){var n=document.createElement("img");n.setAttribute("height",this.height),n.setAttribute("width",this.width),n.setAttribute("src",e),n.setAttribute("alt",this.alt||this.item&&this.item.description),this.appendChild(n)}}},{key:"defaultTemplate",value:function(){return $i(fd())}}]),t}(Ya),pd([xo({type:String,reflect:!0})],e.LiveLikeImage.prototype,"src",void 0),pd([xo({type:String,reflect:!0})],e.LiveLikeImage.prototype,"alt",void 0),pd([xo({type:String,reflect:!0})],e.LiveLikeImage.prototype,"height",void 0),pd([xo({type:String,reflect:!0})],e.LiveLikeImage.prototype,"width",void 0),e.LiveLikeImage=pd([fs("livelike-image")],e.LiveLikeImage);var gd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeCheerMeter=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).kind="cheer-meter",e.owner=Rn(e),e.defaultStyles=sd,e.cheerVote={},e.count=0,e.submitVote=function(t){e.disabled||(e.count++,e.cheerVote[t.id]?e.cheerVote[t.id].count++:e.cheerVote[t.id]={createUrl:t.vote_url,count:1},e.selectedOption=t,e.interactionTrack(),e.count>0&&e.sendVote())},e.sendVote=aa((function(){var t=function(t){if(e.cheerVote[t].count){e.interactionEvent(e.cheerVote[t].count);var n={vote_count:e.cheerVote[t].count};e.cheerVote[t].count=0;var r=function(n){return e.cheerVote[t].updateUrl=n.url};e.cheerVote[t].updateUrl?e.updateVote(e.cheerVote[t].updateUrl,n).then(r):e.createVote(e.cheerVote[t].createUrl,n).then(r)}};for(var n in e.cheerVote)t(n)}),3e3),e}return On(t,e),Pn(t,[{key:"firstUpdated",value:function(){An(Tn(t.prototype),"firstUpdated",this).call(this),this.count=this.options.reduce((function(e,t){return e+t.vote_count}),0)+this.count}},{key:"render",value:function(){var e=this;return $i(vd(),_l,this.options.map((function(t,n){var r=e.disabled?"disabled":"enabled";return $i(hd(),n,n,e.interacted?"":"initial",r,r,t.image_url)})))}}]),t}(Ls),gd([xo({type:Object})],e.LiveLikeCheerMeter.prototype,"cheerVote",void 0),gd([xo({type:Number})],e.LiveLikeCheerMeter.prototype,"count",void 0),e.LiveLikeCheerMeter=gd([fs("livelike-cheer-meter")],e.LiveLikeCheerMeter);var yd=function(e){var t="\n    :host {\n      display: block;\n      flex-grow: 1;\n      z-index: 10;\n      padding: 0.5rem;\n      word-break: break-word;\n      position: relative;\n      ".concat(ll(e.unselectedOptionDescription),"\n    }\n    :host([image]) {\n      padding: 0.75rem 0.5rem 0.25rem 0.5rem;\n    }\n    :host([selected]) {\n      ").concat(ll(e.selectedOptionDescription),"\n    }\n  ");return e.correctOption&&(t+="\n      :host([correct]) {\n        ".concat(ll(e.correctOptionDescription),"\n      }\n      :host([incorrect]) {\n        ").concat(ll(e.incorrectOptionDescription),"\n      }")),t};function md(){var e=jn(["<slot>","</slot>"]);return md=function(){return e},e}var bd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeDescription=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=yd,e}return On(t,e),Pn(t,[{key:"defaultTemplate",value:function(){return $i(md(),this.description||this.item&&this.item.description||this.owner.text)}}]),t}(Ya),bd([xo({type:String})],e.LiveLikeDescription.prototype,"description",void 0),e.LiveLikeDescription=bd([fs("livelike-description")],e.LiveLikeDescription);var kd=function(e){return"\n    .widget-dismiss {\n      z-index: 1;\n      border: none;\n      background:none;\n      height: 18px;\n      margin: 0.5rem;\n      display: block;\n      ".concat(ll(e.dismiss),"\n    }\n    .widget-dismiss:hover {\n      cursor: pointer;\n    }\n  ")};function _d(){var e=jn(['<button class="widget-dismiss" aria-label="Dismiss" @click="','">',"</button>"]);return _d=function(){return e},e}function wd(){var e=jn(["",""]);return wd=function(){return e},e}var Pd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeDismissButton=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=kd,e.dismissClicked=function(){return Pa(Rn(e),"dismiss-clicked")},e}return On(t,e),Pn(t,[{key:"defaultTemplate",value:function(){return $i(wd(),this.owner.hide_dismiss_button?null:$i(_d(),this.dismissClicked,Su))}}]),t}(Va),e.LiveLikeDismissButton=Pd([fs("livelike-dismiss-button")],e.LiveLikeDismissButton);var Sd=["text-quiz","image-quiz","text-prediction","image-prediction","text-poll","image-poll"],Od=function(e){return e.value=ca(e.owner,e.item)},Td=function(e,t){return Sd.some((function(t){return t===e.owner.widgetPayload.kind}))&&(e.style.visibility="results"===t||"finished"===t?"visible":"hidden")},xd=function(e){return function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).ownerUpdated=function(t){return"phase"===t.name&&e.owner.defaultVoteHide&&Td(Rn(e),t.prop)},e.optionUpdated=function(t){return Od(Rn(e))},e}return On(t,e),Pn(t,[{key:"firstUpdated",value:function(){Od(this),this.owner.defaultVoteHide&&Td(this,this.owner.phase)}}],[{key:"properties",get:function(){return{value:{type:Number,reflect:!0}}}}]),t}(e)},Ld=function(e){var t="\n    :host {\n      display: block;\n      position: relative;\n      padding: 0.5rem;\n      z-index: 10;\n      ".concat(ll(e.unselectedOptionPercentage),"\n    }\n    :host([selected]) {\n      ").concat(ll(e.selectedOptionPercentage),"\n    }\n    ");return e.correctOption&&(t+="\n      :host([correct]) {\n        ".concat(ll(e.correctOptionPercentage),"\n      }\n      :host([incorrect]) {\n        ").concat(ll(e.incorrectOptionPercentage),"\n      }\n  ")),t};function Ed(){var e=jn(["","%"]);return Ed=function(){return e},e}var Cd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikePercentage=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=Ld,e}return On(t,e),Pn(t,[{key:"defaultTemplate",value:function(){return $i(Ed(),this.value)}}]),t}(xd(Ya)),e.LiveLikePercentage=Cd([fs("livelike-percentage")],e.LiveLikePercentage);var Rd=function(e){var t="\n    :host {\n      height: 2rem;\n      position: absolute;\n      border-radius: 3px;\n      transition: ease width 0.4s;\n      background: rgba(255, 255, 255, 0.12);\n      ".concat(ll(e.unselectedOptionBar),"\n    }\n    :host([selected]) {\n      ").concat(ll(e.selectedOptionBar),"\n    }\n    :host([hidden]) {\n      display: none;\n    }\n  ");return e.correctOption&&(t+="\n      :host([correct]) {\n        ".concat(ll(e.correctOptionBar),"\n      }\n      :host([incorrect]) {\n        ").concat(ll(e.incorrectOptionBar),"\n      }\n  ")),t};function Md(){var e=jn(["<slot></slot>"]);return Md=function(){return e},e}var Ad=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeProgress=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=Rd,e.max=100,e.min=0,e}return On(t,e),Pn(t,[{key:"updated",value:function(e){An(Tn(t.prototype),"updated",this).call(this,e),e.has("value")&&(this.style.width=this.value+"%")}},{key:"defaultTemplate",value:function(){return $i(Md())}}]),t}(xd(Ya)),Ad([xo({type:Number,reflect:!0})],e.LiveLikeProgress.prototype,"max",void 0),Ad([xo({type:Number,reflect:!0})],e.LiveLikeProgress.prototype,"min",void 0),e.LiveLikeProgress=Ad([fs("livelike-progress")],e.LiveLikeProgress);var jd=function(){return"\n  :host{\n    display: block;\n    background-color: #333;\n    border-radius: 0 0 6px 6px;\n  }\n"};function Nd(){var e=jn(["<slot></slot>"]);return Nd=function(){return e},e}var Id=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeSelect=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=jd,e}return On(t,e),Pn(t,[{key:"firstUpdated",value:function(){var e=this;this.items=this.items||this.owner.options||this.owner.choices;var n=this.querySelector("template");this.items.map((function(t,r){var i=n.content.firstElementChild;i.setAttribute("index",r);var o,a,s=(a=(o=i).cloneNode(!0),Object.keys(o).forEach((function(e){return a[e]=o[e]})),a);e.appendChild(s)})),n.remove(),An(Tn(t.prototype),"firstUpdated",this).call(this)}},{key:"defaultTemplate",value:function(){return $i(Nd())}}]),t}(Va),Id([xo({type:Array})],e.LiveLikeSelect.prototype,"items",void 0),e.LiveLikeSelect=Id([fs("livelike-select")],e.LiveLikeSelect);var Ud=function(e){return"\n    :host {\n      width: 0%;\n      display: block;\n      background: white;\n      height: 2px;\n      position: absolute;\n      bottom: 0;\n      transition-timing-function: linear;\n      ".concat(ll(e.timer),"\n    }\n  ")};function Dd(){var e=jn(["<slot></slot>"]);return Dd=function(){return e},e}var Fd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeTimer=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).started=!1,e.defaultStyles=Ud,e.start=function(){if(!e.started){e.started=!0;var t=(new Date).getTime();!function n(){var r=e.time||e.owner.timeout,i=(new Date).getTime()-t,o=100*(1-(r-i)/r);e.style.width="".concat(o,"%"),i<r&&requestAnimationFrame(n)}()}},e.ownerUpdated=function(t){"phase"===t.name&&("interactive"===t.prop?e.start():e.style.display="none")},e}return On(t,e),Pn(t,[{key:"firstUpdated",value:function(){var e=this;"interactive"===this.owner.phase&&this.start(),this.pageVisible=!document.hidden,wa.on("pageVisibilityChange",(function(t){return e.pageVisible=t.pageVisible}))}},{key:"render",value:function(){return $i(Dd())}}]),t}(Va),Fd([xo({type:Number,reflect:!0})],e.LiveLikeTimer.prototype,"time",void 0),Fd([xo({type:Number})],e.LiveLikeTimer.prototype,"timeStarted",void 0),Fd([xo({type:Number})],e.LiveLikeTimer.prototype,"timeLeft",void 0),Fd([xo({type:Boolean})],e.LiveLikeTimer.prototype,"pageVisible",void 0),e.LiveLikeTimer=Fd([fs("livelike-timer")],e.LiveLikeTimer);var Bd=function(e){return"\n    :host {\n      padding: 0.5rem 1rem;\n      flex-grow: 1;\n      overflow-wrap: break-word;\n      width: 85%;\n      margin: 0;\n      ".concat(ll(e.title),"\n    }\n  ")};function Kd(){var e=jn(["<slot>","</slot>"]);return Kd=function(){return e},e}var Gd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeTitle=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=Bd,e}return On(t,e),Pn(t,[{key:"defaultTemplate",value:function(){return $i(Kd(),this.title||this.owner.question||this.owner.title||this.owner.comment)}}]),t}(Va),Gd([xo({type:String})],e.LiveLikeTitle.prototype,"title",void 0),e.LiveLikeTitle=Gd([fs("livelike-title")],e.LiveLikeTitle);var qd=function(e){return"\n    :host {\n\n    }\n  "};function Hd(){var e=jn(["",""]);return Hd=function(){return e},e}var zd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeVoteCount=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=qd,e.updateCount=function(t){e.count=t&&(t.vote_count||t.answer_count)||e.owner.count||0},e.ownerUpdated=function(t){"options"!==t.name&&"choices"!==t.name&&"count"!==t.name||e.updateCount(e.item)},e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this),this.updateCount(this.item)}},{key:"defaultTemplate",value:function(){return $i(Hd(),this.count)}}]),t}(Ya),zd([xo({type:String,reflect:!0})],e.LiveLikeVoteCount.prototype,"count",void 0),e.LiveLikeVoteCount=zd([fs("livelike-vote-count")],e.LiveLikeVoteCount);var Vd=function(e){return"\n    :host {\n      display: block;\n      border-radius: 0 0 6px 6px;\n      ".concat(ll(e.body),"\n    }\n  ")};function Wd(){var e=jn(["<slot></slot>"]);return Wd=function(){return e},e}var Yd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeWidgetBody=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=Vd,e}return On(t,e),Pn(t,[{key:"defaultTemplate",value:function(){return $i(Wd())}}]),t}(Va),e.LiveLikeWidgetBody=Yd([fs("livelike-widget-body")],e.LiveLikeWidgetBody);var $d=function(){return"\n    :host {\n      display:flex;\n      justify-content: center;\n      margin: 0.5rem;\n    }\n  "};function Jd(){var e=jn(["<slot></slot>"]);return Jd=function(){return e},e}var Xd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeWidgetBylines=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=$d,e}return On(t,e),Pn(t,[{key:"firstUpdated",value:function(){var e="",t='\n      <time datetime="'.concat(this.owner.published_at,'">\n        ').concat(sa(this.owner.published_at,this.owner.timeformat,this.owner.lang),"\n      </time>\n    ");this.owner.authors&&this.owner.created_by.name&&(e+="<span>".concat(this.owner.created_by.name,"</span>"),this.owner.timestamps&&(e+="&nbsp;&ndash;&nbsp;")),this.owner.timestamps&&(e+=t),this.insertAdjacentHTML("afterbegin",e)}},{key:"defaultTemplate",value:function(){return $i(Jd())}}]),t}(Va),e.LiveLikeWidgetBylines=Xd([fs("livelike-widget-bylines")],e.LiveLikeWidgetBylines);var Qd=function(e){return"\n    :host {\n      ".concat(ll(e.footer),"\n    }\n  ")};function Zd(){var e=jn(["<slot></slot>"]);return Zd=function(){return e},e}var ef=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeWidgetFooter=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=Qd,e}return On(t,e),Pn(t,[{key:"defaultTemplate",value:function(){return $i(Zd())}}]),t}(Va),e.LiveLikeWidgetFooter=ef([fs("livelike-widget-footer")],e.LiveLikeWidgetFooter);var tf=function(e){return"\n    :host {\n      display: flex;\n      position: relative;\n      border-radius: 6px 6px 0 0;\n      ".concat(ll(e.header),"\n    }\n  ")};function nf(){var e=jn(['<slot name="title"></slot><slot name="dismiss"></slot><slot></slot>']);return nf=function(){return e},e}var rf=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeWidgetHeader=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=tf,e}return On(t,e),Pn(t,[{key:"defaultTemplate",value:function(){return $i(nf())}}]),t}(Va),e.LiveLikeWidgetHeader=rf([fs("livelike-widget-header")],e.LiveLikeWidgetHeader);var of=function(e){return"\n    :host {\n      color: #fff;\n      position: relative;\n      display: block;\n      ".concat(ll(e.root),"\n    }\n  ")};function af(){var e=jn(['<livelike-widget-bylines></livelike-widget-bylines><slot name="header"></slot><slot name="timer"></slot><slot name="body"></slot><slot></slot><livelike-widget-reactions></livelike-widget-reactions>']);return af=function(){return e},e}var sf=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeWidgetRoot=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=of,e}return On(t,e),Pn(t,[{key:"defaultTemplate",value:function(){return $i(af())}}]),t}(Va),e.LiveLikeWidgetRoot=sf([fs("livelike-widget-root")],e.LiveLikeWidgetRoot);var uf=function(e){return"\n    :host {\n      display:flex;\n    }\n    .bar-container {\n      font-size: 14px;\n      padding: .25rem 0;\n      transition: all 0.4s ease;\n      text-align: center;\n    }\n    .bar0{\n      background: linear-gradient(to left, #3023ae, #53a0fd);\n      ".concat(ll(e.sideABar),"\n    }\n    .bar1{\n      background: linear-gradient(to right, #9f041b, #f5515f);\n      ").concat(ll(e.sideBBar),"\n    }\n  ")};function cf(){var e=jn(["",""]);return cf=function(){return e},e}function lf(){var e=jn(["<div>","</div>"]);return lf=function(){return e},e}function df(){var e=jn(['<div class="bar-container bar','" style="','">',"</div>"]);return df=function(){return e},e}var ff=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":bn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};e.LiveLikeDuelingProgress=function(e){function t(){var e;return _n(this,t),(e=Mn(this,Tn(t).apply(this,arguments))).defaultStyles=uf,e.ownerUpdated=function(t){"options"!==t.name&&"choices"!==t.name||(e.items=t.prop)},e}return On(t,e),Pn(t,[{key:"connectedCallback",value:function(){An(Tn(t.prototype),"connectedCallback",this).call(this),this.items=this.items||this.owner.options||this.owner.choices}},{key:"defaultTemplate",value:function(){var e=this,t=Math.round(1/this.items.length*100);return $i(cf(),this.items.map((function(n,r){var i="width:".concat(ca(e.owner,n,t),"%");return $i(df(),r,i,n.description?$i(lf(),n.description):null)})))}}]),t}(Va),ff([xo({type:Array})],e.LiveLikeDuelingProgress.prototype,"items",void 0),e.LiveLikeDuelingProgress=ff([fs("livelike-dueling-progress")],e.LiveLikeDuelingProgress);var pf=function(e){return new Promise((function(t){var n,r=Bo.ready&&Bo.clientId&&Go;r&&console.error("LiveLike EngagementSDK has already been initialized!"),r||((n=document.createElement("script")).type="text/javascript",n.src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.4.4/webcomponents-loader.js",document.body.append(n),Bo.pageVisible=!document.hidden,document.addEventListener("visibilitychange",(function(){Bo.pageVisible=!document.hidden,wa.emit("pageVisibilityChange",{pageVisible:!document.hidden})}),!1)),!e.accessToken&&console.warn("LiveLike EngagementSDK has been initialized without an accessToken.\n ".concat(Oa())),e.endpoint&&(Bo.endpoint=e.endpoint),Bo.ready=!1,Bo.logger=e.logger||null,Bo.clientId=e.clientId,Bo.accessToken=e.accessToken||null,Bo.lsKey="livelike-user-auth-"+e.clientId,e.syncStrategy&&(Bo.syncStrategy=e.syncStrategy),Bo.storageStrategy=e.storageStrategy||Aa,e.localizedStrings&&fl(e.localizedStrings),dl(e.theme||{}).then((function(){return ga().then((function(n){!r&&n.mixpanel_token&&function(e,t){var n=document,r=window.mixpanel||[];if(!r.__SV){var i,o,a=window;try{var s,u,c,l=a.location,d=l.hash;s=function(e,t){return(u=e.match(RegExp(t+"=([^&]*)")))?u[1]:null},d&&s(d,"state")&&("mpeditor"===(c=JSON.parse(decodeURIComponent(s(d,"state")))).action&&(a.sessionStorage.setItem("_mpcehash",d),history.replaceState(c.desiredHash||"",n.title,l.pathname+l.search)))}catch(e){}window.mixpanel=r,r._i=[],r.init=function(e,t,n){function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var s=r;for(void 0!==n?s=r[n]=[]:n="mixpanel",s.people=s.people||[],s.toString=function(e){var t="mixpanel";return"mixpanel"!==n&&(t+="."+n),e||(t+=" (stub)"),t},s.people.toString=function(){return s.toString(1)+".people (stub)"},i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),o=0;o<i.length;o++)a(s,i[o]);var u="set set_once union unset remove delete".split(" ");s.get_group=function(){function e(e){t[e]=function(){call2_args=arguments,call2=[e].concat(Array.prototype.slice.call(call2_args,0)),s.push([n,call2])}}for(var t={},n=["get_group"].concat(Array.prototype.slice.call(arguments,0)),r=0;r<u.length;r++)e(u[r]);return t},r._i.push([e,t,n])},r.__SV=1.2,(a=n.createElement("script")).type="text/javascript",a.async=!0,a.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===n.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(s=n.getElementsByTagName("script")[0]).parentNode.insertBefore(a,s)}mixpanel.init(e),mixpanel.register(t)}(n.mixpanel_token,n.analytics_properties),Bo.programUrlTemplate=n.program_detail_url_template,Bo.chatUrlTemplate=n.chat_room_detail_url_template,Bo.leaderboardUrlTemplate=n.leaderboard_detail_url_template,Bo.createChatUrlTemplate=n.create_chat_room_url,function(e,t){if(e)return hl({accessToken:e});var n=Bo.storageStrategy.get();return n?Promise.resolve(n):vl({nickname:t})}(e.accessToken,e.nickName).then((function(i){Bo.storageStrategy.set(i),Object.assign(Go,i);var o={subscribeKey:n.pubnub_subscribe_key,origin:n.pubnub_origin,authKey:i.access_token},a=e.publishKey||n.pubnub_publish_key;a&&(o.publishKey=a);var s=function(){Bo.ready=!0,Ko.ready=!0,t(i)},u=-1!==Object.keys(o).findIndex((function(e){return Bo.pn&&Bo.pn._config[e]!==o[e]}));!Bo.pn||u?function(e){return Bo.logger&&console.table(Object.assign(Object.assign({},e),{profileToken:Go.access_token})),Ka=new Xa(Object.assign(Object.assign({},e),{uuid:Go.id,restore:!0,ssl:!0})),Bo.pn=Ka,Promise.resolve()}(o).then((function(){!r&&ks.initialize(),s()})):s()}))}))}))}))},hf={_$$:Bo,_config:Ko,userProfile:Go,applyTheme:dl,addMessageListener:function(e,t){return zs.add(e.roomId,t)},removeMessageListener:function(e,t){return zs.remove(e.roomId,t)},createUserProfile:vl,getUserProfile:hl,init:pf,getMessageCount:function(e,t){return new Promise((function(n,r){e||Ea("roomId","messagecount");var i,o=null;if(t&&t.since)if(i=t.since,{number:!0,string:!isNaN(Date.parse(i)),object:i instanceof Date&&!isNaN(i.getTime())}[bn(i)]){var a=new Date(t.since).getTime();o=String(a)+"0011"}else r(xa("messageCount","since","Date"));ba(e).then((function(t){return function(e,t){return Ka.history({channel:e,stringifiedTimeToken:!0,end:t,count:100})}(t,o).then((function(t){console.log("get history r.messages",t),n({roomId:e,count:da(e,t.messages).length})}))}))}))},getMessageList:qs,sendMessage:Ws,prepareOutgoingChatMessage:function(e,t){return Vs[e]=t},updateUserProfile:function(e){return e.accessToken?pl("patch",e.options,e.accessToken).then((function(t){t.access_token=e.accessToken,t.id===Go.id&&(Bo.storageStrategy.set(t),Go.nickname=t.nickname,Object.assign(Go,t),wa.emit("updateProfile",{profile:t}))})):Ea("accessToken","updateuserprofile")},registerWidgetMode:ls,getWidget:cs,getPostedWidgets:function(e){var t=e.programId;return us({programId:t}).then((function(e){return _a("widgets",e)}))},createChatRoom:function(e){return e&&e.visibility&&"members"!==e.visibility&&"everyone"!==e.visibility?Promise.reject("Invalid value for visibility"):Xo.post({url:Bo.createChatUrlTemplate,data:e}).then(gl)},updateChatRoom:function(e,t){return ml({roomId:e}).then((function(e){return Xo.patch({url:e.url,data:t}).then(gl)}))},getChatRoom:function(e){return ml(e).then(gl)},joinChatRoom:function(e){return bl(e,"post").then(yl)},leaveChatRoom:function(e){return bl(e,"delete").then(yl)},getChatUserMutedStatus:function(e){return ml(e).then((function(e){return fetch(fa(Go.id,e.muted_status_url_template)).then((function(e){return e.json()}))}))},getChatRoomMemberships:function(e){return bl(e,"get")},getProfileChatRoomMemberships:function(){return Xo.get({url:Go.chat_room_memberships_url})},getLeaderboards:function(e){return e&&e.programId?ma(e.programId).then((function(e){return e.leaderboards})):Ea("programId","leaderbaord")},getLeaderboard:function(e){return e&&e.leaderboardId?ha.leaderboard(e.leaderboardId):Ea("leaderboardId","leaderboard")},getLeaderboardEntries:function(e){return function(e){return e&&e.leaderboardId?ha.leaderboard(e.leaderboardId).then((function(e){return ka(e.entries_url,(function(e){return Xo.get({url:e})}),(function(e){return{count:e.count,entries:e.results}}))})):Ea("leaderboardId","leaderboard")}(e).then((function(e){return _a("entries",e)}))},getLeaderboardProfileRank:function(e){return e&&e.leaderboardId&&e.profileId?ha.leaderboard(e.leaderboardId).then((function(t){return ha.leaderboardEntryDetail(t.entry_detail_url_template,e.profileId)})):e&&e.leaderboardId?Ea("profileId","leaderboard"):Ea("leaderboardId","leaderboard")},applyLocalization:fl};window.LiveLike=hf,window.ProgramDateTimeSyncStrategy=Xs,window.HlsJsSyncStrategy=Qs,window.html=$i,window.property=xo,window.LiveLikeWidgetElement=$a,window.LiveLikeWidget=e.LiveLikeWidget,window.LiveLikeWidgetMixin=Es,window.LiveLikePoll=Ll,window.LiveLikeQuiz=Cl,window.LiveLikePrediction=Ml,window.LiveLikeFollowUp=Al,window.LiveLikeAlert=e.LiveLikeAlert,window.LiveLikeEmojiSlider=e.LiveLikeEmojiSlider,window.LiveLikeSocialEmbed=e.LiveLikeSocialEmbed,window.LiveLikeRichPost=e.LiveLikeRichPost,window.LiveLikeCheerMeter=e.LiveLikeCheerMeter,window.LiveLikeDescription=e.LiveLikeDescription,window.LiveLikeDismissButton=e.LiveLikeDismissButton,window.LiveLikeImage=e.LiveLikeImage,window.LiveLikeOption=e.LiveLikeOption,window.LiveLikePercentage=e.LiveLikePercentage,window.LiveLikeProgress=e.LiveLikeProgress,window.LiveLikeSelect=e.LiveLikeSelect,window.LiveLikeTimer=e.LiveLikeTimer,window.LiveLikeTitle=e.LiveLikeTitle,window.LiveLikeVoteCount=e.LiveLikeVoteCount,window.LiveLikeWidgetBody=e.LiveLikeWidgetBody,window.LiveLikeWidgetBylines=e.LiveLikeWidgetBylines,window.LiveLikeWidgetFooter=e.LiveLikeWidgetFooter,window.LiveLikeWidgetHeader=e.LiveLikeWidgetHeader,window.LiveLikeWidgetRoot=e.LiveLikeWidgetRoot,window.LiveLikeDuelingProgress=e.LiveLikeDuelingProgress,e.HlsJsSyncStrategy=Qs,e.LiveLikeFollowUp=Al,e.LiveLikePoll=Ll,e.LiveLikePrediction=Ml,e.LiveLikeQuiz=Cl,e.LiveLikeWidgetElement=$a,e.LiveLikeWidgetMixin=Es,e.ProgramDateTimeSyncStrategy=Xs,e.default=hf,e.html=$i,e.init=pf,e.property=xo,Object.defineProperty(e,"__esModule",{value:!0})}));
